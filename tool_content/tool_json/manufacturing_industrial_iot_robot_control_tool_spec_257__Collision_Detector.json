{
  "tool_name": "Collision Detector",
  "tool_description": "Detects potential collisions along trajectory points by checking robot self-collision and collisions with environment obstacles.",
  "parameters": {
    "trajectory_points": {
      "type": "array",
      "required": true,
      "description": "Joint configurations along trajectory, flattened array",
      "items": {
        "type": "number"
      },
      "minItems": 6
    },
    "num_joints": {
      "type": "integer",
      "required": true,
      "description": "Number of joints per configuration"
    },
    "obstacle_positions": {
      "type": "array",
      "required": false,
      "description": "Obstacle center positions as [x1,y1,z1,x2,y2,z2,...]",
      "items": {
        "type": "number"
      },
      "default": []
    },
    "obstacle_sizes": {
      "type": "array",
      "required": false,
      "description": "Obstacle sizes as [r1,r2,...] for spherical obstacles",
      "items": {
        "type": "number"
      },
      "default": []
    },
    "robot_config": {
      "type": "string",
      "required": true,
      "description": "Robot configuration for collision model"
    },
    "safety_distance": {
      "type": "number",
      "required": false,
      "description": "Minimum safe distance to obstacles in meters",
      "default": 0.1
    }
  },
  "error_messages": [
    "Invalid trajectory format: Number of trajectory points must be divisible by num_joints.",
    "Mismatched obstacle data: obstacle_positions and obstacle_sizes arrays must have compatible lengths.",
    "Invalid joint count: num_joints must be between 3 and 10.",
    "Negative safety distance: safety_distance must be non-negative."
  ],
  "usage": "Provide trajectory_points as flattened joint angles, num_joints, robot_config, and optional obstacle data. Returns collision status for each trajectory point.",
  "output_details": {
    "collision_detected": {
      "type": "boolean",
      "description": "Whether any collisions were detected"
    },
    "collision_points": {
      "type": "array",
      "items": {
        "type": "integer"
      },
      "description": "Indices of trajectory points with collisions"
    },
    "min_distances": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Minimum distance to obstacles at each trajectory point"
    },
    "self_collision_points": {
      "type": "array",
      "items": {
        "type": "integer"
      },
      "description": "Indices where self-collision occurs"
    }
  }
}