{
  "tool_name": "normalize_position_data",
  "tool_description": "Standardizes position data from multiple sources into consistent format for comparison and reconciliation.",
  "parameters": {
    "position_data": {
      "type": "array",
      "required": true,
      "description": "Raw position data from various sources",
      "items": {
        "type": "string"
      }
    },
    "source_format": {
      "type": "string",
      "required": true,
      "description": "Format of input data: broker_standard, clearing_format, csv_custom, json_api"
    },
    "target_currency": {
      "type": "string",
      "required": false,
      "description": "Target currency for position values (USD, EUR, GBP, etc.)",
      "default": "USD"
    },
    "price_source": {
      "type": "string",
      "required": false,
      "description": "Price source for market value calculation: live, close, custom",
      "default": "close"
    }
  },
  "error_messages": [
    "Invalid source_format: Must be one of [broker_standard, clearing_format, csv_custom, json_api]",
    "Empty position_data: Input array cannot be empty",
    "Currency conversion failed: Unable to convert to target_currency - check currency code",
    "Price lookup failed: Unable to retrieve prices from specified price_source",
    "Data parsing error: Input data does not match specified source_format"
  ],
  "usage": "Provide position_data array and specify source_format. Optionally set target_currency and price_source. Returns standardized position records for reconciliation.",
  "output_details": {
    "normalized_positions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Standardized position records in format 'symbol:quantity:market_value:currency'"
    },
    "conversion_rate": {
      "type": "number",
      "description": "Currency conversion rate applied"
    },
    "normalization_timestamp": {
      "type": "string",
      "description": "When normalization was performed"
    }
  }
}