{
  "tool_name": "Visit Pattern Analyzer",
  "tool_description": "Analyzes location visit patterns including frequency, duration, and timing to identify user behavior segments and preferences.",
  "parameters": {
    "validated_locations": {
      "type": "array",
      "required": true,
      "description": "Array of validated location data with timestamps",
      "items": {
        "type": "string"
      },
      "minItems": 10,
      "maxItems": 50000
    },
    "minimum_dwell_minutes": {
      "type": "integer",
      "required": false,
      "description": "Minimum dwell time to count as a visit (1-120 minutes)",
      "default": 5
    },
    "clustering_distance": {
      "type": "number",
      "required": false,
      "description": "Distance threshold in meters for location clustering (10-1000)",
      "default": 100
    },
    "analysis_timeframe_days": {
      "type": "integer",
      "required": false,
      "description": "Timeframe for pattern analysis in days (1-365)",
      "default": 30
    },
    "user_id_field": {
      "type": "string",
      "required": true,
      "description": "Field name containing user identifiers in location data"
    },
    "include_temporal_patterns": {
      "type": "boolean",
      "required": false,
      "description": "Whether to analyze temporal visit patterns",
      "default": true
    }
  },
  "error_messages": [
    "Insufficient location data: Provide at least 10 validated location points for meaningful analysis.",
    "Invalid dwell time: Set minimum_dwell_minutes between 1 and 120 minutes.",
    "Clustering distance out of range: Set clustering_distance between 10 and 1000 meters.",
    "Invalid timeframe: Set analysis_timeframe_days between 1 and 365 days.",
    "Missing user ID field: Ensure user_id_field exists in the provided location data."
  ],
  "usage": "Provide validated_locations array and user_id_field; optionally configure minimum_dwell_minutes, clustering_distance, analysis_timeframe_days, and include_temporal_patterns. Returns visit behavior metrics and patterns.",
  "output_details": {
    "total_visits": {
      "type": "integer",
      "description": "Total number of visits identified"
    },
    "unique_locations": {
      "type": "integer",
      "description": "Number of unique locations visited"
    },
    "average_visit_duration": {
      "type": "number",
      "description": "Average visit duration in minutes"
    },
    "visit_frequency_patterns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of visit frequency patterns by user segment"
    },
    "temporal_patterns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of temporal visit patterns by time of day and day of week"
    },
    "behavior_clusters": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of identified behavior clusters with characteristics"
    }
  }
}