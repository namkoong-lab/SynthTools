{
  "tool_name": "Historical Pattern Analyzer",
  "tool_description": "Analyzes customer historical transaction patterns to establish behavioral baselines for anomaly detection.",
  "parameters": {
    "customer_id": {
      "type": "string",
      "required": true,
      "description": "Customer identifier for pattern analysis"
    },
    "analysis_window_days": {
      "type": "integer",
      "required": true,
      "description": "Number of days to analyze (7-365)"
    },
    "pattern_types": {
      "type": "array",
      "required": true,
      "description": "Types of patterns to analyze",
      "items": {
        "type": "string"
      },
      "minItems": 1
    },
    "exclude_weekends": {
      "type": "boolean",
      "required": false,
      "description": "Whether to exclude weekend transactions from analysis",
      "default": false
    },
    "minimum_transactions": {
      "type": "integer",
      "required": false,
      "description": "Minimum number of transactions required for valid analysis",
      "default": 10
    }
  },
  "error_messages": [
    "Invalid analysis window: analysis_window_days must be between 7 and 365",
    "Insufficient transaction history: Customer has fewer transactions than minimum_transactions requirement",
    "Invalid pattern types: Use combinations of [amount, time, location, frequency, merchant_category]",
    "Customer not found: The provided customer_id does not exist"
  ],
  "usage": "Specify customer_id, analysis_window_days, and pattern_types array. Optionally configure exclude_weekends and minimum_transactions for refined analysis.",
  "output_details": {
    "customer_id": {
      "type": "string",
      "description": "Customer identifier"
    },
    "analysis_period": {
      "type": "string",
      "description": "Time period analyzed"
    },
    "transaction_count": {
      "type": "integer",
      "description": "Number of transactions analyzed"
    },
    "amount_patterns": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Typical transaction amounts (percentiles)"
    },
    "time_patterns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Common transaction hours and days"
    },
    "location_patterns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Frequently used transaction locations"
    },
    "frequency_pattern": {
      "type": "number",
      "description": "Average transactions per day"
    }
  }
}