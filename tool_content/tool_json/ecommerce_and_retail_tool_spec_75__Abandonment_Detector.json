{
  "tool_name": "Abandonment Detector",
  "tool_description": "Identifies cart abandonment events based on user inactivity patterns and behavioral signals, triggering recovery workflows.",
  "parameters": {
    "user_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier for the user"
    },
    "cart_value": {
      "type": "number",
      "required": true,
      "description": "Total value of items in the abandoned cart"
    },
    "last_activity_time": {
      "type": "string",
      "required": true,
      "description": "Timestamp of last cart activity",
      "format": "date-time"
    },
    "abandonment_threshold_minutes": {
      "type": "integer",
      "required": false,
      "description": "Minutes of inactivity before considering cart abandoned (default: 30)",
      "default": 30
    },
    "checkout_stage": {
      "type": "string",
      "required": true,
      "description": "Stage where abandonment occurred: cart, shipping, payment, review"
    },
    "device_type": {
      "type": "string",
      "required": false,
      "description": "Device used: mobile, tablet, desktop",
      "default": "desktop"
    }
  },
  "error_messages": [
    "Invalid user_id: Must be a non-empty string",
    "Invalid cart_value: Must be a positive number",
    "Invalid last_activity_time: Must be a valid ISO 8601 date-time string",
    "Invalid abandonment_threshold_minutes: Must be between 5 and 1440 minutes",
    "Invalid checkout_stage: Must be one of [cart, shipping, payment, review]",
    "Invalid device_type: Must be one of [mobile, tablet, desktop]"
  ],
  "usage": "Monitor cart sessions and call when user inactivity exceeds threshold. Provide user_id, cart_value, last_activity_time, and checkout_stage to detect abandonment patterns.",
  "output_details": {
    "abandonment_detected": {
      "type": "boolean",
      "description": "Whether cart abandonment was detected"
    },
    "abandonment_type": {
      "type": "string",
      "description": "Type of abandonment: early_stage, mid_checkout, late_stage"
    },
    "recovery_priority": {
      "type": "string",
      "description": "Priority level for recovery: high, medium, low"
    },
    "recommended_delay": {
      "type": "integer",
      "description": "Recommended delay in minutes before first recovery attempt"
    }
  }
}