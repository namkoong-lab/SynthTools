{
  "tool_name": "Multi-Call Aggregator",
  "tool_description": "Aggregates multiple call identifications from the same recording or time period to produce consensus species identification with weighted confidence scoring.",
  "parameters": {
    "identification_results": {
      "type": "array",
      "required": true,
      "description": "List of individual call identification results",
      "items": {
        "type": "string"
      },
      "minItems": 2,
      "maxItems": 50
    },
    "confidence_scores": {
      "type": "array",
      "required": true,
      "description": "Confidence scores for each identification",
      "items": {
        "type": "number"
      },
      "minItems": 2,
      "maxItems": 50
    },
    "time_stamps": {
      "type": "array",
      "required": false,
      "description": "Timestamps for each identification",
      "items": {
        "type": "string"
      },
      "default": null
    },
    "aggregation_method": {
      "type": "string",
      "required": false,
      "description": "Aggregation method: majority_vote, weighted_average, confidence_threshold",
      "default": "weighted_average"
    },
    "consensus_threshold": {
      "type": "number",
      "required": false,
      "description": "Minimum agreement ratio for consensus (0-1)",
      "default": 0.5
    }
  },
  "error_messages": [
    "Aggregation failed: Unable to aggregate results. Ensure identification_results and confidence_scores have matching lengths.",
    "Insufficient data: Need at least 2 identification results for aggregation.",
    "Mismatched arrays: identification_results and confidence_scores must have the same number of items.",
    "Invalid aggregation method: aggregation_method must be 'majority_vote', 'weighted_average', or 'confidence_threshold'.",
    "Invalid threshold: consensus_threshold must be between 0 and 1."
  ],
  "usage": "Provide identification_results and confidence_scores arrays with matching lengths. Configure aggregation_method and consensus_threshold for desired consensus criteria.",
  "output_details": {
    "consensus_species": {
      "type": "string",
      "description": "Final consensus species identification"
    },
    "consensus_confidence": {
      "type": "number",
      "description": "Aggregated confidence score (0-1)"
    },
    "agreement_ratio": {
      "type": "number",
      "description": "Proportion of calls agreeing with consensus"
    },
    "alternative_species": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Other species identified with lower confidence"
    },
    "total_calls_analyzed": {
      "type": "integer",
      "description": "Number of individual calls processed"
    }
  }
}