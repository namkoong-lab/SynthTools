{
  "tool_name": "Patient_Lab_History_Retriever",
  "tool_description": "Retrieves comprehensive laboratory test history for a specific patient within a specified date range, including all test types and results.",
  "parameters": {
    "patient_id": {
      "type": "string",
      "required": true,
      "description": "Unique patient identifier"
    },
    "start_date": {
      "type": "string",
      "required": true,
      "description": "Start date for history retrieval",
      "format": "date-time"
    },
    "end_date": {
      "type": "string",
      "required": true,
      "description": "End date for history retrieval",
      "format": "date-time"
    },
    "test_types": {
      "type": "array",
      "required": false,
      "description": "Specific test types to retrieve",
      "items": {
        "type": "string"
      },
      "default": "None"
    },
    "include_cancelled": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include cancelled test results",
      "default": false
    },
    "sort_order": {
      "type": "string",
      "required": false,
      "description": "Sort order: NEWEST_FIRST, OLDEST_FIRST, TEST_TYPE",
      "default": "NEWEST_FIRST"
    }
  },
  "error_messages": [
    "Invalid patient ID: Patient identifier not found in the system.",
    "Invalid date range: start_date must be earlier than end_date.",
    "Date format error: Use ISO 8601 date-time format (YYYY-MM-DDTHH:MM:SSZ).",
    "No data found: No laboratory results found for the specified criteria.",
    "Invalid sort order: Use NEWEST_FIRST, OLDEST_FIRST, or TEST_TYPE."
  ],
  "usage": "Provide patient ID and date range to retrieve lab history. Optionally filter by test types and specify sorting preferences.",
  "output_details": {
    "total_results": {
      "type": "integer",
      "description": "Total number of lab results retrieved"
    },
    "test_dates": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of test collection dates"
    },
    "test_names": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of test names corresponding to results"
    },
    "test_values": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of test result values (strings to handle various formats)"
    },
    "date_range_summary": {
      "type": "string",
      "description": "Summary of the retrieved date range and patient information"
    }
  }
}