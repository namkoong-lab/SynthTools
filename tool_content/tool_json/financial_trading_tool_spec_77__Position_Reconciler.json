{
  "tool_name": "Position Reconciler",
  "tool_description": "Reconciles position data by comparing broker-reported positions with calculated positions based on order fills and adjustments.",
  "parameters": {
    "account_id": {
      "type": "string",
      "required": true,
      "description": "Trading account identifier"
    },
    "symbol": {
      "type": "string",
      "required": true,
      "description": "Symbol to reconcile"
    },
    "broker_position": {
      "type": "number",
      "required": true,
      "description": "Current position reported by broker"
    },
    "calculated_position": {
      "type": "number",
      "required": true,
      "description": "Position calculated from order fills"
    },
    "tolerance": {
      "type": "number",
      "required": false,
      "description": "Acceptable difference threshold",
      "default": 0.01
    },
    "last_reconcile_time": {
      "type": "string",
      "required": false,
      "description": "Timestamp of last reconciliation",
      "format": "date-time",
      "default": "None"
    }
  },
  "error_messages": [
    "Position mismatch exceeds tolerance: Difference between broker and calculated positions is greater than tolerance threshold",
    "Invalid account ID: Account identifier not found in system",
    "Invalid symbol: Trading symbol not recognized",
    "Negative tolerance: Tolerance value must be non-negative",
    "Data staleness: Position data is older than acceptable threshold"
  ],
  "usage": "Provide account_id, symbol, broker_position, and calculated_position. Set tolerance for acceptable differences.",
  "output_details": {
    "reconciliation_status": {
      "type": "string",
      "description": "Status (matched, discrepancy, error)"
    },
    "position_difference": {
      "type": "number",
      "description": "Difference between broker and calculated positions"
    },
    "percentage_difference": {
      "type": "number",
      "description": "Percentage difference"
    },
    "reconcile_timestamp": {
      "type": "string",
      "description": "When reconciliation was performed"
    },
    "action_required": {
      "type": "boolean",
      "description": "Whether manual intervention is needed"
    }
  }
}