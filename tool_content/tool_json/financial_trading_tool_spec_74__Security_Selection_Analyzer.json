{
  "tool_name": "Security Selection Analyzer",
  "tool_description": "Analyzes the impact of individual security selection decisions on portfolio performance relative to benchmark composition.",
  "parameters": {
    "portfolio_holdings": {
      "type": "array",
      "required": true,
      "description": "Portfolio security identifiers",
      "items": {
        "type": "string"
      },
      "minItems": 5,
      "maxItems": 1000
    },
    "portfolio_weights": {
      "type": "array",
      "required": true,
      "description": "Portfolio security weights",
      "items": {
        "type": "number"
      },
      "minItems": 5,
      "maxItems": 1000
    },
    "security_returns": {
      "type": "array",
      "required": true,
      "description": "Individual security returns",
      "items": {
        "type": "number"
      },
      "minItems": 5,
      "maxItems": 1000
    },
    "benchmark_weights": {
      "type": "array",
      "required": true,
      "description": "Benchmark security weights",
      "items": {
        "type": "number"
      },
      "minItems": 5,
      "maxItems": 1000
    },
    "analysis_level": {
      "type": "string",
      "required": false,
      "description": "Analysis granularity: security, sector, style",
      "default": "security"
    }
  },
  "error_messages": [
    "Holdings data mismatch: portfolio_holdings, portfolio_weights, security_returns, and benchmark_weights must have equal length.",
    "Invalid weights: Weights must be non-negative and sum to approximately 1.0.",
    "Missing benchmark data: Some portfolio securities not found in benchmark universe.",
    "Extreme return values: Check for potential data errors in security returns.",
    "Invalid analysis level: Use security, sector, or style."
  ],
  "usage": "Input portfolio holdings with weights and returns, plus corresponding benchmark weights. Specify analysis_level for aggregation granularity.",
  "output_details": {
    "selection_effect": {
      "type": "number",
      "description": "Total security selection effect"
    },
    "top_stock_picks": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Best performing security selections"
    },
    "worst_stock_picks": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Worst performing security selections"
    },
    "hit_rate": {
      "type": "number",
      "description": "Percentage of selections that outperformed"
    },
    "average_contribution": {
      "type": "number",
      "description": "Average contribution per security"
    }
  }
}