{
  "tool_name": "Demographic Calculator",
  "tool_description": "Calculates demographic metrics, rates, and derived statistics from census data including population density, demographic ratios, and change rates.",
  "parameters": {
    "census_data_reference": {
      "type": "string",
      "required": true,
      "description": "Reference to loaded census data"
    },
    "calculation_type": {
      "type": "string",
      "required": true,
      "description": "Type of calculation: density, ratio, rate, percentage, change, index"
    },
    "primary_variable": {
      "type": "string",
      "required": true,
      "description": "Primary census variable for calculation"
    },
    "secondary_variable": {
      "type": "string",
      "required": false,
      "description": "Secondary variable for ratio/rate calculations",
      "default": "None"
    },
    "area_data_reference": {
      "type": "string",
      "required": false,
      "description": "Reference to area data for density calculations",
      "default": "None"
    },
    "comparison_year_data": {
      "type": "string",
      "required": false,
      "description": "Reference to comparison year data for change calculations",
      "default": "None"
    },
    "calculation_units": {
      "type": "string",
      "required": false,
      "description": "Units for result: per_square_mile, per_square_km, per_1000, percentage",
      "default": "raw"
    },
    "exclude_zero_values": {
      "type": "boolean",
      "required": false,
      "description": "Whether to exclude zero values from calculations",
      "default": true
    },
    "confidence_interval": {
      "type": "boolean",
      "required": false,
      "description": "Whether to calculate confidence intervals for estimates",
      "default": false
    },
    "aggregation_level": {
      "type": "string",
      "required": false,
      "description": "Aggregation level: individual, county, state, national",
      "default": "individual"
    }
  },
  "error_messages": [
    "Invalid census data reference: Ensure census data is properly loaded and referenced.",
    "Invalid calculation type: Use one of [density, ratio, rate, percentage, change, index].",
    "Invalid primary variable: Primary variable must exist in the census data.",
    "Invalid secondary variable: Secondary variable must exist in the census data for ratio/rate calculations.",
    "Missing area data: Area data reference required for density calculations.",
    "Missing comparison data: Comparison year data required for change calculations.",
    "Invalid calculation units: Use one of [per_square_mile, per_square_km, per_1000, percentage, raw].",
    "Division by zero: Secondary variable contains zero values that would cause division by zero.",
    "Invalid aggregation level: Use one of [individual, county, state, national]."
  ],
  "usage": "Provide census_data_reference, calculation_type, and primary_variable. Add secondary_variable for ratios, area_data_reference for density, comparison_year_data for change calculations. Returns calculated demographic metrics.",
  "output_details": {
    "calculated_values": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Array of calculated demographic values"
    },
    "geographic_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of geographic identifiers corresponding to calculated values"
    },
    "summary_statistics": {
      "type": "string",
      "description": "Summary statistics of calculated values (mean, median, std dev)"
    },
    "calculation_metadata": {
      "type": "string",
      "description": "Metadata about the calculation including units and method"
    },
    "confidence_intervals": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Array of confidence interval bounds if requested"
    }
  }
}