{
  "tool_name": "Purchase History Analyzer",
  "tool_description": "Analyzes user purchase patterns, frequency, seasonal trends, and spending behavior to identify preferences and predict future purchases.",
  "parameters": {
    "user_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier for the user"
    },
    "analysis_period_days": {
      "type": "integer",
      "required": false,
      "description": "Number of days to analyze purchase history",
      "default": 365
    },
    "min_purchase_amount": {
      "type": "number",
      "required": false,
      "description": "Minimum purchase amount to include in analysis",
      "default": 0
    },
    "include_returns": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include returned items in analysis",
      "default": true
    },
    "category_filter": {
      "type": "array",
      "required": false,
      "description": "Specific product categories to analyze",
      "items": {
        "type": "string"
      },
      "default": null
    }
  },
  "error_messages": [
    "Invalid user_id: User ID must be a non-empty string.",
    "Invalid analysis_period: Period must be between 1 and 1095 days (3 years maximum).",
    "Invalid min_purchase_amount: Amount must be zero or positive.",
    "No purchase history: User has no purchase history in the specified period.",
    "Invalid category_filter: Category names must be non-empty strings."
  ],
  "usage": "Provide user_id to analyze purchase history. Optionally filter by time period, amount, returns, and categories. Returns detailed purchase patterns and insights.",
  "output_details": {
    "total_purchases": {
      "type": "integer",
      "description": "Total number of purchases made"
    },
    "total_spent": {
      "type": "number",
      "description": "Total amount spent in the period"
    },
    "average_order_value": {
      "type": "number",
      "description": "Average value per order"
    },
    "purchase_frequency": {
      "type": "number",
      "description": "Average days between purchases"
    },
    "preferred_categories": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Top 5 most purchased categories"
    },
    "seasonal_patterns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Identified seasonal purchasing patterns"
    },
    "repurchase_likelihood": {
      "type": "number",
      "description": "Probability score (0-1) of making another purchase soon"
    }
  }
}