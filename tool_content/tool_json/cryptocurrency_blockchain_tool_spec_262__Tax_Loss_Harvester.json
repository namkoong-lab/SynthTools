{
  "tool_name": "Tax Loss Harvester",
  "tool_description": "Identifies tax loss harvesting opportunities by analyzing unrealized gains and losses across portfolio positions.",
  "parameters": {
    "positions": {
      "type": "array",
      "required": true,
      "description": "Asset symbols with positions to analyze",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 100
    },
    "cost_basis": {
      "type": "array",
      "required": true,
      "description": "Cost basis for each position",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "maxItems": 100
    },
    "current_values": {
      "type": "array",
      "required": true,
      "description": "Current market values for each position",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "maxItems": 100
    },
    "holding_periods": {
      "type": "array",
      "required": true,
      "description": "Days each position has been held",
      "items": {
        "type": "integer"
      },
      "minItems": 1,
      "maxItems": 100
    },
    "tax_jurisdiction": {
      "type": "string",
      "required": false,
      "description": "Tax jurisdiction for calculations",
      "default": "US"
    },
    "minimum_loss_threshold": {
      "type": "number",
      "required": false,
      "description": "Minimum loss amount to consider harvesting",
      "default": 100.0
    },
    "avoid_wash_sales": {
      "type": "boolean",
      "required": false,
      "description": "Whether to avoid wash sale violations",
      "default": true
    }
  },
  "error_messages": [
    "Array length mismatch: All input arrays must have the same length.",
    "Invalid cost basis: Cost basis values must be positive numbers.",
    "Invalid current values: Current values must be positive numbers.",
    "Invalid holding periods: Holding periods must be non-negative integers.",
    "Unsupported tax jurisdiction: Use supported jurisdictions like US, EU, UK, CA.",
    "Minimum threshold invalid: minimum_loss_threshold must be a positive number."
  ],
  "usage": "Provide positions with their cost_basis, current_values, and holding_periods. Configure tax_jurisdiction and harvesting parameters. Returns tax loss harvesting recommendations.",
  "output_details": {
    "harvest_candidates": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Asset symbols recommended for tax loss harvesting"
    },
    "potential_losses": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Potential tax losses for each candidate"
    },
    "estimated_tax_savings": {
      "type": "number",
      "description": "Estimated total tax savings from harvesting"
    },
    "wash_sale_warnings": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Warnings about potential wash sale violations"
    }
  }
}