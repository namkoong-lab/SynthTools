{
  "tool_name": "Batch Management Tool",
  "tool_description": "Manages multiple units or batches of the same product with different expiration dates, implementing FIFO (First In, First Out) rotation strategies.",
  "parameters": {
    "product_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier of the product for batch management"
    },
    "batch_identifiers": {
      "type": "array",
      "required": true,
      "description": "List of batch or lot numbers for tracking",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 50
    },
    "batch_expiration_dates": {
      "type": "array",
      "required": true,
      "description": "Expiration dates corresponding to each batch",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 50
    },
    "batch_quantities": {
      "type": "array",
      "required": true,
      "description": "Quantities for each batch",
      "items": {
        "type": "integer"
      },
      "minItems": 1,
      "maxItems": 50
    },
    "rotation_strategy": {
      "type": "string",
      "required": false,
      "description": "Inventory rotation method: FIFO, LIFO, or expiry_based",
      "default": "FIFO"
    },
    "consumption_order": {
      "type": "array",
      "required": false,
      "description": "Custom order for batch consumption",
      "items": {
        "type": "string"
      },
      "default": "None"
    }
  },
  "error_messages": [
    "Invalid product ID: Product ID must be a valid registered product identifier.",
    "Mismatched array lengths: batch_identifiers, batch_expiration_dates, and batch_quantities must have the same number of elements.",
    "Invalid batch data: All batch identifiers must be unique and non-empty strings.",
    "Invalid expiration dates: All batch expiration dates must be valid ISO 8601 date-time format.",
    "Invalid quantities: All batch quantities must be positive integers.",
    "Invalid rotation strategy: Rotation strategy must be one of: FIFO, LIFO, expiry_based.",
    "Invalid consumption order: Custom consumption order must contain valid batch identifiers."
  ],
  "usage": "Provide product_id, batch_identifiers, batch_expiration_dates, and batch_quantities as parallel arrays. Optionally set rotation_strategy and consumption_order for custom management.",
  "output_details": {
    "batch_management_id": {
      "type": "string",
      "description": "Unique identifier for this batch management setup"
    },
    "next_batch_to_use": {
      "type": "string",
      "description": "Batch identifier that should be consumed next"
    },
    "total_quantity": {
      "type": "integer",
      "description": "Total quantity across all batches"
    },
    "earliest_expiration": {
      "type": "string",
      "description": "Earliest expiration date among all batches"
    },
    "rotation_applied": {
      "type": "string",
      "description": "Rotation strategy that was applied"
    }
  }
}