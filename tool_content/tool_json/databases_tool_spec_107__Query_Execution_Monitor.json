{
  "tool_name": "Query Execution Monitor",
  "tool_description": "Monitors real-time query execution, capturing performance metrics including execution time, resource usage, and query characteristics for performance analysis.",
  "parameters": {
    "connection_id": {
      "type": "string",
      "required": true,
      "description": "Database connection identifier from Database Connection Manager"
    },
    "monitoring_duration": {
      "type": "integer",
      "required": true,
      "description": "Duration to monitor in seconds (60-86400)"
    },
    "sample_rate": {
      "type": "number",
      "required": false,
      "default": 1.0,
      "description": "Fraction of queries to sample (0.1-1.0)"
    },
    "min_execution_time": {
      "type": "number",
      "required": false,
      "default": 0.1,
      "description": "Minimum execution time in seconds to capture (0.01-10.0)"
    },
    "include_system_queries": {
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Whether to include system/internal queries in monitoring"
    },
    "capture_query_text": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Whether to capture the actual query text"
    }
  },
  "error_messages": [
    "Invalid connection: The specified connection_id is not active or has expired.",
    "Monitoring duration out of range: Duration must be between 60 and 86400 seconds.",
    "Invalid sample rate: Sample rate must be between 0.1 and 1.0.",
    "Insufficient permissions: Database user lacks permissions to access query execution statistics.",
    "Resource limit exceeded: Monitoring cannot start due to system resource constraints."
  ],
  "usage": "Provide a valid connection_id and monitoring_duration. Optionally configure sample_rate, min_execution_time, and capture options. The tool returns real-time query execution metrics.",
  "output_details": {
    "total_queries_monitored": {
      "type": "integer",
      "description": "Total number of queries captured during monitoring"
    },
    "monitoring_start_time": {
      "type": "string",
      "description": "Start timestamp of monitoring session"
    },
    "monitoring_end_time": {
      "type": "string",
      "description": "End timestamp of monitoring session"
    },
    "execution_times": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Array of query execution times in seconds"
    },
    "query_types": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of query types (SELECT, INSERT, UPDATE, DELETE)"
    },
    "average_execution_time": {
      "type": "number",
      "description": "Average execution time across all monitored queries"
    }
  }
}