{
  "tool_name": "Medical History Parser",
  "tool_description": "Extracts and structures key medical history elements from clinical narratives and structured data for risk assessment.",
  "parameters": {
    "patient_id": {
      "type": "string",
      "required": true,
      "description": "Unique patient identifier"
    },
    "clinical_notes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Array of clinical notes and history text",
      "minItems": 1,
      "maxItems": 100
    },
    "structured_history": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "description": "Array of structured medical history codes (ICD-10)",
      "default": "None"
    },
    "date_range_start": {
      "type": "string",
      "required": false,
      "description": "Start date for history extraction (ISO 8601)",
      "format": "date-time",
      "default": "None"
    },
    "date_range_end": {
      "type": "string",
      "required": false,
      "description": "End date for history extraction (ISO 8601)",
      "format": "date-time",
      "default": "None"
    }
  },
  "error_messages": [
    "Invalid patient ID: Patient ID format is incorrect or not found",
    "Empty clinical notes: At least one clinical note must be provided",
    "Invalid date range: Start date must be before end date, use ISO 8601 format",
    "Text processing failed: Unable to parse clinical notes due to encoding or format issues"
  ],
  "usage": "Provide patient_id and clinical_notes array. Optionally include structured_history codes and date_range filters. Tool extracts medical conditions, procedures, and family history.",
  "output_details": {
    "parsed_conditions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of identified medical conditions"
    },
    "procedures_history": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of medical procedures performed"
    },
    "family_history": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Relevant family medical history"
    },
    "risk_factors": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Identified clinical risk factors"
    },
    "parsing_confidence": {
      "type": "number",
      "description": "Confidence score 0-100 for extraction accuracy"
    }
  }
}