{
  "tool_name": "Deal Detection Engine",
  "tool_description": "Analyzes current prices against historical data and market conditions to identify deals, discounts, and optimal buying opportunities.",
  "parameters": {
    "current_price": {
      "type": "number",
      "required": true,
      "description": "Current price of the product"
    },
    "historical_prices": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "required": true,
      "description": "Array of historical prices for comparison"
    },
    "deal_threshold": {
      "type": "number",
      "required": false,
      "default": 0.15,
      "description": "Percentage below average price to consider a deal (0.05 to 0.5)"
    },
    "minimum_savings": {
      "type": "number",
      "required": false,
      "default": 5.0,
      "description": "Minimum dollar amount savings to qualify as a deal"
    },
    "competitor_prices": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "required": false,
      "default": "None",
      "description": "Array of current competitor prices for comparison"
    },
    "include_shipping_deals": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Whether to factor in shipping cost savings"
    }
  },
  "error_messages": [
    "Invalid current_price: Must be a positive number greater than 0",
    "Invalid historical_prices: Array cannot be empty and must contain positive numbers",
    "Invalid deal_threshold: Must be between 0.05 and 0.5 (5% to 50%)",
    "Invalid minimum_savings: Must be a positive number",
    "Invalid competitor_prices: If provided, array must contain positive numbers",
    "Insufficient historical data: Need at least 5 historical price points for reliable deal detection"
  ],
  "usage": "Provide current_price and historical_prices array to detect deals. Configure deal_threshold and minimum_savings to set deal criteria. Optionally include competitor_prices for market comparison. Returns deal status and savings information.",
  "output_details": {
    "is_deal": {
      "type": "boolean",
      "description": "Whether the current price qualifies as a deal"
    },
    "deal_quality": {
      "type": "string",
      "description": "Quality of the deal: excellent, good, fair, or poor"
    },
    "savings_amount": {
      "type": "number",
      "description": "Dollar amount savings compared to average historical price"
    },
    "savings_percentage": {
      "type": "number",
      "description": "Percentage savings compared to average historical price"
    },
    "price_rank": {
      "type": "string",
      "description": "How current price ranks: lowest_ever, bottom_quartile, median, or above_average"
    },
    "competitor_advantage": {
      "type": "boolean",
      "description": "Whether current price beats competitor prices"
    }
  }
}