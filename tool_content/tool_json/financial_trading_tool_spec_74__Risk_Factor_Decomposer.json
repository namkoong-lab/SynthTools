{
  "tool_name": "Risk Factor Decomposer",
  "tool_description": "Decomposes portfolio returns into systematic risk factor exposures using multi-factor models such as Fama-French, Carhart, or custom factor models.",
  "parameters": {
    "portfolio_returns": {
      "type": "array",
      "required": true,
      "description": "Time series of portfolio returns",
      "items": {
        "type": "number"
      },
      "minItems": 36
    },
    "factor_model": {
      "type": "string",
      "required": true,
      "description": "Risk factor model: fama_french_3, fama_french_5, carhart_4, custom"
    },
    "market_returns": {
      "type": "array",
      "required": true,
      "description": "Market factor returns",
      "items": {
        "type": "number"
      },
      "minItems": 36
    },
    "factor_returns": {
      "type": "array",
      "required": false,
      "description": "Additional factor returns (for multi-factor models)",
      "items": {
        "type": "number"
      },
      "default": "None"
    },
    "factor_names": {
      "type": "array",
      "required": false,
      "description": "Names of additional factors",
      "items": {
        "type": "string"
      },
      "default": "None"
    },
    "risk_free_rate": {
      "type": "array",
      "required": false,
      "description": "Risk-free rate time series",
      "items": {
        "type": "number"
      },
      "default": "None"
    },
    "rolling_window": {
      "type": "integer",
      "required": false,
      "description": "Rolling window size for time-varying analysis (months)",
      "default": 36
    }
  },
  "error_messages": [
    "Insufficient data: Minimum 36 observations required for factor analysis.",
    "Model specification error: Selected factor model requires additional factor data.",
    "Time series length mismatch: All return series must have equal length.",
    "Invalid factor model: Choose from fama_french_3, fama_french_5, carhart_4, or custom.",
    "Factor data inconsistency: factor_returns and factor_names arrays must match in length.",
    "Rolling window too small: Minimum window size is 24 months."
  ],
  "usage": "Provide portfolio_returns and specify factor_model. Include required factor data based on model selection. Set rolling_window for time-varying factor analysis.",
  "output_details": {
    "factor_loadings": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Factor beta coefficients"
    },
    "factor_contributions": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Contribution of each factor to returns"
    },
    "alpha": {
      "type": "number",
      "description": "Unexplained return (alpha)"
    },
    "r_squared": {
      "type": "number",
      "description": "Model explanatory power"
    },
    "tracking_error_explained": {
      "type": "number",
      "description": "Portion of tracking error explained by factors"
    }
  }
}