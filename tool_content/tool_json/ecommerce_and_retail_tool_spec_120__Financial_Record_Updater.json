{
  "tool_name": "Financial Record Updater",
  "tool_description": "Updates accounting records with refund transactions, including journal entries and general ledger adjustments.",
  "parameters": {
    "transaction_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier for the refund transaction"
    },
    "refund_amount": {
      "type": "number",
      "required": true,
      "description": "Total refund amount including tax adjustments"
    },
    "tax_amount": {
      "type": "number",
      "required": true,
      "description": "Tax portion of the refund"
    },
    "account_codes": {
      "type": "array",
      "required": true,
      "description": "General ledger account codes to be updated",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 10
    },
    "customer_id": {
      "type": "string",
      "required": true,
      "description": "Customer identifier for the refund"
    },
    "order_date": {
      "type": "string",
      "required": true,
      "description": "Date of original order",
      "format": "date-time"
    },
    "refund_date": {
      "type": "string",
      "required": true,
      "description": "Date when refund was processed",
      "format": "date-time"
    },
    "department_code": {
      "type": "string",
      "required": false,
      "description": "Department code for cost allocation",
      "default": "RETAIL"
    },
    "posting_period": {
      "type": "string",
      "required": false,
      "description": "Accounting period for the transaction (YYYY-MM format)",
      "default": null
    }
  },
  "error_messages": [
    "Invalid account codes: One or more account codes not found in chart of accounts.",
    "Posting period closed: Cannot post to a closed accounting period.",
    "Amount validation failed: Refund amount and tax amount must be positive numbers.",
    "Customer not found: Customer ID does not exist in the system.",
    "Date format error: Dates must be in valid ISO 8601 format.",
    "Duplicate transaction: Transaction ID already exists in financial records."
  ],
  "usage": "Provide transaction_id, amounts, account_codes, customer_id, and relevant dates to update financial records with the refund transaction.",
  "output_details": {
    "journal_entry_id": {
      "type": "string",
      "description": "Unique identifier for the created journal entry"
    },
    "posting_status": {
      "type": "string",
      "description": "Status of the posting (posted, pending, failed)"
    },
    "affected_accounts": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of account codes that were updated"
    },
    "total_debits": {
      "type": "number",
      "description": "Total debit amount posted"
    },
    "total_credits": {
      "type": "number",
      "description": "Total credit amount posted"
    }
  }
}