{
  "tool_name": "Index Usage Analyzer",
  "tool_description": "Analyzes index usage patterns in execution plans, identifying unused indexes, missing indexes, and inefficient index selections.",
  "parameters": {
    "parsed_plan": {
      "type": "string",
      "required": true,
      "description": "Structured plan data from Plan Parser"
    },
    "table_schemas": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Schema information for tables in the query"
    },
    "existing_indexes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "List of existing indexes on queried tables"
    }
  },
  "error_messages": [
    "Invalid parsed plan: Plan data is malformed or missing index information.",
    "Missing table schemas: Provide complete schema information for all tables referenced in query.",
    "Invalid index definitions: One or more index definitions are malformed.",
    "Schema mismatch: Table schemas don't match tables referenced in execution plan."
  ],
  "usage": "Provide structured plan data, table schemas, and existing index information. The tool will analyze index usage and identify optimization opportunities.",
  "output_details": {
    "used_indexes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Indexes actually used in the execution plan"
    },
    "unused_indexes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Available indexes not used in execution"
    },
    "index_efficiency_score": {
      "type": "number",
      "description": "Overall index usage efficiency score (0-100)"
    },
    "missing_index_suggestions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Suggested indexes that could improve performance"
    }
  }
}