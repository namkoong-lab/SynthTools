{
  "tool_name": "Carrier Performance Calculator",
  "tool_description": "Calculates key performance metrics for shipping carriers including on-time delivery rates, transit times, and reliability scores.",
  "parameters": {
    "shipment_data_id": {
      "type": "string",
      "required": true,
      "description": "Reference ID for previously retrieved shipping data"
    },
    "metric_types": {
      "type": "array",
      "required": true,
      "description": "Types of metrics to calculate",
      "items": {
        "type": "string"
      },
      "minItems": 1
    },
    "grouping_dimension": {
      "type": "string",
      "required": false,
      "description": "Dimension to group results by: carrier, service_type, region, or time_period",
      "default": "carrier"
    },
    "include_percentiles": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include percentile calculations",
      "default": true
    },
    "minimum_sample_size": {
      "type": "integer",
      "required": false,
      "description": "Minimum number of shipments required for valid metrics",
      "default": 10
    }
  },
  "error_messages": [
    "Invalid shipment data ID: The provided data reference cannot be found or has expired.",
    "Insufficient data: Not enough shipments meet the minimum sample size requirement.",
    "Invalid metric type: Supported metrics are on_time_rate, avg_transit_time, reliability_score, damage_rate.",
    "Invalid grouping dimension: Use carrier, service_type, region, or time_period."
  ],
  "usage": "Provide shipment_data_id and specify metric_types to calculate. Set grouping_dimension to organize results and adjust minimum_sample_size as needed.",
  "output_details": {
    "performance_metrics": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Calculated performance metrics formatted as key-value pairs"
    },
    "sample_sizes": {
      "type": "array",
      "items": {
        "type": "integer"
      },
      "description": "Number of shipments used for each metric calculation"
    },
    "confidence_scores": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Statistical confidence scores for each metric"
    }
  }
}