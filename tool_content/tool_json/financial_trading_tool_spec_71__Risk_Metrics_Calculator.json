{
  "tool_name": "Risk Metrics Calculator",
  "tool_description": "Calculates regulatory risk metrics including VaR, leverage ratios, and concentration measures from position and trade data.",
  "parameters": {
    "calculation_date": {
      "type": "string",
      "format": "date-time",
      "required": true,
      "description": "Date for risk metric calculations"
    },
    "confidence_level": {
      "type": "number",
      "required": true,
      "description": "Confidence level for VaR calculation (0.90-0.99)"
    },
    "holding_period": {
      "type": "integer",
      "required": true,
      "description": "Holding period in days for risk calculations"
    },
    "portfolio_value": {
      "type": "number",
      "required": true,
      "description": "Total portfolio value for calculations"
    },
    "regulatory_capital": {
      "type": "number",
      "required": true,
      "description": "Regulatory capital amount"
    },
    "risk_methodology": {
      "type": "string",
      "required": false,
      "description": "Risk calculation methodology (historical, monte_carlo, parametric)",
      "default": "historical"
    },
    "include_stress_tests": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include regulatory stress test scenarios",
      "default": false
    },
    "concentration_threshold": {
      "type": "number",
      "required": false,
      "description": "Threshold percentage for concentration risk calculation",
      "default": 5.0
    },
    "correlation_adjustment": {
      "type": "boolean",
      "required": false,
      "description": "Apply correlation adjustments to risk metrics",
      "default": true
    },
    "market_data_source": {
      "type": "string",
      "required": false,
      "description": "Source for market data used in calculations",
      "default": "primary"
    }
  },
  "error_messages": [
    "Invalid confidence level: Must be between 0.90 and 0.99",
    "Invalid holding period: Must be a positive integer between 1 and 250 days",
    "Insufficient data: Not enough historical data for the selected methodology",
    "Invalid methodology: Use one of [historical, monte_carlo, parametric]",
    "Negative values: portfolio_value and regulatory_capital must be positive",
    "Market data unavailable: Cannot access market data for the specified date"
  ],
  "usage": "Provide calculation_date, confidence_level, holding_period, portfolio_value, and regulatory_capital. Optionally specify risk_methodology and other parameters for customized calculations.",
  "output_details": {
    "value_at_risk": {
      "type": "number",
      "description": "Calculated Value at Risk"
    },
    "expected_shortfall": {
      "type": "number",
      "description": "Expected shortfall (conditional VaR)"
    },
    "leverage_ratio": {
      "type": "number",
      "description": "Regulatory leverage ratio"
    },
    "concentration_risk": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Concentration risk measures by asset class"
    },
    "stress_test_results": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Results from regulatory stress test scenarios"
    }
  }
}