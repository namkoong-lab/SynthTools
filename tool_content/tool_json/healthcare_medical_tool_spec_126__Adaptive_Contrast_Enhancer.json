{
  "tool_name": "Adaptive Contrast Enhancer",
  "tool_description": "Performs local adaptive contrast enhancement to improve visibility of anatomical structures in medical images with varying contrast regions.",
  "parameters": {
    "image_data": {
      "type": "array",
      "required": true,
      "description": "Input image data as flattened array",
      "items": {
        "type": "number"
      }
    },
    "image_dimensions": {
      "type": "array",
      "required": true,
      "description": "Image dimensions [height, width]",
      "items": {
        "type": "integer"
      }
    },
    "window_size": {
      "type": "integer",
      "required": false,
      "description": "Local window size for adaptive processing (8-128)",
      "default": 32
    },
    "enhancement_strength": {
      "type": "number",
      "required": false,
      "description": "Enhancement strength factor (0.5-3.0)",
      "default": 1.5
    },
    "noise_threshold": {
      "type": "number",
      "required": false,
      "description": "Threshold to avoid enhancing noise regions (0.01-0.1)",
      "default": 0.05
    },
    "preserve_mean": {
      "type": "boolean",
      "required": false,
      "description": "Whether to preserve original image mean intensity",
      "default": true
    },
    "anatomical_region": {
      "type": "string",
      "required": false,
      "description": "Anatomical region type for optimized enhancement: chest, abdomen, brain, extremities",
      "default": null
    },
    "mask_background": {
      "type": "boolean",
      "required": false,
      "description": "Whether to mask background regions from enhancement",
      "default": true
    }
  },
  "error_messages": [
    "Invalid window size: Window size must be between 8 and 128 and should be appropriate for image dimensions.",
    "Invalid enhancement strength: Enhancement strength must be between 0.5 and 3.0.",
    "Invalid noise threshold: Noise threshold must be between 0.01 and 0.1.",
    "Unsupported anatomical region: Use one of [chest, abdomen, brain, extremities] or leave null.",
    "Window size too large: Window size should not exceed half of the minimum image dimension."
  ],
  "usage": "Provide image_data and image_dimensions. Adjust window_size based on structure scale, enhancement_strength for enhancement level, and set anatomical_region for optimized processing.",
  "output_details": {
    "enhanced_image": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Adaptively contrast-enhanced image data"
    },
    "enhancement_map": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Map showing enhancement factors applied to each region"
    },
    "local_contrast_scores": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Local contrast improvement scores across image regions"
    },
    "overall_enhancement_score": {
      "type": "number",
      "description": "Overall enhancement quality score (0-100)"
    }
  }
}