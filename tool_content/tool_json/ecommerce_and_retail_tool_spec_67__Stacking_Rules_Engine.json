{
  "tool_name": "Stacking Rules Engine",
  "tool_description": "Evaluates and enforces discount stacking rules to determine which combinations of discounts can be applied together.",
  "parameters": {
    "discount_ids": {
      "type": "array",
      "required": true,
      "description": "List of discount IDs to evaluate for stacking",
      "items": {
        "type": "string"
      },
      "minItems": 2,
      "maxItems": 10
    },
    "user_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier of the user"
    },
    "cart_total": {
      "type": "number",
      "required": true,
      "description": "Current cart total before discounts"
    }
  },
  "error_messages": [
    "Insufficient discounts: At least 2 discounts are required for stacking evaluation.",
    "Invalid discount IDs: All provided discount IDs must exist in the system.",
    "Invalid user ID: A valid user identifier must be provided.",
    "Invalid cart total: Cart total must be a positive number.",
    "Stacking evaluation failed: Unable to process stacking rules due to system error."
  ],
  "usage": "Provide an array of discount_ids, user_id, and cart_total to evaluate valid stacking combinations. Returns allowable combinations and conflicts.",
  "output_details": {
    "valid_combinations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Valid discount combinations that can be stacked"
    },
    "conflicting_discounts": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Discounts that cannot be combined"
    },
    "recommended_combination": {
      "type": "string",
      "description": "Best combination for maximum savings"
    },
    "stacking_violations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Reasons why certain combinations are not allowed"
    }
  }
}