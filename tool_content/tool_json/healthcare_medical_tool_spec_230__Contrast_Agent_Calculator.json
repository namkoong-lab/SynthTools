{
  "tool_name": "Contrast Agent Calculator",
  "tool_description": "Calculates appropriate contrast agent dosage based on patient characteristics, kidney function, and imaging protocol requirements.",
  "parameters": {
    "patient_weight_kg": {
      "type": "number",
      "required": true,
      "description": "Patient weight in kilograms"
    },
    "contrast_type": {
      "type": "string",
      "required": true,
      "description": "Type of contrast: iodinated, gadolinium, barium, oral, rectal"
    },
    "kidney_function_egfr": {
      "type": "number",
      "required": true,
      "description": "Estimated glomerular filtration rate in mL/min/1.73mÂ²"
    },
    "imaging_modality": {
      "type": "string",
      "required": true,
      "description": "Imaging type: CT, MRI, fluoroscopy, upper_gi, lower_gi"
    },
    "injection_rate_ml_per_sec": {
      "type": "number",
      "required": false,
      "description": "Desired injection rate in mL per second",
      "default": 3.0
    },
    "scan_delay_seconds": {
      "type": "integer",
      "required": false,
      "description": "Delay between injection and scan start in seconds",
      "default": 30
    },
    "patient_age_years": {
      "type": "integer",
      "required": false,
      "description": "Patient age in years",
      "default": null
    },
    "diabetes_status": {
      "type": "boolean",
      "required": false,
      "description": "Whether patient has diabetes",
      "default": false
    },
    "allergy_history": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "description": "List of known allergies",
      "default": []
    },
    "previous_contrast_reactions": {
      "type": "boolean",
      "required": false,
      "description": "History of previous contrast reactions",
      "default": false
    }
  },
  "error_messages": [
    "Invalid patient weight: Weight must be a positive number between 1 and 300 kg.",
    "Unsupported contrast type: Use one of [iodinated, gadolinium, barium, oral, rectal].",
    "Invalid kidney function: eGFR must be a positive number, typically between 15-120.",
    "Contrast contraindicated: Severe kidney dysfunction contraindicates contrast administration.",
    "Invalid imaging modality: Use one of [CT, MRI, fluoroscopy, upper_gi, lower_gi].",
    "Invalid injection rate: Injection rate must be between 0.5 and 10.0 mL/sec.",
    "Invalid scan delay: Scan delay must be between 0 and 300 seconds.",
    "High risk patient: Patient requires special premedication protocols due to risk factors."
  ],
  "usage": "Provide patient_weight_kg, contrast_type, kidney_function_egfr, and imaging_modality. Optionally specify injection parameters and risk factors for personalized dosing.",
  "output_details": {
    "contrast_volume_ml": {
      "type": "number",
      "description": "Recommended contrast volume in milliliters"
    },
    "dosage_approved": {
      "type": "boolean",
      "description": "Whether the calculated dosage is safe for administration"
    },
    "premedication_required": {
      "type": "boolean",
      "description": "Whether premedication is recommended"
    },
    "risk_level": {
      "type": "string",
      "description": "Risk assessment: low, moderate, high"
    },
    "special_instructions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Special instructions for contrast administration"
    }
  }
}