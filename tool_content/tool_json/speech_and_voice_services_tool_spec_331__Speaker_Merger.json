{
  "tool_name": "Speaker Merger",
  "tool_description": "Combines speaker identification results with transcribed text to create speaker-attributed transcription segments.",
  "parameters": {
    "transcription_segments": {
      "type": "array",
      "required": true,
      "description": "Array of transcribed text segments",
      "items": {
        "type": "string"
      }
    },
    "speaker_labels": {
      "type": "array",
      "required": true,
      "description": "Array of speaker labels corresponding to each transcription segment",
      "items": {
        "type": "string"
      }
    },
    "merge_consecutive_speakers": {
      "type": "boolean",
      "required": false,
      "description": "Merge consecutive segments from the same speaker",
      "default": true
    },
    "min_speaker_change_gap_ms": {
      "type": "integer",
      "required": false,
      "description": "Minimum gap in milliseconds to consider a speaker change",
      "default": 500
    }
  },
  "error_messages": [
    "Array length mismatch: Transcription segments and speaker labels must have the same length.",
    "Empty arrays: Both transcription segments and speaker labels arrays cannot be empty.",
    "Invalid gap duration: Minimum speaker change gap must be between 100 and 5000 milliseconds.",
    "Merge failed: Unable to merge speaker data with transcription segments."
  ],
  "usage": "Provide transcription segments and corresponding speaker labels to create speaker-attributed text. Enable consecutive speaker merging for cleaner output.",
  "output_details": {
    "speaker_attributed_segments": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of text segments with speaker attribution in format 'Speaker_X: text'"
    },
    "speaker_turns": {
      "type": "integer",
      "description": "Total number of speaker turn changes"
    },
    "speakers_active": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of unique speakers found in the transcription"
    }
  }
}