{
  "tool_name": "Waterfall Distribution Engine",
  "tool_description": "Distributes revenue among multiple participants according to waterfall hierarchies and priority structures defined in contracts.",
  "parameters": {
    "total_available_revenue": {
      "type": "number",
      "required": true,
      "description": "Total revenue available for distribution"
    },
    "participant_names": {
      "type": "array",
      "required": true,
      "description": "Names of participants in distribution waterfall",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 50
    },
    "participant_percentages": {
      "type": "array",
      "required": true,
      "description": "Percentage shares for each participant",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "maxItems": 50
    },
    "priority_levels": {
      "type": "array",
      "required": true,
      "description": "Priority level for each participant (1=highest)",
      "items": {
        "type": "integer"
      },
      "minItems": 1,
      "maxItems": 50
    },
    "participant_caps": {
      "type": "array",
      "required": false,
      "description": "Maximum payment cap for each participant",
      "items": {
        "type": "number"
      },
      "default": "None"
    },
    "floors": {
      "type": "array",
      "required": false,
      "description": "Minimum payment floor for each participant",
      "items": {
        "type": "number"
      },
      "default": "None"
    },
    "recoupment_amounts": {
      "type": "array",
      "required": false,
      "description": "Outstanding recoupment for each participant",
      "items": {
        "type": "number"
      },
      "default": "None"
    },
    "waterfall_type": {
      "type": "string",
      "required": false,
      "description": "Type of waterfall: standard, cross-collateralized, corridor",
      "default": "standard"
    }
  },
  "error_messages": [
    "Mismatched array lengths: All participant arrays must have the same length.",
    "Invalid percentage: All percentages must be between 0 and 100.",
    "Invalid priority: Priority levels must be positive integers starting from 1.",
    "Negative amounts: Revenue, caps, floors, and recoupment amounts must be non-negative.",
    "Invalid waterfall type: Use one of [standard, cross-collateralized, corridor].",
    "Percentage total exceeds 100: Sum of percentages cannot exceed 100% for any priority level."
  ],
  "usage": "Provide total revenue and equal-length arrays for participant details. The tool will distribute revenue according to priority levels and percentages.",
  "output_details": {
    "participant_payments": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Final payment amount for each participant"
    },
    "remaining_revenue": {
      "type": "number",
      "description": "Undistributed revenue after waterfall"
    },
    "distribution_summary": {
      "type": "string",
      "description": "Summary of the distribution process"
    },
    "recoupment_recovered": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Amount of recoupment recovered for each participant"
    }
  }
}