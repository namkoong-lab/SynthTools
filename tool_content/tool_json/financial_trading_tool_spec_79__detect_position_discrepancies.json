{
  "tool_name": "detect_position_discrepancies",
  "tool_description": "Compares position data from different sources to identify discrepancies in quantities, values, or holdings.",
  "parameters": {
    "source1_positions": {
      "type": "array",
      "required": true,
      "description": "Position data from first source",
      "items": {
        "type": "string"
      }
    },
    "source2_positions": {
      "type": "array",
      "required": true,
      "description": "Position data from second source",
      "items": {
        "type": "string"
      }
    },
    "source1_name": {
      "type": "string",
      "required": true,
      "description": "Name or identifier for first data source"
    },
    "source2_name": {
      "type": "string",
      "required": true,
      "description": "Name or identifier for second data source"
    },
    "tolerance_pct": {
      "type": "number",
      "required": false,
      "description": "Percentage tolerance for value differences (0-10)",
      "default": 0.01
    },
    "quantity_tolerance": {
      "type": "integer",
      "required": false,
      "description": "Absolute tolerance for quantity differences",
      "default": 0
    }
  },
  "error_messages": [
    "Invalid tolerance values: tolerance_pct must be 0-10, quantity_tolerance must be non-negative integer",
    "Empty position arrays: Both source arrays must contain position data",
    "Invalid position format: Position data must be in standardized format",
    "Source names required: Both source1_name and source2_name must be provided"
  ],
  "usage": "Provide position arrays from two sources with source names. Set tolerance levels for acceptable differences. Returns detailed discrepancy analysis.",
  "output_details": {
    "discrepancies_found": {
      "type": "boolean",
      "description": "Whether any discrepancies were detected"
    },
    "quantity_breaks": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Symbols with quantity mismatches"
    },
    "value_breaks": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Symbols with value discrepancies"
    },
    "missing_positions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Positions present in one source but not the other"
    },
    "total_discrepancies": {
      "type": "integer",
      "description": "Total number of discrepancies found"
    }
  }
}