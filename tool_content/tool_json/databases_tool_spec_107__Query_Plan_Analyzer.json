{
  "tool_name": "Query Plan Analyzer",
  "tool_description": "Analyzes SQL query execution plans to identify performance bottlenecks, inefficient operations, and optimization opportunities.",
  "parameters": {
    "query_text": {
      "type": "string",
      "required": true,
      "description": "SQL query text to analyze"
    },
    "execution_plan": {
      "type": "string",
      "required": true,
      "description": "Query execution plan (JSON or XML format)"
    },
    "database_type": {
      "type": "string",
      "required": true,
      "description": "Database type (postgresql, mysql, oracle, sqlserver)"
    },
    "table_schemas": {
      "type": "array",
      "required": false,
      "default": [],
      "description": "Array of table schema information",
      "items": {
        "type": "string"
      },
      "maxItems": 100
    },
    "index_information": {
      "type": "array",
      "required": false,
      "default": [],
      "description": "Array of available indexes",
      "items": {
        "type": "string"
      },
      "maxItems": 500
    }
  },
  "error_messages": [
    "Invalid query syntax: The provided SQL query contains syntax errors.",
    "Unsupported database type: Use one of the supported database types (postgresql, mysql, oracle, sqlserver).",
    "Invalid execution plan format: Execution plan must be valid JSON or XML.",
    "Plan parsing failed: Unable to parse the execution plan structure.",
    "Schema information error: Provided table schema information is malformed."
  ],
  "usage": "Provide query_text, execution_plan, and database_type. Optionally include table_schemas and index_information for more detailed analysis. Returns comprehensive plan analysis.",
  "output_details": {
    "plan_complexity_score": {
      "type": "number",
      "description": "Complexity score of the execution plan (0-10)"
    },
    "expensive_operations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of expensive operations identified in the plan"
    },
    "missing_indexes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Suggested indexes that could improve performance"
    },
    "table_scans_count": {
      "type": "integer",
      "description": "Number of full table scans in the plan"
    },
    "optimization_recommendations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Specific recommendations for query optimization"
    },
    "estimated_cost": {
      "type": "number",
      "description": "Estimated execution cost from the query planner"
    }
  }
}