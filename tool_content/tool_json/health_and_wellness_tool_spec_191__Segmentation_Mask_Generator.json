{
  "tool_name": "Segmentation Mask Generator",
  "tool_description": "Creates pixel-level segmentation masks for anatomical structures in medical images using advanced deep learning segmentation algorithms.",
  "parameters": {
    "image_path": {
      "type": "string",
      "required": true,
      "description": "Path to the input medical image"
    },
    "structure_type": {
      "type": "string",
      "required": true,
      "description": "Structure to segment: heart, lung, brain, liver, kidney, spine, bone, tumor, vessel, organ_boundary"
    },
    "segmentation_model": {
      "type": "string",
      "required": false,
      "default": "unet",
      "description": "Segmentation algorithm: unet, deeplab, mask_rcnn, attention_unet"
    },
    "post_processing": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Whether to apply morphological post-processing"
    },
    "output_format": {
      "type": "string",
      "required": false,
      "default": "binary_mask",
      "description": "Output type: binary_mask, probabilistic_mask, multi_class_mask"
    },
    "roi_coordinates": {
      "type": "array",
      "required": false,
      "default": "None",
      "items": {
        "type": "number"
      },
      "description": "Optional ROI coordinates [x1,y1,x2,y2] to limit segmentation area"
    },
    "confidence_threshold": {
      "type": "number",
      "required": false,
      "default": 0.5,
      "description": "Threshold for probabilistic mask conversion (0.1-0.9)"
    },
    "minimum_area": {
      "type": "integer",
      "required": false,
      "default": 100,
      "description": "Minimum area in pixels for segmented regions"
    },
    "smooth_boundaries": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Whether to smooth segmentation boundaries"
    },
    "fill_holes": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Whether to fill holes in segmented regions"
    }
  },
  "error_messages": [
    "Invalid structure type: Use one of [heart, lung, brain, liver, kidney, spine, bone, tumor, vessel, organ_boundary].",
    "Invalid segmentation model: Use one of [unet, deeplab, mask_rcnn, attention_unet].",
    "Invalid output format: Use one of [binary_mask, probabilistic_mask, multi_class_mask].",
    "Invalid confidence threshold: Threshold must be between 0.1 and 0.9.",
    "Invalid minimum area: Minimum area must be a positive integer.",
    "ROI coordinates invalid: Provide exactly 4 coordinates [x1,y1,x2,y2] within image bounds.",
    "Segmentation failed: Unable to generate segmentation mask. Check image quality and model compatibility.",
    "No structures found: No regions meeting minimum area threshold detected in image."
  ],
  "usage": "Specify image_path and structure_type. Choose segmentation_model based on accuracy needs. Enable post_processing for cleaner results. Adjust confidence_threshold for probabilistic outputs.",
  "output_details": {
    "mask_path": {
      "type": "string",
      "description": "Path to the generated segmentation mask file"
    },
    "segmented_regions": {
      "type": "integer",
      "description": "Number of distinct segmented regions found"
    },
    "total_segmented_pixels": {
      "type": "integer",
      "description": "Total number of pixels classified as target structure"
    },
    "segmentation_confidence": {
      "type": "number",
      "description": "Average confidence score of the segmentation"
    },
    "mask_statistics": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Area, perimeter, and compactness statistics of segmented regions"
    },
    "processing_time": {
      "type": "number",
      "description": "Time taken for segmentation in seconds"
    }
  }
}