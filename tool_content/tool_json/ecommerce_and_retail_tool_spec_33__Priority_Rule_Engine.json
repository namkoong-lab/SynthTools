{
  "tool_name": "Priority Rule Engine",
  "tool_description": "Applies business rules and priority logic to resolve inventory conflicts by determining which platform or data source should take precedence based on configurable criteria.",
  "parameters": {
    "conflict_data": {
      "type": "array",
      "required": true,
      "description": "Conflict details from Conflict Detector",
      "items": {
        "type": "string"
      }
    },
    "platform_priorities": {
      "type": "array",
      "required": true,
      "description": "Platform priority rankings from highest to lowest",
      "items": {
        "type": "string"
      }
    },
    "resolution_rules": {
      "type": "array",
      "required": false,
      "description": "Custom resolution rules in priority order",
      "items": {
        "type": "string"
      },
      "default": [
        "newest_timestamp",
        "highest_stock",
        "priority_platform"
      ]
    },
    "conflict_types_to_resolve": {
      "type": "array",
      "required": false,
      "description": "Specific conflict types to resolve",
      "items": {
        "type": "string"
      },
      "default": [
        "stock_level",
        "price",
        "availability"
      ]
    },
    "auto_apply_resolutions": {
      "type": "boolean",
      "required": false,
      "description": "Whether to automatically apply resolutions or just recommend them",
      "default": false
    },
    "min_confidence_threshold": {
      "type": "number",
      "required": false,
      "description": "Minimum confidence level required to apply automatic resolutions",
      "default": 0.8
    },
    "preserve_manual_overrides": {
      "type": "boolean",
      "required": false,
      "description": "Whether to preserve manually set values from previous resolutions",
      "default": true
    }
  },
  "error_messages": [
    "Empty conflict data: conflict_data array cannot be empty.",
    "Invalid platform priorities: platform_priorities must contain at least one platform name.",
    "Unknown resolution rule: resolution_rules contains unsupported rule types.",
    "Invalid confidence threshold: min_confidence_threshold must be between 0 and 1.",
    "Circular priority conflict: Platform priorities contain circular dependencies."
  ],
  "usage": "Provide conflict_data from Conflict Detector and define platform_priorities. Configure resolution_rules based on business logic. Set auto_apply_resolutions carefully.",
  "output_details": {
    "resolution_decisions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Detailed resolution decisions in JSON format"
    },
    "auto_applied_count": {
      "type": "integer",
      "description": "Number of resolutions automatically applied"
    },
    "manual_review_required": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Conflicts requiring manual review"
    },
    "confidence_scores": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Confidence scores for each resolution decision"
    },
    "processing_timestamp": {
      "type": "string",
      "description": "When rule processing was completed"
    }
  }
}