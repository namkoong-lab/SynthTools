{
  "tool_name": "Email Template Generator",
  "tool_description": "Generates personalized email templates for cart recovery campaigns based on user behavior, cart contents, and segment characteristics.",
  "parameters": {
    "user_segment": {
      "type": "string",
      "required": true,
      "description": "Target user segment for personalization"
    },
    "cart_items": {
      "type": "array",
      "required": true,
      "description": "List of product IDs in abandoned cart",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 20
    },
    "attempt_number": {
      "type": "integer",
      "required": true,
      "description": "Recovery attempt number (1-5)"
    },
    "include_discount": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include discount offer",
      "default": false
    },
    "discount_percentage": {
      "type": "number",
      "required": false,
      "description": "Discount percentage if applicable (5-30)",
      "default": null
    }
  },
  "error_messages": [
    "Invalid user_segment: Must be a recognized user segment",
    "Invalid cart_items: Must contain valid product IDs",
    "Invalid attempt_number: Must be between 1 and 5",
    "Invalid discount_percentage: Must be between 5 and 30 when include_discount is true",
    "Missing discount_percentage: Required when include_discount is true"
  ],
  "usage": "Generate personalized recovery emails by providing user_segment, cart_items, and attempt_number. Optionally include discount offers for higher-attempt campaigns.",
  "output_details": {
    "email_subject": {
      "type": "string",
      "description": "Generated email subject line"
    },
    "email_body": {
      "type": "string",
      "description": "HTML email body content"
    },
    "call_to_action": {
      "type": "string",
      "description": "Primary call-to-action text"
    },
    "urgency_level": {
      "type": "string",
      "description": "Urgency tone: low, medium, high"
    }
  }
}