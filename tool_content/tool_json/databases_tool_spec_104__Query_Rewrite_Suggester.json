{
  "tool_name": "Query Rewrite Suggester",
  "tool_description": "Analyzes queries and execution plans to suggest query rewrites, restructuring, and alternative formulations that could improve performance.",
  "parameters": {
    "original_query": {
      "type": "string",
      "required": true,
      "description": "Original SQL query to optimize"
    },
    "parsed_plan": {
      "type": "string",
      "required": true,
      "description": "Structured plan data from Plan Parser"
    },
    "bottleneck_analysis": {
      "type": "string",
      "required": true,
      "description": "Bottleneck identification results"
    },
    "database_type": {
      "type": "string",
      "required": true,
      "description": "Database system type for syntax-specific suggestions"
    },
    "suggestion_types": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "default": [
        "all"
      ],
      "description": "Types of suggestions to generate (subquery, join, predicate, all)"
    },
    "preserve_semantics": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Whether to preserve exact query semantics"
    },
    "aggressiveness": {
      "type": "string",
      "required": false,
      "default": "moderate",
      "description": "Optimization aggressiveness level (conservative, moderate, aggressive)"
    }
  },
  "error_messages": [
    "Invalid original query: SQL query syntax is incorrect or unparseable.",
    "Missing analysis data: Required plan or bottleneck analysis data is missing.",
    "Unsupported database type: Database type not supported for rewrite suggestions.",
    "Invalid suggestion types: Use valid suggestion type combinations.",
    "Invalid aggressiveness level: Use one of [conservative, moderate, aggressive]."
  ],
  "usage": "Provide original query, plan data, and bottleneck analysis. Configure suggestion preferences. The tool will generate optimized query alternatives.",
  "output_details": {
    "suggested_rewrites": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Alternative query formulations"
    },
    "optimization_rationale": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Explanation for each suggested rewrite"
    },
    "expected_improvement": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Expected performance improvement for each suggestion"
    },
    "risk_assessment": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Risk level for each suggested rewrite"
    }
  }
}