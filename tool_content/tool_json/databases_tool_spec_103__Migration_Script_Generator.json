{
  "tool_name": "Migration Script Generator",
  "tool_description": "Generates SQL migration scripts based on schema differences and target database type with support for various database systems and migration patterns.",
  "parameters": {
    "schema_changes": {
      "type": "string",
      "required": true,
      "description": "JSON string containing schema differences from Schema Differ"
    },
    "database_type": {
      "type": "string",
      "required": true,
      "description": "Target database system (postgresql, mysql, oracle, sqlserver, sqlite)"
    },
    "migration_strategy": {
      "type": "string",
      "required": true,
      "description": "Migration approach (safe, fast, minimal_downtime)"
    },
    "include_transactions": {
      "type": "boolean",
      "required": false,
      "description": "Whether to wrap migration in database transactions",
      "default": true
    },
    "add_comments": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include explanatory comments in generated SQL",
      "default": true
    },
    "batch_size": {
      "type": "integer",
      "required": false,
      "description": "Maximum number of operations per migration batch (1-1000)",
      "default": 100
    },
    "preserve_data": {
      "type": "boolean",
      "required": false,
      "description": "Whether to generate data preservation logic for destructive changes",
      "default": true
    },
    "custom_naming_pattern": {
      "type": "string",
      "required": false,
      "description": "Custom naming pattern for generated objects (e.g., temp tables)",
      "default": "None"
    },
    "compatibility_mode": {
      "type": "string",
      "required": false,
      "description": "Database version compatibility mode (latest, legacy, strict)",
      "default": "latest"
    },
    "include_indexes": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include index creation/modification in migration",
      "default": true
    },
    "foreign_key_checks": {
      "type": "boolean",
      "required": false,
      "description": "Whether to temporarily disable foreign key checks during migration",
      "default": false
    },
    "collation_handling": {
      "type": "string",
      "required": false,
      "description": "How to handle collation differences (preserve, convert, ignore)",
      "default": "preserve"
    }
  },
  "error_messages": [
    "Invalid schema changes format: Provide valid JSON from Schema Differ output.",
    "Unsupported database type: Use postgresql, mysql, oracle, sqlserver, or sqlite.",
    "Invalid migration strategy: Use safe, fast, or minimal_downtime.",
    "Batch size out of range: batch_size must be between 1 and 1000.",
    "Incompatible options: Some parameter combinations are not supported for the selected database type.",
    "Invalid compatibility mode: Use latest, legacy, or strict.",
    "Invalid collation handling: Use preserve, convert, or ignore."
  ],
  "usage": "Provide schema_changes from Schema Differ, specify database_type and migration_strategy. Customize behavior with optional parameters for transactions, comments, batching, and database-specific features.",
  "output_details": {
    "migration_sql": {
      "type": "string",
      "description": "Complete SQL migration script"
    },
    "operation_count": {
      "type": "integer",
      "description": "Total number of database operations in the migration"
    },
    "estimated_duration": {
      "type": "string",
      "description": "Estimated execution time for the migration"
    },
    "warnings": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of potential issues or warnings about the migration"
    }
  }
}