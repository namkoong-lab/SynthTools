{
  "tool_name": "Stock Discrepancy Detector",
  "tool_description": "Compares expected inventory levels with actual counts to identify and report discrepancies that may indicate shrinkage, theft, or system errors.",
  "parameters": {
    "expected_counts": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Array of expected SKU:quantity pairs from system records"
    },
    "actual_counts": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Array of actual SKU:quantity pairs from physical counts"
    },
    "tolerance_percentage": {
      "type": "number",
      "required": false,
      "default": 2.0,
      "description": "Acceptable variance percentage before flagging as discrepancy"
    },
    "location_id": {
      "type": "string",
      "required": true,
      "description": "Location identifier where counts were performed"
    },
    "count_date": {
      "type": "string",
      "format": "date-time",
      "required": true,
      "description": "Date and time when physical count was performed"
    }
  },
  "error_messages": [
    "Mismatched SKU lists: Expected and actual counts must contain the same SKU set.",
    "Invalid count format: Use SKU:quantity format for count arrays.",
    "Tolerance out of range: Percentage must be between 0 and 100.",
    "Future count date: Count date cannot be in the future.",
    "Missing location: Location ID must be provided and valid."
  ],
  "usage": "Provide expected_counts from system and actual_counts from physical verification. Set tolerance_percentage for acceptable variance and specify location_id and count_date.",
  "output_details": {
    "discrepancies": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of discrepancy records with SKU, expected, actual, and variance"
    },
    "total_discrepancies": {
      "type": "integer",
      "description": "Total number of SKUs with discrepancies"
    },
    "total_variance_value": {
      "type": "number",
      "description": "Total monetary value of inventory variance"
    }
  }
}