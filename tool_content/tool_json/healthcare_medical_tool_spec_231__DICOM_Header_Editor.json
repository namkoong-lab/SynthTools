{
  "tool_name": "DICOM Header Editor",
  "tool_description": "Modifies specific DICOM header tags while maintaining file integrity and DICOM compliance, useful for corrections or research anonymization.",
  "parameters": {
    "input_path": {
      "type": "string",
      "required": true,
      "description": "Path to input DICOM file"
    },
    "output_path": {
      "type": "string",
      "required": true,
      "description": "Path for modified output DICOM file"
    },
    "tag_modifications": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "List of tag modifications in format 'tag_number:new_value'"
    },
    "remove_tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "default": "None",
      "description": "List of DICOM tag numbers to remove"
    },
    "validate_compliance": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Validate DICOM compliance after modifications"
    },
    "backup_original": {
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Create backup of original file"
    },
    "preserve_pixel_data": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Ensure pixel data remains unchanged"
    },
    "add_custom_tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "default": "None",
      "description": "List of custom tags to add in format 'tag_number:value:VR'"
    },
    "modification_reason": {
      "type": "string",
      "required": false,
      "default": "None",
      "description": "Reason for modification (for audit trail)"
    },
    "force_overwrite": {
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Overwrite output file if it already exists"
    },
    "encoding_format": {
      "type": "string",
      "required": false,
      "default": "utf-8",
      "description": "Character encoding for text values"
    },
    "strict_validation": {
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Apply strict DICOM standard validation"
    },
    "log_changes": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Generate detailed log of all changes made"
    }
  },
  "error_messages": [
    "Input file error: Cannot read input DICOM file. Verify file exists and is valid DICOM format.",
    "Invalid tag format: tag_modifications must use format 'XXXX,XXXX:value'. Check tag number formatting.",
    "Tag modification failed: One or more tag modifications could not be applied. Check tag exists and value format is correct.",
    "Compliance validation failed: Modified DICOM file fails compliance check. Review modifications for DICOM standard violations.",
    "Output write error: Cannot write modified file to output path. Check permissions and available space.",
    "Backup creation failed: Could not create backup file. Check backup directory permissions.",
    "Invalid custom tag format: add_custom_tags must use format 'XXXX,XXXX:value:VR'. Check Value Representation (VR) codes.",
    "Pixel data corruption: Modifications resulted in pixel data changes when preserve_pixel_data is true."
  ],
  "usage": "Specify input_path, output_path, and tag_modifications list. Use remove_tags to delete specific tags, add_custom_tags for new tags. Enable validate_compliance and backup_original for safety. Set modification_reason for documentation.",
  "output_details": {
    "success": {
      "type": "boolean",
      "description": "Whether header modification completed successfully"
    },
    "modified_tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of tags that were successfully modified"
    },
    "removed_tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of tags that were successfully removed"
    },
    "added_tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of custom tags that were successfully added"
    },
    "compliance_status": {
      "type": "string",
      "description": "DICOM compliance status after modifications"
    },
    "change_log": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Detailed log of all changes made to the file"
    },
    "backup_path": {
      "type": "string",
      "description": "Path to backup file if backup_original was enabled"
    }
  }
}