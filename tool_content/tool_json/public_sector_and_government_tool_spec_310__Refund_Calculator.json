{
  "tool_name": "Refund Calculator",
  "tool_description": "Calculates tax refund or balance due amounts considering withholdings, estimated payments, credits, and penalties.",
  "parameters": {
    "total_tax_liability": {
      "type": "number",
      "required": true,
      "description": "Final calculated tax liability amount"
    },
    "withholding_amounts": {
      "type": "array",
      "required": true,
      "items": {
        "type": "number"
      },
      "description": "Federal tax withholding amounts from all sources"
    },
    "estimated_payments": {
      "type": "array",
      "required": false,
      "default": [],
      "items": {
        "type": "number"
      },
      "description": "Quarterly estimated tax payments made"
    },
    "prior_year_overpayment": {
      "type": "number",
      "required": false,
      "default": 0.0,
      "description": "Prior year overpayment applied to current year"
    },
    "refundable_credits": {
      "type": "number",
      "required": false,
      "default": 0.0,
      "description": "Total refundable credit amounts"
    }
  },
  "error_messages": [
    "Invalid tax liability: Total tax liability must be a non-negative number",
    "Withholding amount error: All withholding amounts must be non-negative numbers",
    "Estimated payment error: Estimated payment amounts must be non-negative",
    "Prior year overpayment error: Amount must be non-negative",
    "Refundable credits error: Credit amount must be non-negative"
  ],
  "usage": "Provide total_tax_liability and withholding_amounts array. Optionally include estimated_payments, prior_year_overpayment, and refundable_credits. Returns refund/balance due calculation.",
  "output_details": {
    "total_payments": {
      "type": "number",
      "description": "Sum of all payments and credits"
    },
    "refund_amount": {
      "type": "number",
      "description": "Refund due to taxpayer (0 if balance due)"
    },
    "balance_due": {
      "type": "number",
      "description": "Amount owed by taxpayer (0 if refund due)"
    },
    "payment_breakdown": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Detailed breakdown of all payment components"
    },
    "calculation_summary": {
      "type": "string",
      "description": "Summary of refund/balance due calculation"
    }
  }
}