{
  "tool_name": "Line Item Parser",
  "tool_description": "Extracts detailed line item information from invoices including product descriptions, quantities, unit prices, and line totals with support for various table formats.",
  "parameters": {
    "invoice_text": {
      "type": "string",
      "required": true,
      "description": "OCR extracted text from invoice"
    },
    "table_detection_method": {
      "type": "string",
      "required": false,
      "description": "Method for table detection: auto, manual_regex, column_based",
      "default": "auto"
    },
    "currency_symbol": {
      "type": "string",
      "required": false,
      "description": "Currency symbol to identify price columns",
      "default": "$"
    },
    "min_line_items": {
      "type": "integer",
      "required": false,
      "description": "Minimum expected number of line items (1-100)",
      "default": 1
    },
    "max_line_items": {
      "type": "integer",
      "required": false,
      "description": "Maximum expected number of line items (1-1000)",
      "default": 100
    },
    "include_headers": {
      "type": "boolean",
      "required": false,
      "description": "Whether to identify and include table headers",
      "default": true
    },
    "parse_product_codes": {
      "type": "boolean",
      "required": false,
      "description": "Whether to extract product/SKU codes",
      "default": true
    },
    "quantity_patterns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "description": "Custom patterns for quantity detection",
      "default": [
        "qty",
        "quantity",
        "units",
        "count"
      ]
    }
  },
  "error_messages": [
    "Empty invoice text: Provide valid OCR text content for line item parsing",
    "No line items detected: Text does not contain recognizable tabular line item data",
    "Invalid table detection method: Use 'auto', 'manual_regex', or 'column_based'",
    "Invalid line item limits: min_line_items must be â‰¤ max_line_items, both within valid ranges",
    "Table structure too complex: Line item table format is too irregular for automatic parsing",
    "Inconsistent column structure: Detected table has inconsistent number of columns across rows"
  ],
  "usage": "Provide OCR text and optionally configure table detection parameters. Returns structured line item data with descriptions, quantities, prices, and totals.",
  "output_details": {
    "line_items": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of line item records with all extracted fields"
    },
    "item_descriptions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Product or service descriptions for each line"
    },
    "quantities": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Quantity values for each line item"
    },
    "unit_prices": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Unit price for each line item"
    },
    "line_totals": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Total amount for each line item"
    },
    "product_codes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Product codes or SKUs if found"
    },
    "table_headers": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Detected column headers from the line item table"
    },
    "parsing_confidence": {
      "type": "number",
      "description": "Overall confidence in line item parsing accuracy"
    }
  }
}