{
  "tool_name": "Data Dependency Analyzer Tool",
  "tool_description": "Analyzes data dependencies and relationships to determine safe deletion order and identify data that must be retained for business or legal requirements.",
  "parameters": {
    "customer_id": {
      "type": "string",
      "required": true,
      "description": "Customer identifier for dependency analysis"
    },
    "deletion_scope": {
      "type": "string",
      "required": true,
      "description": "Deletion scope from parser: full_account, specific_data, or partial_account"
    },
    "data_categories": {
      "type": "array",
      "required": true,
      "description": "Data categories targeted for deletion",
      "items": {
        "type": "string"
      },
      "minItems": 1
    },
    "include_legal_holds": {
      "type": "boolean",
      "required": false,
      "description": "Whether to check for legal hold requirements",
      "default": true
    },
    "business_rules_check": {
      "type": "boolean",
      "required": false,
      "description": "Whether to apply business rule constraints",
      "default": true
    },
    "analysis_depth": {
      "type": "string",
      "required": false,
      "description": "Analysis depth: shallow, standard, or deep",
      "default": "standard"
    }
  },
  "error_messages": [
    "Invalid deletion scope: Use one of [full_account, specific_data, partial_account].",
    "Data category not found: One or more specified data categories do not exist.",
    "Dependency analysis failed: Unable to complete dependency mapping due to system errors.",
    "Invalid analysis depth: Use one of [shallow, standard, deep].",
    "Circular dependency detected: Data has circular dependencies that prevent safe deletion."
  ],
  "usage": "Provide customer_id, deletion_scope, and data_categories from deletion request parsing. Configure include_legal_holds, business_rules_check, and analysis_depth as needed. Returns dependency mapping and deletion constraints.",
  "output_details": {
    "dependency_map": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of data dependencies and their relationships"
    },
    "deletion_order": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Recommended order for safe data deletion"
    },
    "retention_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Data that must be retained due to legal or business requirements"
    },
    "blocked_deletions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Data that cannot be deleted due to constraints"
    },
    "estimated_impact": {
      "type": "string",
      "description": "Estimated impact level: low, medium, or high"
    }
  }
}