{
  "tool_name": "Image Intensity Normalizer",
  "tool_description": "Standardizes pixel intensity values across medical images to ensure consistent processing and comparison between different scans and modalities.",
  "parameters": {
    "image_path": {
      "type": "string",
      "required": true,
      "description": "Path to the input medical image"
    },
    "normalization_method": {
      "type": "string",
      "required": true,
      "description": "Normalization approach: min_max, z_score, percentile, histogram_matching"
    },
    "target_range_min": {
      "type": "number",
      "required": false,
      "default": 0.0,
      "description": "Minimum value for normalized intensity range"
    },
    "target_range_max": {
      "type": "number",
      "required": false,
      "default": 1.0,
      "description": "Maximum value for normalized intensity range"
    },
    "reference_image_path": {
      "type": "string",
      "required": false,
      "default": "None",
      "description": "Reference image for histogram matching normalization"
    }
  },
  "error_messages": [
    "Invalid normalization method: Use one of [min_max, z_score, percentile, histogram_matching].",
    "Invalid target range: target_range_max must be greater than target_range_min.",
    "Reference image required: histogram_matching method requires reference_image_path parameter.",
    "Reference image not found: Cannot locate the specified reference image file.",
    "Normalization failed: Unable to normalize image intensities. Check image data validity."
  ],
  "usage": "Provide image_path and normalization_method. For min_max normalization, set target_range_min and target_range_max. For histogram_matching, provide reference_image_path.",
  "output_details": {
    "normalized_image_path": {
      "type": "string",
      "description": "Path to the normalized image file"
    },
    "original_intensity_range": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Original minimum and maximum intensity values"
    },
    "normalized_intensity_range": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Final minimum and maximum intensity values after normalization"
    },
    "intensity_statistics": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Mean, standard deviation, median of normalized intensities"
    }
  }
}