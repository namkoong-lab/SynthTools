{
  "tool_name": "Performance Impact Analyzer",
  "tool_description": "Analyzes the impact of statistics quality on query performance by examining query plans, execution times, and statistics usage patterns.",
  "parameters": {
    "connection_id": {
      "type": "string",
      "required": true,
      "description": "Database connection identifier for performance analysis"
    },
    "query_log_path": {
      "type": "string",
      "required": false,
      "description": "Path to query log file for analysis",
      "default": null
    },
    "analysis_period_hours": {
      "type": "integer",
      "required": false,
      "description": "Number of hours of query history to analyze (1-168)",
      "default": 24
    },
    "slow_query_threshold_ms": {
      "type": "integer",
      "required": false,
      "description": "Threshold in milliseconds to consider a query slow (100-30000)",
      "default": 1000
    },
    "top_queries_limit": {
      "type": "integer",
      "required": false,
      "description": "Number of top slow queries to analyze in detail (10-100)",
      "default": 50
    },
    "include_plan_analysis": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include detailed execution plan analysis",
      "default": true
    }
  },
  "error_messages": [
    "Invalid connection: Connection ID not found or connection closed.",
    "Query log not found: Specified query log path does not exist or is not accessible.",
    "Invalid analysis period: Analysis period must be between 1-168 hours.",
    "Invalid query threshold: Slow query threshold must be between 100-30000 milliseconds.",
    "Invalid queries limit: Top queries limit must be between 10-100.",
    "Access denied: Insufficient privileges to access query performance data."
  ],
  "usage": "Provide connection_id for performance analysis. Optionally specify query_log_path for file-based analysis or adjust analysis_period_hours, slow_query_threshold_ms, and other parameters for targeted analysis.",
  "output_details": {
    "analysis_timestamp": {
      "type": "string",
      "description": "When the performance analysis was conducted"
    },
    "queries_analyzed": {
      "type": "integer",
      "description": "Total number of queries analyzed"
    },
    "statistics_related_issues": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Performance issues attributed to poor statistics"
    },
    "improvement_opportunities": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Specific opportunities for performance improvement"
    },
    "performance_score": {
      "type": "integer",
      "description": "Overall performance health score from 0-100"
    }
  }
}