{
  "tool_name": "Portfolio_Exposure_Analyzer",
  "tool_description": "Analyzes portfolio concentration risk, sector exposure, and position sizing relative to volatility-based risk limits.",
  "parameters": {
    "positions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Array of position identifiers or symbols",
      "minItems": 1,
      "maxItems": 100
    },
    "position_values": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "required": true,
      "description": "Market values of each position",
      "minItems": 1,
      "maxItems": 100
    },
    "position_volatilities": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "required": true,
      "description": "Volatility estimates for each position",
      "minItems": 1,
      "maxItems": 100
    },
    "sectors": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "description": "Sector classifications for each position",
      "default": "None"
    },
    "max_position_pct": {
      "type": "number",
      "required": false,
      "description": "Maximum allowed position size as percentage (1-50)",
      "default": 10
    },
    "max_sector_pct": {
      "type": "number",
      "required": false,
      "description": "Maximum allowed sector concentration as percentage (5-80)",
      "default": 25
    },
    "volatility_limit": {
      "type": "number",
      "required": false,
      "description": "Maximum allowed position volatility threshold",
      "default": 0.3
    },
    "total_portfolio_value": {
      "type": "number",
      "required": true,
      "description": "Total portfolio market value"
    }
  },
  "error_messages": [
    "Mismatched array lengths: positions, position_values, and position_volatilities must have the same length.",
    "Invalid position values: All position values must be positive numbers.",
    "Invalid volatility values: Volatility values must be non-negative.",
    "Portfolio value mismatch: Sum of position values exceeds total portfolio value significantly.",
    "Parameter out of range: max_position_pct must be 1-50, max_sector_pct must be 5-80.",
    "Volatility limit invalid: Must be a positive number, typically between 0.1 and 1.0."
  ],
  "usage": "Provide positions, position_values, position_volatilities, and total_portfolio_value. Optionally specify sectors, max_position_pct, max_sector_pct, and volatility_limit.",
  "output_details": {
    "concentration_violations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Positions exceeding concentration limits"
    },
    "sector_exposures": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Percentage exposure by sector"
    },
    "high_volatility_positions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Positions exceeding volatility limits"
    },
    "portfolio_diversification_score": {
      "type": "number",
      "description": "Diversification score from 0-100"
    },
    "risk_weighted_exposure": {
      "type": "number",
      "description": "Total portfolio exposure adjusted for volatility"
    },
    "recommendations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Risk management recommendations"
    }
  }
}