{
  "tool_name": "Clinical Rule Engine",
  "tool_description": "Applies clinical decision rules and guidelines to anomaly detection results to generate appropriate flags, priorities, and recommendations for radiologist review.",
  "parameters": {
    "anomaly_score": {
      "type": "number",
      "required": true,
      "description": "Anomaly detection score (0-1)"
    },
    "anomaly_type": {
      "type": "string",
      "required": true,
      "description": "Type of detected anomaly"
    },
    "patient_age": {
      "type": "integer",
      "required": true,
      "description": "Patient age in years"
    },
    "patient_gender": {
      "type": "string",
      "required": true,
      "description": "Patient gender: male, female, other"
    },
    "clinical_history": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "default": [],
      "description": "Relevant clinical history keywords"
    },
    "urgency_factors": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "default": [],
      "description": "Factors requiring urgent attention"
    },
    "modality": {
      "type": "string",
      "required": true,
      "description": "Imaging modality used"
    },
    "confidence_score": {
      "type": "number",
      "required": true,
      "description": "Overall confidence in detection (0-1)"
    }
  },
  "error_messages": [
    "Invalid patient data: patient_age must be 0-150, patient_gender must be [male, female, other].",
    "Invalid scores: anomaly_score and confidence_score must be between 0 and 1.",
    "Missing critical data: anomaly_score, anomaly_type, patient demographics are required.",
    "Rule processing error: Clinical rules could not be applied. Check input data validity."
  ],
  "usage": "Provide anomaly detection results along with patient demographics. Include clinical_history and urgency_factors for more accurate rule application.",
  "output_details": {
    "priority_level": {
      "type": "string",
      "description": "Priority classification: routine, urgent, stat"
    },
    "clinical_flags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Clinical attention flags raised"
    },
    "recommended_followup": {
      "type": "string",
      "description": "Suggested follow-up actions"
    },
    "review_timeline": {
      "type": "string",
      "description": "Recommended timeframe for radiologist review"
    },
    "risk_assessment": {
      "type": "string",
      "description": "Overall risk level: low, moderate, high"
    }
  }
}