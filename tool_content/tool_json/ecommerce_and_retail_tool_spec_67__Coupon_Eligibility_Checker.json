{
  "tool_name": "Coupon Eligibility Checker",
  "tool_description": "Determines if a user and their cart contents are eligible for a specific coupon based on purchase history, user segments, and cart requirements.",
  "parameters": {
    "coupon_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier of the coupon to check"
    },
    "user_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier of the user"
    },
    "cart_items": {
      "type": "array",
      "required": true,
      "description": "List of product IDs in the cart",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 100
    },
    "cart_subtotal": {
      "type": "number",
      "required": true,
      "description": "Current cart subtotal amount"
    },
    "user_segment": {
      "type": "string",
      "required": false,
      "description": "User segment classification (new, loyal, vip)",
      "default": "standard"
    },
    "previous_purchases": {
      "type": "integer",
      "required": false,
      "description": "Number of previous purchases by the user",
      "default": 0
    },
    "account_age_days": {
      "type": "integer",
      "required": false,
      "description": "Age of user account in days",
      "default": 0
    }
  },
  "error_messages": [
    "Invalid coupon ID: The provided coupon identifier does not exist.",
    "Empty cart: At least one item must be in the cart for coupon validation.",
    "Invalid cart subtotal: Cart subtotal must be a positive number.",
    "Invalid user segment: User segment must be one of: new, loyal, vip, standard.",
    "Invalid account age: Account age must be a non-negative integer."
  ],
  "usage": "Provide coupon_id, user_id, cart_items, and cart_subtotal. Optionally include user_segment, previous_purchases, and account_age_days for detailed eligibility checking.",
  "output_details": {
    "is_eligible": {
      "type": "boolean",
      "description": "Whether the user is eligible for the coupon"
    },
    "eligibility_reasons": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of reasons for eligibility or ineligibility"
    },
    "required_conditions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of conditions that must be met for eligibility"
    },
    "coupon_details": {
      "type": "string",
      "description": "Description of the coupon benefits"
    }
  }
}