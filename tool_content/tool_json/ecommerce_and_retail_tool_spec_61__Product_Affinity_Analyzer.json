{
  "tool_name": "Product Affinity Analyzer",
  "tool_description": "Analyzes purchase history to identify product relationships, cross-selling opportunities, and generate personalized product recommendations based on buying patterns.",
  "parameters": {
    "customer_id": {
      "type": "string",
      "required": true,
      "description": "Customer identifier for product affinity analysis"
    },
    "product_ids": {
      "type": "array",
      "required": true,
      "description": "List of product IDs from customer's purchase history",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 500
    },
    "product_categories": {
      "type": "array",
      "required": true,
      "description": "List of product categories corresponding to product IDs",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 500
    },
    "purchase_frequencies": {
      "type": "array",
      "required": true,
      "description": "Purchase count for each product",
      "items": {
        "type": "integer"
      },
      "minItems": 1,
      "maxItems": 500
    },
    "recommendation_count": {
      "type": "integer",
      "required": false,
      "description": "Number of product recommendations to generate",
      "default": 5
    }
  },
  "error_messages": [
    "Array length mismatch: product_ids, product_categories, and purchase_frequencies must have equal lengths.",
    "Invalid product data: All product_ids must be non-empty strings and purchase_frequencies must be positive integers.",
    "Insufficient data: At least 2 different products required for meaningful affinity analysis.",
    "Invalid recommendation count: recommendation_count must be between 1 and 20."
  ],
  "usage": "Provide customer_id and matching arrays of product_ids, product_categories, and purchase_frequencies. Optionally specify recommendation_count for the number of recommendations to generate.",
  "output_details": {
    "favorite_categories": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Top product categories by purchase frequency"
    },
    "most_purchased_products": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Most frequently purchased product IDs"
    },
    "recommended_products": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Recommended product IDs based on affinity analysis"
    },
    "cross_sell_opportunities": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Product categories for cross-selling"
    },
    "purchase_diversity_score": {
      "type": "number",
      "description": "Score indicating purchase diversity from 0-1"
    }
  }
}