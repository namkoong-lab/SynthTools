{
  "tool_name": "Add Comprehension Note",
  "tool_description": "Adds a comprehension note linked to a specific reading session or book with categorization and importance rating.",
  "parameters": {
    "session_id": {
      "type": "string",
      "required": false,
      "description": "Reading session ID to link the note to",
      "default": null
    },
    "book_id": {
      "type": "string",
      "required": false,
      "description": "Book ID to link the note to (required if session_id not provided)",
      "default": null
    },
    "note_content": {
      "type": "string",
      "required": true,
      "description": "The comprehension note text content"
    },
    "note_type": {
      "type": "string",
      "required": true,
      "description": "Type of note: summary, question, insight, quote, or reflection"
    },
    "page_reference": {
      "type": "integer",
      "required": false,
      "description": "Specific page number this note references",
      "default": null
    },
    "importance_level": {
      "type": "integer",
      "required": false,
      "description": "Importance rating from 1-5",
      "default": 3
    },
    "tags": {
      "type": "array",
      "required": false,
      "description": "Tags for organizing notes",
      "items": {
        "type": "string"
      },
      "default": []
    }
  },
  "error_messages": [
    "Missing link reference: Either session_id or book_id must be provided.",
    "Invalid note type: note_type must be one of [summary, question, insight, quote, reflection].",
    "Empty note content: note_content cannot be empty or only whitespace.",
    "Session/Book not found: The provided session_id or book_id does not exist.",
    "Invalid importance level: importance_level must be an integer between 1 and 5.",
    "Invalid page reference: page_reference must be a positive integer within the book's page range.",
    "Too many tags: Maximum 10 tags allowed per note."
  ],
  "usage": "Provide either session_id or book_id, along with note_content and note_type. Optionally add page_reference, importance_level, and tags for better organization.",
  "output_details": {
    "note_id": {
      "type": "string",
      "description": "Unique identifier for the created note"
    },
    "timestamp": {
      "type": "string",
      "description": "When the note was created"
    },
    "linked_to": {
      "type": "string",
      "description": "What the note is linked to (session or book)"
    },
    "word_count": {
      "type": "integer",
      "description": "Number of words in the note content"
    }
  }
}