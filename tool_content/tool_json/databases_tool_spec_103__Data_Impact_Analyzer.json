{
  "tool_name": "Data Impact Analyzer",
  "tool_description": "Analyzes migration scripts to assess potential impact on existing data, including data loss risks and transformation requirements.",
  "parameters": {
    "migration_sql": {
      "type": "string",
      "required": true,
      "description": "Migration script to analyze for data impact"
    },
    "table_metadata": {
      "type": "string",
      "required": true,
      "description": "JSON string containing current table structure and data statistics"
    },
    "check_data_loss": {
      "type": "boolean",
      "required": false,
      "description": "Whether to check for potential data loss scenarios",
      "default": true
    },
    "estimate_affected_rows": {
      "type": "boolean",
      "required": false,
      "description": "Whether to estimate number of affected rows",
      "default": true
    }
  },
  "error_messages": [
    "Invalid migration script: Provide valid SQL migration content.",
    "Invalid table metadata: Provide valid JSON table structure information.",
    "Analysis failed: Unable to complete data impact analysis.",
    "Missing table information: Required table metadata is incomplete."
  ],
  "usage": "Provide migration_sql and table_metadata to analyze data impact. Enable check_data_loss and estimate_affected_rows for comprehensive analysis.",
  "output_details": {
    "risk_level": {
      "type": "string",
      "description": "Overall risk assessment (low, medium, high)"
    },
    "affected_tables": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of tables that will be affected by the migration"
    },
    "data_loss_warnings": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Specific warnings about potential data loss"
    },
    "estimated_affected_rows": {
      "type": "integer",
      "description": "Estimated number of rows that will be affected"
    },
    "backup_recommendations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Recommended backup strategies before migration"
    }
  }
}