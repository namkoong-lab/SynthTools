{
  "tool_name": "Cart_Merger",
  "tool_description": "Merges multiple shopping carts into a single cart, handling quantity consolidation and item deduplication with conflict resolution.",
  "parameters": {
    "primary_cart_id": {
      "type": "string",
      "required": true,
      "description": "ID of the primary cart to merge into"
    },
    "secondary_cart_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Array of secondary cart IDs to merge from",
      "minItems": 1,
      "maxItems": 5
    },
    "quantity_strategy": {
      "type": "string",
      "required": false,
      "description": "How to handle quantity conflicts (sum, max, primary_wins)",
      "default": "sum"
    },
    "delete_secondary": {
      "type": "boolean",
      "required": false,
      "description": "Whether to delete secondary carts after successful merge",
      "default": false
    },
    "max_quantity_per_item": {
      "type": "integer",
      "required": false,
      "description": "Maximum allowed quantity per item after merge",
      "default": 999
    }
  },
  "error_messages": [
    "Invalid cart IDs: Ensure primary_cart_id is valid and all secondary cart IDs exist.",
    "Cart merge limit: Maximum 5 secondary carts can be merged at once.",
    "Invalid quantity strategy: Use one of: sum, max, primary_wins.",
    "Merge conflict: Unable to merge due to conflicting cart states or inventory limits.",
    "Merge failed: System error occurred during cart merge operation."
  ],
  "usage": "Provide primary_cart_id and array of secondary_cart_ids to merge carts. Configure quantity_strategy for conflict resolution and set delete_secondary to clean up after merge.",
  "output_details": {
    "merge_successful": {
      "type": "boolean",
      "description": "Whether the merge operation completed successfully"
    },
    "merged_items_count": {
      "type": "integer",
      "description": "Total number of unique items in merged cart"
    },
    "conflicts_resolved": {
      "type": "integer",
      "description": "Number of quantity conflicts that were resolved"
    },
    "deleted_carts": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of secondary cart IDs that were deleted"
    },
    "merge_summary": {
      "type": "string",
      "description": "Summary message of the merge operation results"
    }
  }
}