{
  "tool_name": "Metadata Query Processor",
  "tool_description": "Processes complex metadata queries with filtering, sorting, and aggregation capabilities to find files based on metadata criteria.",
  "parameters": {
    "metadata_source": {
      "type": "string",
      "required": true,
      "description": "Source of metadata: database, index, or file_system"
    },
    "filter_criteria": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Array of filter expressions in format 'field:operator:value'",
      "minItems": 1,
      "maxItems": 20
    },
    "sort_fields": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "description": "Array of fields to sort by with optional direction (field:asc/desc)",
      "default": [
        "modified_time:desc"
      ]
    },
    "output_fields": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "description": "Array of metadata fields to include in output",
      "default": [
        "path",
        "size",
        "modified_time",
        "type"
      ]
    },
    "limit": {
      "type": "integer",
      "required": false,
      "description": "Maximum number of results to return",
      "default": 1000
    },
    "enable_aggregation": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include aggregation statistics",
      "default": false
    }
  },
  "error_messages": [
    "Invalid metadata source: Source must be one of [database, index, file_system].",
    "Invalid filter expression: Filter criteria must follow format 'field:operator:value'. Check syntax.",
    "Unsupported operator: Use supported operators [eq, ne, gt, lt, gte, lte, contains, starts_with, ends_with].",
    "Unknown metadata field: One or more specified fields do not exist in metadata schema.",
    "Invalid sort direction: Sort direction must be 'asc' or 'desc'.",
    "Query too complex: Reduce number of filter criteria or simplify expressions.",
    "Metadata source unavailable: Cannot access specified metadata source. Check connection.",
    "Result limit exceeded: Requested limit exceeds maximum allowed. Reduce limit value."
  ],
  "usage": "Specify metadata source and filter criteria array. Optionally configure sorting, output fields, and limits. Tool returns filtered file metadata.",
  "output_details": {
    "filtered_files": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of file metadata objects matching criteria"
    },
    "result_count": {
      "type": "integer",
      "description": "Number of files matching the query"
    },
    "aggregations": {
      "type": "string",
      "description": "JSON string containing aggregation statistics if enabled"
    },
    "query_execution_time": {
      "type": "number",
      "description": "Time taken to execute query in milliseconds"
    }
  }
}