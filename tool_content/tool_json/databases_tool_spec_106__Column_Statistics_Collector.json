{
  "tool_name": "Column Statistics Collector",
  "tool_description": "Collects detailed column-level statistics including cardinality, null percentages, data distribution, and histogram information for query optimization.",
  "parameters": {
    "connection_id": {
      "type": "string",
      "required": true,
      "description": "Database connection identifier from Database Connection Manager"
    },
    "schema_name": {
      "type": "string",
      "required": true,
      "description": "Database schema name to collect column statistics from"
    },
    "table_name": {
      "type": "string",
      "required": true,
      "description": "Table name to analyze column statistics for"
    },
    "column_names": {
      "type": "array",
      "required": false,
      "description": "Specific columns to analyze (if empty, analyzes all columns)",
      "items": {
        "type": "string"
      },
      "default": null
    },
    "histogram_buckets": {
      "type": "integer",
      "required": false,
      "description": "Number of histogram buckets to create (10-1000)",
      "default": 100
    },
    "compute_correlation": {
      "type": "boolean",
      "required": false,
      "description": "Whether to compute column correlations",
      "default": false
    },
    "most_common_values_limit": {
      "type": "integer",
      "required": false,
      "description": "Maximum number of most common values to track (10-100)",
      "default": 25
    },
    "distinct_values_threshold": {
      "type": "integer",
      "required": false,
      "description": "Threshold for computing exact distinct counts (1000-1000000)",
      "default": 10000
    }
  },
  "error_messages": [
    "Invalid connection: Connection ID not found or connection closed.",
    "Schema or table not found: Specified schema or table does not exist.",
    "Column not found: One or more specified columns do not exist in the table.",
    "Invalid histogram buckets: Must be between 10-1000.",
    "Invalid MCV limit: Most common values limit must be between 10-100.",
    "Invalid distinct threshold: Must be between 1000-1000000.",
    "Access denied: Insufficient privileges to read column statistics."
  ],
  "usage": "Provide connection_id, schema_name, and table_name to collect column statistics. Optionally specify column_names for targeted analysis or adjust histogram_buckets and other parameters for detailed analysis.",
  "output_details": {
    "collection_timestamp": {
      "type": "string",
      "description": "When the column statistics were collected"
    },
    "table_name": {
      "type": "string",
      "description": "Name of the analyzed table"
    },
    "column_count": {
      "type": "integer",
      "description": "Number of columns analyzed"
    },
    "high_cardinality_columns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Columns with high cardinality (good for indexes)"
    },
    "skewed_columns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Columns with highly skewed data distribution"
    },
    "null_heavy_columns": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Columns with high null percentages"
    }
  }
}