{
  "tool_name": "Line Item Aggregator",
  "tool_description": "Aggregates and consolidates line items from multiple sources into a unified invoice format with proper categorization and subtotals.",
  "parameters": {
    "time_entries": {
      "type": "array",
      "required": false,
      "description": "Time-based line items with descriptions and amounts",
      "items": {
        "type": "string"
      },
      "default": null
    },
    "service_items": {
      "type": "array",
      "required": false,
      "description": "Service-based line items",
      "items": {
        "type": "string"
      },
      "default": null
    },
    "expense_items": {
      "type": "array",
      "required": false,
      "description": "Expense reimbursement items",
      "items": {
        "type": "string"
      },
      "default": null
    },
    "amounts": {
      "type": "array",
      "required": true,
      "description": "Corresponding amounts for all line items",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "maxItems": 500
    },
    "group_by_category": {
      "type": "boolean",
      "required": false,
      "description": "Group line items by category with subtotals",
      "default": true
    },
    "sort_by": {
      "type": "string",
      "required": false,
      "description": "Sort order: date, amount, category, description",
      "default": "date"
    }
  },
  "error_messages": [
    "Item count mismatch: Total items in all categories must match the length of amounts array.",
    "No line items: At least one of time_entries, service_items, or expense_items must be provided.",
    "Invalid sort option: sort_by must be one of [date, amount, category, description].",
    "Amount validation failed: All amounts must be non-negative numbers."
  ],
  "usage": "Provide line items from various sources with corresponding amounts. Use group_by_category and sort_by to organize the output format.",
  "output_details": {
    "consolidated_items": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Consolidated and formatted line item descriptions"
    },
    "item_amounts": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Amounts for each consolidated line item"
    },
    "category_subtotals": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Subtotals by category if grouping is enabled"
    },
    "total_amount": {
      "type": "number",
      "description": "Grand total of all line items"
    }
  }
}