{
  "tool_name": "Market Value Comparator",
  "tool_description": "Compares current inventory book values with market prices to identify potential write-downs and valuation adjustments.",
  "parameters": {
    "inventory_items": {
      "type": "array",
      "required": true,
      "description": "Array of item identifiers for market comparison",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 25000
    },
    "market_data_source": {
      "type": "string",
      "required": true,
      "description": "Source for market price data (api, file, database)"
    },
    "comparison_date": {
      "type": "string",
      "required": true,
      "description": "Date for market value comparison",
      "format": "date-time"
    },
    "price_tolerance_percentage": {
      "type": "number",
      "required": false,
      "description": "Tolerance percentage for price variations before flagging",
      "default": 5
    },
    "include_replacement_cost": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include replacement cost analysis",
      "default": true
    },
    "market_data_age_limit": {
      "type": "integer",
      "required": false,
      "description": "Maximum age of market data in days to consider current",
      "default": 7
    },
    "currency_conversion": {
      "type": "boolean",
      "required": false,
      "description": "Whether to perform currency conversion for international items",
      "default": false
    },
    "exclude_custom_items": {
      "type": "boolean",
      "required": false,
      "description": "Whether to exclude custom or made-to-order items from comparison",
      "default": true
    }
  },
  "error_messages": [
    "Invalid market data source: Use one of [api, file, database].",
    "Market data unavailable: Cannot retrieve current market prices for comparison.",
    "Invalid comparison date: Provide a valid ISO 8601 formatted date.",
    "Price tolerance out of range: price_tolerance_percentage must be between 0 and 50.",
    "Stale market data: Market data exceeds age limit specified in market_data_age_limit.",
    "Currency conversion error: Enable currency_conversion only when exchange rate data is available.",
    "Data age limit invalid: market_data_age_limit must be between 1 and 30 days."
  ],
  "usage": "Provide inventory_items, market_data_source, and comparison_date. Configure tolerance levels and analysis options. Returns market value comparison highlighting items requiring write-downs.",
  "output_details": {
    "items_requiring_writedown": {
      "type": "integer",
      "description": "Number of items with market value below book value"
    },
    "total_writedown_amount": {
      "type": "number",
      "description": "Total recommended write-down amount"
    },
    "market_comparison_summary": {
      "type": "string",
      "description": "Summary of market value comparison results"
    },
    "price_variance_items": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Items with significant price variances from market"
    }
  }
}