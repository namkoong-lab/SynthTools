{
  "tool_name": "Identity Matcher",
  "tool_description": "Performs biometric template matching against enrolled templates in the database, computing similarity scores and making identification decisions.",
  "parameters": {
    "query_template": {
      "type": "string",
      "required": true,
      "description": "Base64 encoded query biometric template"
    },
    "database_templates": {
      "type": "array",
      "required": true,
      "description": "Array of enrolled template IDs to match against",
      "items": {
        "type": "string"
      }
    },
    "matching_algorithm": {
      "type": "string",
      "required": false,
      "description": "Matching algorithm: cosine_similarity, euclidean_distance, hamming_distance",
      "default": "cosine_similarity"
    },
    "similarity_threshold": {
      "type": "number",
      "required": false,
      "description": "Minimum similarity score for positive match (0.1-1.0)",
      "default": 0.7
    },
    "max_matches": {
      "type": "integer",
      "required": false,
      "description": "Maximum number of matches to return",
      "default": 10
    },
    "biometric_type": {
      "type": "string",
      "required": true,
      "description": "Biometric modality: face, fingerprint, iris, palm"
    },
    "match_mode": {
      "type": "string",
      "required": false,
      "description": "Matching mode: identification, verification",
      "default": "identification"
    },
    "rotation_tolerance": {
      "type": "number",
      "required": false,
      "description": "Rotation tolerance in degrees for fingerprint/iris matching",
      "default": 15
    },
    "quality_weighting": {
      "type": "boolean",
      "required": false,
      "description": "Whether to weight matches by template quality",
      "default": true
    },
    "fast_reject_threshold": {
      "type": "number",
      "required": false,
      "description": "Early rejection threshold for performance optimization",
      "default": 0.3
    }
  },
  "error_messages": [
    "Invalid query template: Provide valid base64 encoded biometric template.",
    "Empty database templates: Provide at least one enrolled template ID for matching.",
    "Unsupported matching algorithm: Use one of [cosine_similarity, euclidean_distance, hamming_distance].",
    "Invalid similarity threshold: Threshold must be between 0.1 and 1.0.",
    "Invalid biometric type: Use one of [face, fingerprint, iris, palm].",
    "Invalid match mode: Use either 'identification' or 'verification'.",
    "Template format mismatch: Query and database templates have incompatible formats.",
    "Database template not found: One or more specified template IDs do not exist.",
    "Invalid rotation tolerance: Rotation tolerance must be between 0 and 45 degrees.",
    "Invalid max matches: max_matches must be between 1 and 100."
  ],
  "usage": "Provide query_template, database_templates, and biometric_type. Configure matching parameters like algorithm, threshold, and matching mode. The tool returns ranked matches with similarity scores.",
  "output_details": {
    "matches": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of matched template IDs ranked by similarity"
    },
    "similarity_scores": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Similarity scores corresponding to matched templates"
    },
    "best_match_id": {
      "type": "string",
      "description": "Template ID of highest scoring match"
    },
    "best_match_score": {
      "type": "number",
      "description": "Highest similarity score achieved"
    },
    "total_comparisons": {
      "type": "integer",
      "description": "Total number of template comparisons performed"
    },
    "matching_time_ms": {
      "type": "number",
      "description": "Time taken for matching in milliseconds"
    },
    "match_decision": {
      "type": "boolean",
      "description": "Whether a positive match was found above threshold"
    }
  }
}