{
  "tool_name": "ROI Extraction Tool",
  "tool_description": "Extracts regions of interest from medical images based on coordinates, anatomical landmarks, or automatic segmentation, with support for multiple ROI shapes and batch processing.",
  "parameters": {
    "image_path": {
      "type": "string",
      "required": true,
      "description": "Path to the input medical image"
    },
    "roi_method": {
      "type": "string",
      "required": true,
      "description": "ROI extraction method (coordinates, landmark, automatic, template_matching)"
    },
    "coordinates": {
      "type": "array",
      "required": false,
      "description": "ROI coordinates [x1, y1, x2, y2] for rectangular region",
      "items": {
        "type": "integer"
      },
      "default": "None"
    },
    "roi_shape": {
      "type": "string",
      "required": false,
      "description": "Shape of ROI (rectangle, circle, polygon)",
      "default": "rectangle"
    },
    "anatomical_structure": {
      "type": "string",
      "required": false,
      "description": "Target anatomical structure for automatic extraction",
      "default": "None"
    },
    "output_directory": {
      "type": "string",
      "required": true,
      "description": "Directory path for extracted ROI images"
    },
    "padding": {
      "type": "integer",
      "required": false,
      "description": "Padding pixels around ROI (0-50)",
      "default": 0
    },
    "maintain_aspect_ratio": {
      "type": "boolean",
      "required": false,
      "description": "Whether to maintain original aspect ratio",
      "default": true
    },
    "output_size": {
      "type": "array",
      "required": false,
      "description": "Desired output size [width, height] for extracted ROI",
      "items": {
        "type": "integer"
      },
      "default": "None"
    }
  },
  "error_messages": [
    "Input image not found: Ensure image_path points to a valid image file.",
    "Invalid ROI method: Use one of [coordinates, landmark, automatic, template_matching].",
    "Invalid coordinates: coordinates must be [x1, y1, x2, y2] with x1<x2 and y1<y2.",
    "Coordinates exceed image bounds: ROI coordinates extend beyond image dimensions.",
    "Unsupported ROI shape: Use one of [rectangle, circle, polygon].",
    "Invalid padding value: padding must be between 0 and 50 pixels.",
    "Invalid output size: output_size must be positive integers [width, height].",
    "Output directory invalid: Ensure output_directory is a valid writable location.",
    "Anatomical structure not recognized: Specified anatomical_structure is not supported."
  ],
  "usage": "Provide image_path, roi_method, and output_directory. For coordinate-based extraction, specify coordinates and roi_shape. For automatic extraction, set anatomical_structure. Use padding and output_size to control extracted region properties.",
  "output_details": {
    "extraction_success": {
      "type": "boolean",
      "description": "Whether ROI extraction completed successfully"
    },
    "extracted_roi_count": {
      "type": "integer",
      "description": "Number of ROIs successfully extracted"
    },
    "roi_dimensions": {
      "type": "array",
      "items": {
        "type": "integer"
      },
      "description": "Dimensions of extracted ROI [width, height]"
    },
    "roi_coordinates": {
      "type": "array",
      "items": {
        "type": "integer"
      },
      "description": "Final coordinates of extracted ROI"
    },
    "confidence_score": {
      "type": "number",
      "description": "Confidence score for automatic extraction methods"
    },
    "output_files": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Paths to extracted ROI image files"
    }
  }
}