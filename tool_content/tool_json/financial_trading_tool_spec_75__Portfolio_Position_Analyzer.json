{
  "tool_name": "Portfolio Position Analyzer",
  "tool_description": "Analyzes current portfolio positions, weights, and key metrics to establish baseline for rebalancing decisions.",
  "parameters": {
    "portfolio_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier for the portfolio"
    },
    "as_of_date": {
      "type": "string",
      "required": true,
      "description": "Analysis date in ISO 8601 format",
      "format": "date-time"
    },
    "include_cash": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include cash positions in analysis",
      "default": true
    }
  },
  "error_messages": [
    "Portfolio not found: The specified portfolio_id does not exist in the system.",
    "Invalid date format: as_of_date must be in ISO 8601 format.",
    "No position data available: No positions found for the specified portfolio and date."
  ],
  "usage": "Provide portfolio_id and as_of_date to get current position analysis. Set include_cash to false to exclude cash from calculations.",
  "output_details": {
    "total_value": {
      "type": "number",
      "description": "Total portfolio value"
    },
    "position_count": {
      "type": "integer",
      "description": "Number of positions held"
    },
    "asset_symbols": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of asset symbols in portfolio"
    },
    "current_weights": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Current allocation weights for each asset"
    },
    "market_values": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Market values for each position"
    }
  }
}