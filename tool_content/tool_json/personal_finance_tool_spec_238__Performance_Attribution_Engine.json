{
  "tool_name": "Performance Attribution Engine",
  "tool_description": "Performs detailed performance attribution analysis decomposing portfolio returns into asset allocation, security selection, and interaction effects relative to benchmark.",
  "parameters": {
    "portfolio_weights": {
      "type": "array",
      "required": true,
      "description": "Array of portfolio weights by asset/sector",
      "items": {
        "type": "number"
      },
      "minItems": 2
    },
    "benchmark_weights": {
      "type": "array",
      "required": true,
      "description": "Array of benchmark weights by asset/sector (same order as portfolio)",
      "items": {
        "type": "number"
      },
      "minItems": 2
    },
    "portfolio_returns": {
      "type": "array",
      "required": true,
      "description": "Array of portfolio returns by asset/sector",
      "items": {
        "type": "number"
      },
      "minItems": 2
    },
    "benchmark_returns": {
      "type": "array",
      "required": true,
      "description": "Array of benchmark returns by asset/sector (same order)",
      "items": {
        "type": "number"
      },
      "minItems": 2
    },
    "asset_names": {
      "type": "array",
      "required": true,
      "description": "Array of asset or sector names for labeling results",
      "items": {
        "type": "string"
      },
      "minItems": 2
    },
    "attribution_method": {
      "type": "string",
      "required": false,
      "description": "Attribution methodology: brinson, brinson_fachler, carino",
      "default": "brinson"
    },
    "currency": {
      "type": "string",
      "required": false,
      "description": "Base currency for attribution calculations",
      "default": "USD"
    }
  },
  "error_messages": [
    "Array length mismatch: All input arrays (weights, returns, asset_names) must have the same length.",
    "Weight validation error: Portfolio and benchmark weights should sum to approximately 1.0 (Â±0.01).",
    "Invalid attribution method: Use brinson, brinson_fachler, or carino.",
    "Minimum assets required: At least 2 assets/sectors needed for meaningful attribution analysis.",
    "Missing asset names: asset_names array cannot contain empty strings."
  ],
  "usage": "Provide portfolio and benchmark weights, returns, and asset names to perform attribution analysis. The tool decomposes excess returns into allocation and selection effects.",
  "output_details": {
    "allocation_effect": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Asset allocation effect by asset/sector"
    },
    "selection_effect": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Security selection effect by asset/sector"
    },
    "interaction_effect": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Interaction effect by asset/sector"
    },
    "total_excess_return": {
      "type": "number",
      "description": "Total excess return versus benchmark"
    },
    "attribution_summary": {
      "type": "string",
      "description": "Text summary of key attribution drivers"
    }
  }
}