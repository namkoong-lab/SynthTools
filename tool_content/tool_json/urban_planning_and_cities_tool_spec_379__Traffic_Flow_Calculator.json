{
  "tool_name": "Traffic Flow Calculator",
  "tool_description": "Calculates comprehensive traffic flow metrics including density, velocity patterns, and throughput rates using traffic data and network topology.",
  "parameters": {
    "traffic_data": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "required": true,
      "description": "Array of traffic measurement values from Traffic Data Collector",
      "minItems": 1
    },
    "network_id": {
      "type": "string",
      "required": true,
      "description": "Network identifier from Road Network Loader"
    },
    "calculation_method": {
      "type": "string",
      "required": false,
      "description": "Flow calculation method: fundamental_diagram, macroscopic, microscopic",
      "default": "fundamental_diagram"
    },
    "free_flow_speed": {
      "type": "number",
      "required": false,
      "description": "Free flow speed in km/h for the network segments",
      "default": 50
    },
    "jam_density": {
      "type": "number",
      "required": false,
      "description": "Jam density in vehicles per km per lane",
      "default": 150
    }
  },
  "error_messages": [
    "Invalid traffic data: traffic_data array cannot be empty and must contain numeric values",
    "Network not found: Specified network_id does not exist or was not properly loaded",
    "Unsupported calculation method: Use one of [fundamental_diagram, macroscopic, microscopic]",
    "Invalid parameter values: free_flow_speed must be > 0, jam_density must be > 0",
    "Insufficient data: Not enough traffic data points for reliable flow calculations"
  ],
  "usage": "Provide traffic_data array and network_id from previous tools, optionally specify calculation_method and traffic flow parameters. Returns detailed flow metrics for network analysis.",
  "output_details": {
    "average_flow_rate": {
      "type": "number",
      "description": "Average traffic flow rate in vehicles per hour"
    },
    "average_density": {
      "type": "number",
      "description": "Average traffic density in vehicles per km per lane"
    },
    "average_speed": {
      "type": "number",
      "description": "Average traffic speed in km/h"
    },
    "flow_metrics": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Detailed flow metrics for each network segment"
    },
    "level_of_service": {
      "type": "string",
      "description": "Overall level of service classification: A, B, C, D, E, or F"
    }
  }
}