{
  "tool_name": "Patient Record Merger",
  "tool_description": "Merges duplicate patient records while preserving data integrity, maintaining audit trails, and handling conflicts between records.",
  "parameters": {
    "primary_patient_id": {
      "type": "string",
      "required": true,
      "description": "Patient ID to keep as primary record"
    },
    "duplicate_patient_ids": {
      "type": "array",
      "required": true,
      "description": "Array of duplicate patient IDs to merge",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 10
    },
    "merge_strategy": {
      "type": "string",
      "required": false,
      "description": "Merge strategy: keep_primary, keep_most_recent, or manual",
      "default": "keep_primary"
    },
    "field_preferences": {
      "type": "array",
      "required": false,
      "description": "Array of field-level merge preferences",
      "items": {
        "type": "string"
      },
      "default": "None"
    },
    "merged_by": {
      "type": "string",
      "required": true,
      "description": "User ID performing the merge operation"
    },
    "merge_reason": {
      "type": "string",
      "required": true,
      "description": "Reason for merging records"
    },
    "preserve_history": {
      "type": "boolean",
      "required": false,
      "description": "Whether to preserve all historical data",
      "default": true
    },
    "notification_required": {
      "type": "boolean",
      "required": false,
      "description": "Whether to send merge notifications",
      "default": true
    }
  },
  "error_messages": [
    "Primary patient not found: primary_patient_id does not exist in the system.",
    "Duplicate patient not found: One or more duplicate_patient_ids do not exist.",
    "Invalid merge strategy: Use keep_primary, keep_most_recent, or manual.",
    "Merge conflict detected: Records contain conflicting data that requires manual resolution.",
    "Permission denied: User does not have permission to merge patient records.",
    "Merge failed: Database error occurred during merge operation.",
    "Self-merge attempted: Cannot merge a patient record with itself."
  ],
  "usage": "Provide primary_patient_id, duplicate_patient_ids array, merged_by, and merge_reason. Optionally specify merge_strategy, field_preferences, and control history preservation and notifications.",
  "output_details": {
    "merge_status": {
      "type": "string",
      "description": "Merge operation result (success, failed, partial, conflicts)"
    },
    "merged_record_id": {
      "type": "string",
      "description": "Final patient ID after merge"
    },
    "conflicts_detected": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of data conflicts that need resolution"
    },
    "merge_timestamp": {
      "type": "string",
      "description": "When the merge was completed"
    },
    "archived_records": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of patient IDs that were archived during merge"
    }
  }
}