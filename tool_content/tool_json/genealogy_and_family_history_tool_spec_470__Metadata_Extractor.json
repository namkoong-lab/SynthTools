{
  "tool_name": "Metadata Extractor",
  "tool_description": "Extracts structured genealogical metadata from classified documents including names, dates, locations, and relationships using document-specific templates.",
  "parameters": {
    "document_text": {
      "type": "string",
      "required": true,
      "description": "OCR extracted text content"
    },
    "document_type": {
      "type": "string",
      "required": true,
      "description": "Document classification from Document Type Classifier"
    },
    "extraction_template": {
      "type": "string",
      "required": false,
      "default": "auto",
      "description": "Metadata template to use: auto, vital_records, census, immigration, military, custom"
    },
    "date_format_hint": {
      "type": "string",
      "required": false,
      "default": "auto",
      "description": "Expected date format pattern for better date parsing"
    },
    "location_standardization": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Standardize location names to modern equivalents"
    },
    "name_parsing": {
      "type": "string",
      "required": false,
      "default": "standard",
      "description": "Name parsing approach: standard, historical, or modern"
    },
    "relationship_extraction": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Extract family relationships from text"
    },
    "custom_fields": {
      "type": "array",
      "required": false,
      "default": "None",
      "items": {
        "type": "string"
      },
      "description": "Additional metadata fields to extract"
    },
    "language_context": {
      "type": "string",
      "required": false,
      "default": "english",
      "description": "Language context for name and location parsing"
    },
    "strict_validation": {
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Apply strict validation to extracted metadata"
    },
    "confidence_threshold": {
      "type": "number",
      "required": false,
      "default": 70,
      "description": "Minimum confidence for metadata extraction (0-100)"
    }
  },
  "error_messages": [
    "Empty document text: Provide OCR extracted text for metadata extraction.",
    "Invalid document type: Document type must match supported genealogy record types.",
    "Unsupported extraction template: Use one of [auto, vital_records, census, immigration, military, custom].",
    "Invalid name parsing method: Use 'standard', 'historical', or 'modern'.",
    "Invalid confidence threshold: Value must be between 0 and 100.",
    "Custom fields error: Custom field names must be valid strings.",
    "Template mismatch: Selected template doesn't match document type classification.",
    "Extraction failed: Unable to parse metadata from document text.",
    "Language not supported: Use supported language code for parsing context."
  ],
  "usage": "Provide document_text and document_type from classification, choose appropriate extraction_template or use auto-detection, enable location_standardization for modern place names, set name_parsing method based on historical period.",
  "output_details": {
    "extracted_metadata": {
      "type": "string",
      "description": "JSON-formatted structured metadata extracted from document"
    },
    "person_names": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "All person names identified in the document"
    },
    "dates_found": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "All dates extracted with standardized formatting"
    },
    "locations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Geographic locations mentioned in the document"
    },
    "relationships": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Family relationships identified between individuals"
    },
    "extraction_confidence": {
      "type": "number",
      "description": "Overall confidence in metadata accuracy (0-100)"
    },
    "uncertain_fields": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Metadata fields with low confidence scores"
    }
  }
}