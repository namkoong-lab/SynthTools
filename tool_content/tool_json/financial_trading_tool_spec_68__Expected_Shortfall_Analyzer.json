{
  "tool_name": "Expected Shortfall Analyzer",
  "tool_description": "Calculates Expected Shortfall (Conditional VaR) to measure tail risk beyond VaR threshold using multiple estimation methods.",
  "parameters": {
    "es_method": {
      "type": "string",
      "required": true,
      "description": "ES calculation method: parametric, historical, monte_carlo"
    },
    "confidence_level": {
      "type": "number",
      "required": true,
      "description": "Confidence level for ES calculation (0.8-0.999)"
    },
    "tail_estimation": {
      "type": "string",
      "required": false,
      "description": "Tail estimation approach: standard, evt_peaks, evt_threshold",
      "default": "standard"
    }
  },
  "error_messages": [
    "Invalid ES method: Use parametric, historical, or monte_carlo methods only.",
    "Invalid confidence level: Confidence level must be between 0.8 and 0.999.",
    "Insufficient tail data: Not enough extreme observations for reliable ES estimation.",
    "EVT estimation failed: Extreme Value Theory parameters could not be estimated reliably."
  ],
  "usage": "Select ES method and confidence level. Optionally specify tail estimation approach for extreme value analysis. Requires return data and VaR calculations.",
  "output_details": {
    "expected_shortfall": {
      "type": "number",
      "description": "Expected Shortfall estimate in portfolio currency"
    },
    "es_percentage": {
      "type": "number",
      "description": "Expected Shortfall as percentage of portfolio value"
    },
    "tail_observations": {
      "type": "integer",
      "description": "Number of observations used for tail risk estimation"
    }
  }
}