{
  "tool_name": "Hierarchy Merger",
  "tool_description": "Merges multiple account hierarchies or branches while maintaining data integrity and resolving conflicts.",
  "parameters": {
    "primary_hierarchy_id": {
      "type": "string",
      "required": true,
      "description": "ID of the primary hierarchy to merge into"
    },
    "secondary_hierarchy_ids": {
      "type": "array",
      "required": true,
      "description": "Array of secondary hierarchy IDs to merge",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 10
    },
    "merge_strategy": {
      "type": "string",
      "required": true,
      "description": "Strategy for handling conflicts: primary_wins, secondary_wins, manual_review, merge_all"
    },
    "preserve_relationships": {
      "type": "boolean",
      "required": false,
      "description": "Whether to preserve all existing relationships",
      "default": true
    },
    "auto_resolve_duplicates": {
      "type": "boolean",
      "required": false,
      "description": "Whether to automatically resolve duplicate accounts",
      "default": false
    }
  },
  "error_messages": [
    "Invalid primary hierarchy: Primary hierarchy ID does not exist or is inaccessible.",
    "Invalid secondary hierarchy: One or more secondary hierarchy IDs do not exist.",
    "Invalid merge strategy: Strategy must be one of: primary_wins, secondary_wins, manual_review, merge_all.",
    "Merge conflict detected: Hierarchies contain conflicting data that requires manual resolution.",
    "Circular dependency would result: Merge would create circular references in the hierarchy.",
    "Insufficient permissions: User does not have permission to merge these hierarchies."
  ],
  "usage": "Provide primary_hierarchy_id and array of secondary_hierarchy_ids to merge. Select appropriate merge_strategy and configure preservation options. The tool handles complex hierarchy merging operations.",
  "output_details": {
    "merge_id": {
      "type": "string",
      "description": "Unique identifier for the merge operation"
    },
    "merged_hierarchy_id": {
      "type": "string",
      "description": "ID of the resulting merged hierarchy"
    },
    "accounts_merged": {
      "type": "integer",
      "description": "Number of accounts successfully merged"
    },
    "conflicts_found": {
      "type": "integer",
      "description": "Number of conflicts identified during merge"
    },
    "merge_status": {
      "type": "string",
      "description": "Status of merge operation: completed, partial, failed, or pending_review"
    },
    "merge_timestamp": {
      "type": "string",
      "description": "When the merge was completed in ISO 8601 format"
    }
  }
}