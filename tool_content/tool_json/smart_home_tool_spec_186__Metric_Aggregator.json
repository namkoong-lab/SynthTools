{
  "tool_name": "Metric Aggregator",
  "tool_description": "Computes statistical aggregations of air quality metrics over specified time windows including averages, min/max, and percentiles.",
  "parameters": {
    "validated_data": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "required": true,
      "description": "Array of validated sensor readings"
    },
    "timestamps": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Array of ISO 8601 timestamps corresponding to readings"
    },
    "aggregation_window": {
      "type": "string",
      "required": true,
      "description": "Time window for aggregation: hourly, daily, weekly"
    },
    "statistics": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": false,
      "description": "Statistics to compute: mean, median, min, max, std, p25, p75, p95",
      "default": [
        "mean",
        "min",
        "max"
      ]
    },
    "metric_name": {
      "type": "string",
      "required": true,
      "description": "Name of the metric being aggregated"
    }
  },
  "error_messages": [
    "Data length mismatch: validated_data and timestamps arrays must have same length.",
    "Invalid aggregation window: Use hourly, daily, or weekly.",
    "Invalid statistic: Use combinations of [mean, median, min, max, std, p25, p75, p95].",
    "Insufficient data: Need at least 2 data points for aggregation.",
    "Invalid timestamp format: All timestamps must be valid ISO 8601 format."
  ],
  "usage": "Provide validated_data with corresponding timestamps, specify aggregation_window and metric_name. Optionally select which statistics to compute.",
  "output_details": {
    "window_start": {
      "type": "string",
      "description": "Start timestamp of aggregation window"
    },
    "window_end": {
      "type": "string",
      "description": "End timestamp of aggregation window"
    },
    "computed_stats": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Array of computed statistics in order requested"
    },
    "stat_names": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Names of statistics corresponding to computed values"
    },
    "sample_count": {
      "type": "integer",
      "description": "Number of data points used in aggregation"
    }
  }
}