{
  "tool_name": "Split Payment Processor",
  "tool_description": "Processes split payments by dividing transaction amounts among multiple recipients based on specified allocation rules and payment schedules.",
  "parameters": {
    "transaction_id": {
      "type": "string",
      "required": true,
      "description": "Unique identifier for the transaction"
    },
    "total_amount": {
      "type": "number",
      "required": true,
      "description": "Total transaction amount to be split"
    },
    "recipient_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Array of recipient identifiers"
    },
    "allocation_amounts": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "required": true,
      "description": "Array of allocation amounts corresponding to each recipient"
    },
    "allocation_type": {
      "type": "string",
      "required": false,
      "default": "fixed",
      "description": "Allocation method: fixed, percentage, priority_waterfall"
    },
    "currency": {
      "type": "string",
      "required": false,
      "default": "USD",
      "description": "Currency code (ISO 4217)"
    }
  },
  "error_messages": [
    "Mismatched arrays: recipient_ids and allocation_amounts must have the same length.",
    "Invalid allocation total: Sum of allocation amounts must equal total_amount for fixed allocation type.",
    "Invalid allocation type: Must be one of [fixed, percentage, priority_waterfall].",
    "Empty recipient list: At least one recipient must be specified.",
    "Invalid amount: All amounts must be greater than 0.",
    "Percentage allocation error: For percentage allocation, values must sum to 100."
  ],
  "usage": "Provide transaction_id, total_amount, recipient_ids, and allocation_amounts. The tool validates allocations and creates split payment instructions for each recipient.",
  "output_details": {
    "split_instructions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of payment instructions for each recipient"
    },
    "total_allocated": {
      "type": "number",
      "description": "Total amount allocated across all recipients"
    },
    "remaining_amount": {
      "type": "number",
      "description": "Any remaining amount after allocation"
    },
    "processing_status": {
      "type": "string",
      "description": "Status of the split payment processing"
    }
  }
}