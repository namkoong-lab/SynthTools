{
  "tool_name": "Peer Group Comparator",
  "tool_description": "Compares customer behavior against peer groups based on demographics and transaction characteristics to identify relative risk patterns.",
  "parameters": {
    "target_customer_id": {
      "type": "string",
      "required": true,
      "description": "Customer ID for peer comparison analysis"
    },
    "comparison_metrics": {
      "type": "array",
      "required": true,
      "description": "Metrics to use for peer comparison",
      "items": {
        "type": "string"
      },
      "minItems": 2,
      "maxItems": 15
    },
    "peer_group_size": {
      "type": "integer",
      "required": false,
      "description": "Number of peers to include in comparison group",
      "default": 50
    },
    "demographic_matching": {
      "type": "boolean",
      "required": false,
      "description": "Whether to match peers based on demographics",
      "default": true
    },
    "behavior_matching": {
      "type": "boolean",
      "required": false,
      "description": "Whether to match peers based on historical behavior patterns",
      "default": true
    },
    "exclusion_criteria": {
      "type": "array",
      "required": false,
      "description": "Criteria to exclude certain customers from peer group",
      "items": {
        "type": "string"
      },
      "default": "None"
    },
    "statistical_method": {
      "type": "string",
      "required": false,
      "description": "Statistical method for comparison: percentile, zscore, or iqr",
      "default": "percentile"
    },
    "confidence_interval": {
      "type": "number",
      "required": false,
      "description": "Confidence interval for statistical comparison (0.90-0.99)",
      "default": 0.95
    },
    "minimum_peer_transactions": {
      "type": "integer",
      "required": false,
      "description": "Minimum number of transactions required for peers",
      "default": 10
    },
    "comparison_period_days": {
      "type": "integer",
      "required": false,
      "description": "Number of days to look back for comparison data",
      "default": 90
    },
    "weight_recent_activity": {
      "type": "boolean",
      "required": false,
      "description": "Whether to give more weight to recent activity in comparisons",
      "default": true
    },
    "outlier_detection": {
      "type": "boolean",
      "required": false,
      "description": "Whether to identify outlier behavior relative to peers",
      "default": true
    }
  },
  "error_messages": [
    "Invalid peer group size: peer_group_size must be between 10 and 500",
    "Insufficient comparison metrics: comparison_metrics must contain at least 2 valid metrics",
    "Invalid statistical method: statistical_method must be one of [percentile, zscore, iqr]",
    "Invalid confidence interval: confidence_interval must be between 0.90 and 0.99",
    "Insufficient peer data: Unable to find enough qualifying peers for comparison",
    "Invalid comparison period: comparison_period_days must be between 7 and 365 days"
  ],
  "usage": "Specify target_customer_id and comparison_metrics, then configure peer group parameters and statistical methods for comprehensive peer-relative analysis.",
  "output_details": {
    "peer_percentile_rankings": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Percentile rankings for each comparison metric"
    },
    "peer_risk_relative_score": {
      "type": "number",
      "description": "Risk score relative to peer group (0-100)"
    },
    "outlier_metrics": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Metrics where customer significantly deviates from peers"
    },
    "peer_group_summary": {
      "type": "string",
      "description": "Summary characteristics of the identified peer group"
    }
  }
}