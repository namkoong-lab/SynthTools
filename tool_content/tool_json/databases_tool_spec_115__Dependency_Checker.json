{
  "tool_name": "Dependency Checker",
  "tool_description": "Analyzes backup dependencies to identify backup chains and prevent deletion of backups that are required for restore operations.",
  "parameters": {
    "backup_metadata": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Backup metadata in format: path|size|created_time|db_type|backup_type",
      "minItems": 1,
      "maxItems": 5000
    },
    "retention_decisions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "required": true,
      "description": "Initial retention decisions in format: path|action|reason",
      "minItems": 1,
      "maxItems": 5000
    },
    "check_restore_chains": {
      "type": "boolean",
      "required": false,
      "description": "Verify complete restore chains are preserved",
      "default": true
    }
  },
  "error_messages": [
    "Metadata format error: Each backup_metadata entry must follow format 'path|size|created_time|db_type|backup_type'.",
    "Decision format error: Each retention_decisions entry must follow format 'path|action|reason'.",
    "Array size mismatch: backup_metadata and retention_decisions arrays must contain entries for the same backup paths.",
    "Data limit exceeded: Maximum 5000 entries allowed for dependency analysis."
  ],
  "usage": "Provide backup_metadata and initial retention_decisions to analyze dependencies. Set check_restore_chains=true to ensure complete restore paths are maintained.",
  "output_details": {
    "dependency_analysis": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Dependency relationships in format: backup_path|depends_on|dependency_type"
    },
    "updated_decisions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Modified retention decisions preserving dependencies"
    },
    "broken_chains": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of restore chains that would be broken by original decisions"
    },
    "dependency_summary": {
      "type": "string",
      "description": "Summary of dependency analysis and any decision modifications made"
    }
  }
}