{
  "tool_name": "Contrast_Safety_Checker",
  "tool_description": "Evaluates patient safety for contrast agent administration based on medical history, allergies, and contraindications.",
  "parameters": {
    "patient_id": {
      "type": "string",
      "required": true,
      "description": "Patient identifier"
    },
    "contrast_type": {
      "type": "string",
      "required": true,
      "description": "Type of contrast agent (iodinated, gadolinium, barium, microbubble)"
    },
    "allergies": {
      "type": "array",
      "required": true,
      "description": "List of known patient allergies",
      "items": {
        "type": "string"
      }
    },
    "creatinine_level": {
      "type": "number",
      "required": false,
      "description": "Serum creatinine level in mg/dL",
      "default": null
    },
    "egfr": {
      "type": "number",
      "required": false,
      "description": "Estimated glomerular filtration rate in mL/min/1.73m²",
      "default": null
    },
    "medications": {
      "type": "array",
      "required": false,
      "description": "Current medications",
      "items": {
        "type": "string"
      },
      "default": []
    },
    "previous_contrast_reaction": {
      "type": "boolean",
      "required": false,
      "description": "History of previous contrast reactions",
      "default": false
    },
    "diabetes": {
      "type": "boolean",
      "required": false,
      "description": "Patient has diabetes",
      "default": false
    },
    "thyroid_disorder": {
      "type": "boolean",
      "required": false,
      "description": "Patient has thyroid disorder",
      "default": false
    },
    "pregnancy_status": {
      "type": "string",
      "required": false,
      "description": "Pregnancy status (not_pregnant, pregnant, unknown)",
      "default": "unknown"
    }
  },
  "error_messages": [
    "Invalid patient ID: Patient ID must be a valid identifier.",
    "Unsupported contrast type: Contrast type must be iodinated, gadolinium, barium, or microbubble.",
    "Invalid creatinine level: Creatinine level must be between 0.1 and 20.0 mg/dL.",
    "Invalid eGFR value: eGFR must be between 5 and 200 mL/min/1.73m².",
    "Invalid pregnancy status: Pregnancy status must be not_pregnant, pregnant, or unknown.",
    "Missing critical data: Creatinine or eGFR required for nephrotoxic contrast agents."
  ],
  "usage": "Provide patient_id, contrast_type, and allergies list. Include kidney function tests (creatinine/eGFR) for iodinated or gadolinium contrast. Add relevant medical conditions and medications for comprehensive safety assessment.",
  "output_details": {
    "safety_clearance": {
      "type": "string",
      "description": "Safety assessment result (approved, conditional, contraindicated)"
    },
    "risk_level": {
      "type": "string",
      "description": "Risk level for contrast administration (low, moderate, high)"
    },
    "precautions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of required precautions"
    },
    "contraindications": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of identified contraindications"
    }
  }
}