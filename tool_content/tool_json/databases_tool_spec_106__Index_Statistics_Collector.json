{
  "tool_name": "Index Statistics Collector",
  "tool_description": "Gathers detailed index statistics including usage patterns, selectivity, and performance metrics across database indexes.",
  "parameters": {
    "connection_id": {
      "type": "string",
      "required": true,
      "description": "Database connection identifier from Database Connection Manager"
    },
    "schema_name": {
      "type": "string",
      "required": true,
      "description": "Database schema name containing the indexes"
    },
    "table_name": {
      "type": "string",
      "required": false,
      "description": "Specific table to analyze indexes for (if empty, analyzes all tables)",
      "default": null
    },
    "index_types": {
      "type": "array",
      "required": false,
      "description": "Types of indexes to include (btree, hash, gin, gist, bitmap)",
      "items": {
        "type": "string"
      },
      "default": null
    },
    "include_unused": {
      "type": "boolean",
      "required": false,
      "description": "Whether to include indexes with zero usage",
      "default": true
    },
    "usage_threshold": {
      "type": "integer",
      "required": false,
      "description": "Minimum usage count to consider an index active (0-10000)",
      "default": 0
    }
  },
  "error_messages": [
    "Invalid connection: Connection ID not found or connection closed.",
    "Schema not found: Specified schema does not exist in the database.",
    "Table not found: Specified table does not exist in the schema.",
    "Invalid index type: Use supported index types for your database system.",
    "Invalid usage threshold: Must be between 0-10000.",
    "Access denied: Insufficient privileges to read index statistics."
  ],
  "usage": "Provide connection_id and schema_name to collect index statistics. Optionally filter by table_name, index_types, or set usage_threshold to focus on active indexes.",
  "output_details": {
    "collection_timestamp": {
      "type": "string",
      "description": "When the index statistics were collected"
    },
    "index_count": {
      "type": "integer",
      "description": "Total number of indexes analyzed"
    },
    "unused_indexes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of unused index names"
    },
    "high_maintenance_indexes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Indexes with high maintenance overhead"
    },
    "total_index_size_mb": {
      "type": "number",
      "description": "Total size of all analyzed indexes in megabytes"
    }
  }
}