{
  "tool_name": "Image Quality Metrics Calculator",
  "tool_description": "Calculates comprehensive image quality metrics to evaluate the effectiveness of medical image enhancement processes.",
  "parameters": {
    "original_image": {
      "type": "array",
      "required": true,
      "description": "Original image data as flattened array",
      "items": {
        "type": "number"
      }
    },
    "processed_image": {
      "type": "array",
      "required": true,
      "description": "Processed image data as flattened array",
      "items": {
        "type": "number"
      }
    },
    "image_dimensions": {
      "type": "array",
      "required": true,
      "description": "Image dimensions [height, width]",
      "items": {
        "type": "integer"
      }
    },
    "reference_image": {
      "type": "array",
      "required": false,
      "description": "Ground truth reference image if available",
      "items": {
        "type": "number"
      },
      "default": null
    },
    "metrics_to_calculate": {
      "type": "array",
      "required": false,
      "description": "Specific metrics to calculate",
      "items": {
        "type": "string"
      },
      "default": [
        "psnr",
        "ssim",
        "mse",
        "snr",
        "contrast",
        "sharpness"
      ]
    },
    "roi_coordinates": {
      "type": "array",
      "required": false,
      "description": "Region of interest coordinates [x1, y1, x2, y2] for focused analysis",
      "items": {
        "type": "integer"
      },
      "default": null
    }
  },
  "error_messages": [
    "Image dimension mismatch: Original and processed images must have identical dimensions.",
    "Invalid metrics selection: Use combinations of [psnr, ssim, mse, snr, contrast, sharpness, entropy].",
    "Invalid ROI coordinates: ROI must be within image boundaries and form a valid rectangle.",
    "Reference image dimension mismatch: Reference image must have same dimensions as input images.",
    "Insufficient image data: Images must contain valid numeric pixel values."
  ],
  "usage": "Provide original_image, processed_image, and image_dimensions. Optionally include reference_image for ground truth comparison and specify metrics_to_calculate for targeted analysis.",
  "output_details": {
    "psnr_score": {
      "type": "number",
      "description": "Peak Signal-to-Noise Ratio value"
    },
    "ssim_score": {
      "type": "number",
      "description": "Structural Similarity Index score"
    },
    "mse_score": {
      "type": "number",
      "description": "Mean Squared Error value"
    },
    "snr_improvement": {
      "type": "number",
      "description": "Signal-to-Noise Ratio improvement factor"
    },
    "contrast_enhancement": {
      "type": "number",
      "description": "Contrast enhancement factor"
    },
    "sharpness_improvement": {
      "type": "number",
      "description": "Sharpness improvement score"
    },
    "overall_quality_score": {
      "type": "number",
      "description": "Composite quality improvement score (0-100)"
    }
  }
}