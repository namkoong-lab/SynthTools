{
  "tool_name": "Margin Validator",
  "tool_description": "Validates calculated prices against margin requirements, business rules, and profitability constraints to ensure pricing compliance.",
  "parameters": {
    "product_prices": {
      "type": "array",
      "required": true,
      "description": "Array of product prices to validate",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "maxItems": 1000
    },
    "product_costs": {
      "type": "array",
      "required": true,
      "description": "Corresponding product costs for margin calculation",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "maxItems": 1000
    },
    "min_margin_threshold": {
      "type": "number",
      "required": true,
      "description": "Minimum acceptable margin percentage"
    },
    "validation_strictness": {
      "type": "string",
      "required": false,
      "description": "Validation level: strict, moderate, or lenient",
      "default": "moderate"
    }
  },
  "error_messages": [
    "Array length mismatch: product_prices and product_costs arrays must have the same length.",
    "Invalid price data: All prices must be positive numbers.",
    "Invalid cost data: All costs must be positive numbers.",
    "Invalid margin threshold: min_margin_threshold must be between 0 and 100.",
    "Invalid validation strictness: validation_strictness must be one of [strict, moderate, lenient]."
  ],
  "usage": "Provide arrays of product_prices and corresponding product_costs along with min_margin_threshold. The tool validates margins and flags any violations.",
  "output_details": {
    "validation_timestamp": {
      "type": "string",
      "description": "When the margin validation was performed",
      "format": "date-time"
    },
    "validation_passed": {
      "type": "boolean",
      "description": "Whether all prices passed margin validation"
    },
    "margin_violations": {
      "type": "array",
      "items": {
        "type": "integer"
      },
      "description": "Indices of products that failed margin requirements"
    },
    "calculated_margins": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Calculated margin percentages for each product"
    },
    "validation_summary": {
      "type": "string",
      "description": "Summary of validation results and recommendations"
    }
  }
}