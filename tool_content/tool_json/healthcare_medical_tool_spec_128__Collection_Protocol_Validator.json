{
  "tool_name": "Collection_Protocol_Validator",
  "tool_description": "Validates that sample collection follows proper protocols based on test type, patient conditions, and regulatory requirements.",
  "parameters": {
    "test_code": {
      "type": "string",
      "required": true,
      "description": "Laboratory test code or identifier"
    },
    "sample_type": {
      "type": "string",
      "required": true,
      "description": "Type of sample being collected"
    },
    "collection_method": {
      "type": "string",
      "required": true,
      "description": "Method used for sample collection"
    },
    "fasting_required": {
      "type": "boolean",
      "required": false,
      "description": "Whether patient fasting is required",
      "default": false
    },
    "patient_medications": {
      "type": "array",
      "required": false,
      "description": "List of current patient medications that might affect results",
      "items": {
        "type": "string"
      },
      "default": "None"
    },
    "collection_time": {
      "type": "string",
      "required": true,
      "description": "Planned or actual collection time",
      "format": "date-time"
    },
    "collector_id": {
      "type": "string",
      "required": true,
      "description": "ID of the staff member collecting the sample"
    },
    "special_conditions": {
      "type": "array",
      "required": false,
      "description": "Any special patient conditions or requirements",
      "items": {
        "type": "string"
      },
      "default": "None"
    }
  },
  "error_messages": [
    "Unknown test code: The provided test_code is not recognized in the laboratory system.",
    "Invalid collection method: The collection_method is not appropriate for this sample_type and test_code.",
    "Protocol violation: Fasting requirement not met or insufficient fasting duration.",
    "Medication interference: One or more patient medications may interfere with test results.",
    "Unauthorized collector: The collector_id is not certified for this type of sample collection.",
    "Invalid collection time: collection_time must be in valid ISO 8601 format.",
    "Special conditions conflict: The special_conditions are incompatible with the requested test."
  ],
  "usage": "Provide test_code, sample_type, collection_method, collection_time, and collector_id. Optionally specify fasting_required, patient_medications, and special_conditions. The tool validates protocol compliance and identifies any issues.",
  "output_details": {
    "validation_status": {
      "type": "string",
      "description": "Overall validation result: APPROVED, REJECTED, or WARNING"
    },
    "protocol_compliance": {
      "type": "boolean",
      "description": "Whether the collection follows proper protocols"
    },
    "warnings": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of warnings or concerns about the collection"
    },
    "required_actions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Actions needed before collection can proceed"
    }
  }
}