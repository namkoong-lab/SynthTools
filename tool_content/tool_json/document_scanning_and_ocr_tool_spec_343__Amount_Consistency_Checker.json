{
  "tool_name": "Amount Consistency Checker",
  "tool_description": "Validates mathematical consistency of invoice amounts, checking subtotals, taxes, discounts, and total calculations for accuracy.",
  "parameters": {
    "subtotal": {
      "type": "number",
      "required": true,
      "description": "Invoice subtotal amount"
    },
    "tax_rate": {
      "type": "number",
      "required": true,
      "description": "Tax rate as percentage (e.g., 8.25 for 8.25%)"
    },
    "tax_amount": {
      "type": "number",
      "required": true,
      "description": "Tax amount charged"
    },
    "total_amount": {
      "type": "number",
      "required": true,
      "description": "Final total amount"
    },
    "discount_amount": {
      "type": "number",
      "required": false,
      "description": "Discount amount applied",
      "default": 0.0
    },
    "line_item_amounts": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "required": false,
      "description": "Individual line item amounts",
      "default": "None"
    },
    "tolerance": {
      "type": "number",
      "required": false,
      "description": "Acceptable calculation tolerance for rounding",
      "default": 0.02
    }
  },
  "error_messages": [
    "Negative amounts not allowed: All amount values must be non-negative.",
    "Tax rate out of range: Tax rate must be between 0 and 100 percent.",
    "Tolerance too high: Tolerance must be between 0.00 and 1.00.",
    "Inconsistent calculations: Mathematical inconsistencies detected in amount calculations.",
    "Line items don't sum to subtotal: Individual line items don't match subtotal within tolerance."
  ],
  "usage": "Provide all invoice amounts including subtotal, tax rate, tax amount, and total. Optionally include line item amounts and set calculation tolerance.",
  "output_details": {
    "is_consistent": {
      "type": "boolean",
      "description": "Whether all calculations are mathematically consistent"
    },
    "calculated_tax": {
      "type": "number",
      "description": "Expected tax amount based on subtotal and rate"
    },
    "calculated_total": {
      "type": "number",
      "description": "Expected total amount based on calculations"
    },
    "discrepancies": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of calculation discrepancies found"
    },
    "variance_amount": {
      "type": "number",
      "description": "Total variance between expected and actual amounts"
    }
  }
}