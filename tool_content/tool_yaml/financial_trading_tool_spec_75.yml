field_name: financial_trading
subfield: portfolio_construction_and_optimization
task: Portfolio rebalancing and trade execution planning
tool_description: "**STEP 1 — Rate task difficulty**\n\nThis task is **hard** due to the complexity of coordinating multiple interdependent components: real-time portfolio analysis, complex optimization constraints, risk management calculations, transaction cost modeling, market impact considerations, and execution timing across multiple assets simultaneously. Errors can have significant financial impact, and the task requires sophisticated data processing and coordination between multiple subsystems.\n\n**STEP 2 — Set a tool budget**\n\nGiven the hard difficulty rating, I'm targeting **17 tools** to cover the comprehensive workflow from portfolio analysis through trade execution planning.\n\n**STEP 3 — List all tool names and dependencies**\n\n**Upstream → Downstream Flow:**\n1. **Portfolio Position Analyzer** → current positions data\n2. **Target Allocation Calculator** → target weights\n3. **Rebalancing Signal Generator** → rebalancing recommendations  \n4. **Transaction Cost Estimator** → cost estimates\n5. **Market Impact Analyzer** → market impact predictions\n6. **Risk Constraint Validator** → risk compliance checks\n7. **Optimization Engine** → optimized allocations\n8. **Trade Order Generator** → preliminary trade orders\n9. **Liquidity Assessment Tool** → liquidity analysis\n10. **Execution Timeline Planner** → execution schedule\n11. **Order Size Optimizer** → optimized order sizes\n12. **Market Condition Monitor** → market state assessment\n13. **Tax Impact Calculator** → tax implications\n14. **Performance Attribution Analyzer** → performance breakdown\n15. **Execution Strategy Selector** → execution algorithms\n16. **Trade Validation Engine** → trade validation\n17. **Rebalancing Report Generator** → comprehensive reporting\n\n**STEP 4 — Multi-tool plans**\n\n**Simple Plans:**\n- **Basic Rebalancing**: Portfolio Position Analyzer → Target Allocation Calculator → Rebalancing Signal Generator → Trade Order Generator\n- **Risk Check**: Risk Constraint Validator → Optimization Engine → Trade Validation Engine\n\n**Medium Plans:**  \n- **Cost-Aware Rebalancing**: Portfolio Position Analyzer → Target Allocation Calculator → Transaction Cost Estimator → Market Impact Analyzer → Optimization Engine → Trade Order Generator\n- **Execution Planning**: Trade Order Generator → Liquidity Assessment Tool → Execution Timeline Planner → Order Size Optimizer\n\n**Complex Plans:**\n- **Full Portfolio Optimization**: Portfolio Position Analyzer → Target Allocation Calculator → Risk Constraint Validator → Transaction Cost Estimator → Market Impact Analyzer → Tax Impact Calculator → Optimization Engine → Trade Order Generator → Liquidity Assessment Tool → Execution Strategy Selector → Execution Timeline Planner → Order Size Optimizer → Trade Validation Engine → Rebalancing Report Generator\n- **Dynamic Execution Management**: Market Condition Monitor → Liquidity Assessment Tool → Execution Strategy Selector → Order Size Optimizer → Execution Timeline Planner → Trade Validation Engine\n\n**STEP 5 — Produce tools**\n\n```json\n{\n  \"tool_name\": \"Portfolio Position Analyzer\",\n  \"tool_description\": \"Analyzes current portfolio positions, weights, and key metrics to establish baseline for rebalancing decisions.\",\n  \"parameters\": {\n    \"portfolio_id\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Unique identifier for the portfolio\"\n    },\n    \"as_of_date\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Analysis date in ISO 8601 format\",\n      \"format\": \"date-time\"\n    },\n    \"include_cash\": {\n      \"type\": \"boolean\",\n      \"required\": false,\n      \"description\": \"Whether to include cash positions in analysis\",\n      \"default\": true\n    }\n  },\n  \"error_messages\": [\n    \"Portfolio not found: The specified portfolio_id does not exist in the system.\",\n    \"Invalid date format: as_of_date must be in ISO 8601 format.\",\n    \"No position data available: No positions found for the specified portfolio and date.\"\n\
  \  ],\n  \"usage\": \"Provide portfolio_id and as_of_date to get current position analysis. Set include_cash to false to exclude cash from calculations.\",\n  \"output_details\": {\n    \"total_value\": {\n      \"type\": \"number\",\n      \"description\": \"Total portfolio value\"\n    },\n    \"position_count\": {\n      \"type\": \"integer\",\n      \"description\": \"Number of positions held\"\n    },\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Array of asset symbols in portfolio\"\n    },\n    \"current_weights\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Current allocation weights for each asset\"\n    },\n    \"market_values\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Market values for each position\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Target Allocation Calculator\",\n  \"tool_description\": \"Calculates target portfolio allocations based on investment strategy, market conditions, and constraints.\",\n  \"parameters\": {\n    \"strategy_type\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Investment strategy: strategic, tactical, risk_parity, equal_weight, momentum, mean_reversion\"\n    },\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of asset symbols to allocate\",\n      \"items\": {\"type\": \"string\"},\n      \"minItems\": 2,\n      \"maxItems\": 100\n    },\n    \"risk_tolerance\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Risk tolerance level: conservative, moderate, aggressive\"\n    },\n    \"benchmark_symbol\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Benchmark symbol for relative allocations\",\n      \"default\": \"SPY\"\n    },\n    \"allocation_constraints\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Array of allocation constraints as percentages\",\n      \"items\": {\"type\": \"number\"},\n      \"default\": []\n    },\n    \"lookback_days\": {\n      \"type\": \"integer\",\n      \"required\": false,\n      \"description\": \"Historical lookback period for calculations\",\n      \"default\": 252\n    }\n  },\n  \"error_messages\": [\n    \"Invalid strategy type: Must be one of [strategic, tactical, risk_parity, equal_weight, momentum, mean_reversion].\",\n    \"Invalid risk tolerance: Must be one of [conservative, moderate, aggressive].\",\n    \"Asset data unavailable: Cannot retrieve data for one or more asset symbols.\",\n    \"Constraint violation: Allocation constraints sum exceeds 100% or contain negative values.\",\n    \"Insufficient data: Not enough historical data for the specified lookback period.\"\n  ],\n  \"usage\": \"Specify strategy_type, asset_symbols, and risk_tolerance. Optionally provide benchmark_symbol, allocation_constraints, and lookback_days for customized targeting.\",\n  \"output_details\": {\n    \"target_weights\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Target allocation weights for each asset\"\n    },\n    \"expected_return\": {\n      \"type\": \"number\",\n      \"description\": \"Expected portfolio return\"\n    },\n    \"expected_volatility\": {\n      \"type\": \"number\",\n      \"description\": \"Expected portfolio volatility\"\n    },\n    \"sharpe_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Expected Sharpe ratio\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Rebalancing Signal Generator\",\n  \"tool_description\": \"Generates rebalancing signals by comparing current and target allocations, considering tolerance bands and constraints.\",\n  \"parameters\": {\n    \"current_weights\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Current portfolio weights\",\n      \"items\": {\"type\": \"number\"\
  }\n    },\n    \"target_weights\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Target portfolio weights\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"tolerance_threshold\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Percentage threshold for triggering rebalancing (0-10)\",\n      \"default\": 2.0\n    },\n    \"minimum_trade_value\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Minimum trade value to execute\",\n      \"default\": 1000\n    }\n  },\n  \"error_messages\": [\n    \"Weight array mismatch: current_weights and target_weights must have the same length.\",\n    \"Invalid weights: All weights must be non-negative and sum to approximately 1.0.\",\n    \"Invalid threshold: tolerance_threshold must be between 0 and 10.\",\n    \"Invalid minimum trade: minimum_trade_value must be positive.\"\n  ],\n  \"usage\": \"Provide current_weights and target_weights arrays. Adjust tolerance_threshold and minimum_trade_value to control rebalancing sensitivity.\",\n  \"output_details\": {\n    \"rebalancing_required\": {\n      \"type\": \"boolean\",\n      \"description\": \"Whether rebalancing is needed\"\n    },\n    \"weight_deviations\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Deviation of current from target weights\"\n    },\n    \"assets_to_rebalance\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Asset symbols requiring rebalancing\"\n    },\n    \"urgency_score\": {\n      \"type\": \"number\",\n      \"description\": \"Rebalancing urgency score (0-100)\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Transaction Cost Estimator\",\n  \"tool_description\": \"Estimates transaction costs including commissions, spreads, and other trading fees for portfolio rebalancing trades.\",\n  \"parameters\": {\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of asset symbols to trade\",\n      \"items\": {\"type\": \"string\"}\n    },\n    \"trade_quantities\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Trade quantities for each asset\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"trade_directions\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Trade directions: buy or sell\",\n      \"items\": {\"type\": \"string\"}\n    },\n    \"broker_type\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Broker type: discount, full_service, institutional\",\n      \"default\": \"discount\"\n    },\n    \"market_hours\": {\n      \"type\": \"boolean\",\n      \"required\": false,\n      \"description\": \"Whether trading during market hours\",\n      \"default\": true\n    }\n  },\n  \"error_messages\": [\n    \"Array length mismatch: asset_symbols, trade_quantities, and trade_directions must have same length.\",\n    \"Invalid trade direction: Each direction must be 'buy' or 'sell'.\",\n    \"Invalid broker type: Must be one of [discount, full_service, institutional].\",\n    \"Invalid quantities: All trade quantities must be positive numbers.\"\n  ],\n  \"usage\": \"Provide arrays of asset_symbols, trade_quantities, and trade_directions. Specify broker_type and market_hours for accurate cost estimation.\",\n  \"output_details\": {\n    \"total_cost\": {\n      \"type\": \"number\",\n      \"description\": \"Total estimated transaction cost\"\n    },\n    \"commission_costs\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Commission costs per asset\"\n    },\n    \"spread_costs\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Bid-ask spread costs per asset\"\n    },\n    \"cost_percentage\": {\n      \"type\": \"number\",\n      \"description\": \"Total cost as percentage of trade value\"\n    }\n  }\n}\n```\n\
  \n```json\n{\n  \"tool_name\": \"Market Impact Analyzer\",\n  \"tool_description\": \"Analyzes potential market impact of large trades on asset prices and provides impact estimates.\",\n  \"parameters\": {\n    \"asset_symbol\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Asset symbol to analyze\"\n    },\n    \"trade_size\": {\n      \"type\": \"number\",\n      \"required\": true,\n      \"description\": \"Size of the trade in shares or units\"\n    },\n    \"avg_daily_volume\": {\n      \"type\": \"number\",\n      \"required\": true,\n      \"description\": \"Average daily trading volume\"\n    },\n    \"volatility\": {\n      \"type\": \"number\",\n      \"required\": true,\n      \"description\": \"Asset volatility (annualized)\"\n    },\n    \"execution_timeframe\": {\n      \"type\": \"integer\",\n      \"required\": false,\n      \"description\": \"Planned execution timeframe in minutes\",\n      \"default\": 60\n    }\n  },\n  \"error_messages\": [\n    \"Invalid asset symbol: Asset symbol not found or not tradeable.\",\n    \"Invalid trade size: Trade size must be positive.\",\n    \"Invalid volume data: Average daily volume must be positive.\",\n    \"Invalid volatility: Volatility must be non-negative.\",\n    \"Invalid timeframe: Execution timeframe must be positive integer.\"\n  ],\n  \"usage\": \"Provide asset_symbol, trade_size, avg_daily_volume, and volatility. Adjust execution_timeframe to model different execution speeds.\",\n  \"output_details\": {\n    \"estimated_impact\": {\n      \"type\": \"number\",\n      \"description\": \"Estimated price impact as percentage\"\n    },\n    \"participation_rate\": {\n      \"type\": \"number\",\n      \"description\": \"Trade size as percentage of daily volume\"\n    },\n    \"impact_risk\": {\n      \"type\": \"string\",\n      \"description\": \"Risk level: low, medium, high\"\n    },\n    \"recommended_split\": {\n      \"type\": \"integer\",\n      \"description\": \"Recommended number of trade splits\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Risk Constraint Validator\",\n  \"tool_description\": \"Validates portfolio allocations against risk constraints including concentration limits, sector limits, and correlation constraints.\",\n  \"parameters\": {\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of asset symbols in portfolio\",\n      \"items\": {\"type\": \"string\"}\n    },\n    \"proposed_weights\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Proposed allocation weights\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"max_individual_weight\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Maximum weight for any single asset (0-1)\",\n      \"default\": 0.20\n    },\n    \"max_sector_weight\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Maximum weight for any sector (0-1)\",\n      \"default\": 0.40\n    },\n    \"max_correlation\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Maximum allowed correlation between assets (0-1)\",\n      \"default\": 0.80\n    },\n    \"max_portfolio_volatility\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Maximum allowed portfolio volatility\",\n      \"default\": 0.25\n    },\n    \"min_diversification_ratio\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Minimum required diversification ratio\",\n      \"default\": 0.60\n    },\n    \"risk_budget_limits\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Risk budget limits per asset\",\n      \"items\": {\"type\": \"number\"},\n      \"default\": []\n    }\n  },\n  \"error_messages\": [\n    \"Array length mismatch: asset_symbols and proposed_weights must have same length.\",\n    \"Invalid weights: All weights must be non-negative and sum to 1.0.\",\n    \"Invalid constraint\
  \ values: All constraint parameters must be between 0 and 1.\",\n    \"Risk budget mismatch: risk_budget_limits array length must match asset count if provided.\"\n  ],\n  \"usage\": \"Provide asset_symbols and proposed_weights. Set constraint parameters to validate against risk limits. Empty risk_budget_limits means no individual risk budget constraints.\",\n  \"output_details\": {\n    \"constraints_passed\": {\n      \"type\": \"boolean\",\n      \"description\": \"Whether all constraints are satisfied\"\n    },\n    \"violations\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"List of constraint violations\"\n    },\n    \"portfolio_volatility\": {\n      \"type\": \"number\",\n      \"description\": \"Calculated portfolio volatility\"\n    },\n    \"diversification_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Portfolio diversification ratio\"\n    },\n    \"risk_contributions\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Risk contribution of each asset\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Optimization Engine\",\n  \"tool_description\": \"Optimizes portfolio allocations using various optimization techniques while respecting constraints and objectives.\",\n  \"parameters\": {\n    \"objective_function\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Optimization objective: max_sharpe, min_variance, max_return, risk_parity, black_litterman\"\n    },\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of asset symbols\",\n      \"items\": {\"type\": \"string\"}\n    },\n    \"expected_returns\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Expected returns for each asset\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"covariance_matrix\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Flattened covariance matrix\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"weight_bounds\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Min and max weight bounds alternating [min1, max1, min2, max2, ...]\",\n      \"items\": {\"type\": \"number\"},\n      \"default\": []\n    },\n    \"target_return\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Target return for mean-variance optimization\",\n      \"default\": null\n    },\n    \"risk_aversion\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Risk aversion parameter (0-10)\",\n      \"default\": 1.0\n    },\n    \"transaction_costs\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Transaction cost per asset\",\n      \"items\": {\"type\": \"number\"},\n      \"default\": []\n    },\n    \"current_weights\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Current portfolio weights for turnover minimization\",\n      \"items\": {\"type\": \"number\"},\n      \"default\": []\n    }\n  },\n  \"error_messages\": [\n    \"Invalid objective: Must be one of [max_sharpe, min_variance, max_return, risk_parity, black_litterman].\",\n    \"Array dimension mismatch: All input arrays must have consistent dimensions.\",\n    \"Invalid covariance matrix: Matrix must be positive semi-definite.\",\n    \"Invalid weight bounds: Bounds must be between 0 and 1, with min <= max for each asset.\",\n    \"Optimization failed: No feasible solution found with given constraints.\",\n    \"Invalid risk aversion: Must be between 0 and 10.\"\n  ],\n  \"usage\": \"Provide objective_function, asset_symbols, expected_returns, and covariance_matrix. Use optional parameters to add constraints and customize optimization.\",\n  \"output_details\": {\n    \"optimal_weights\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Optimized portfolio weights\"\
  \n    },\n    \"expected_return\": {\n      \"type\": \"number\",\n      \"description\": \"Expected portfolio return\"\n    },\n    \"expected_volatility\": {\n      \"type\": \"number\",\n      \"description\": \"Expected portfolio volatility\"\n    },\n    \"sharpe_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Portfolio Sharpe ratio\"\n    },\n    \"optimization_status\": {\n      \"type\": \"string\",\n      \"description\": \"Optimization status: success, failed, suboptimal\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Trade Order Generator\",\n  \"tool_description\": \"Generates detailed trade orders based on current and target portfolio allocations.\",\n  \"parameters\": {\n    \"current_positions\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Current position sizes\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"target_positions\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Target position sizes\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Asset symbols for positions\",\n      \"items\": {\"type\": \"string\"}\n    },\n    \"order_type\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Default order type: market, limit, stop_limit\",\n      \"default\": \"market\"\n    }\n  },\n  \"error_messages\": [\n    \"Position array mismatch: current_positions, target_positions, and asset_symbols must have same length.\",\n    \"Invalid order type: Must be one of [market, limit, stop_limit].\",\n    \"Invalid positions: All position values must be non-negative.\"\n  ],\n  \"usage\": \"Provide current_positions, target_positions, and asset_symbols. Choose order_type for trade execution preference.\",\n  \"output_details\": {\n    \"trade_orders\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Generated trade order instructions\"\n    },\n    \"total_trades\": {\n      \"type\": \"integer\",\n      \"description\": \"Number of trades required\"\n    },\n    \"net_cash_flow\": {\n      \"type\": \"number\",\n      \"description\": \"Net cash flow from all trades\"\n    },\n    \"buy_orders\": {\n      \"type\": \"integer\",\n      \"description\": \"Number of buy orders\"\n    },\n    \"sell_orders\": {\n      \"type\": \"integer\",\n      \"description\": \"Number of sell orders\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Liquidity Assessment Tool\",\n  \"tool_description\": \"Assesses liquidity conditions for assets to optimize trade execution timing and sizing.\",\n  \"parameters\": {\n    \"asset_symbol\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Asset symbol to assess\"\n    },\n    \"assessment_period\": {\n      \"type\": \"integer\",\n      \"required\": false,\n      \"description\": \"Assessment period in days\",\n      \"default\": 30\n    }\n  },\n  \"error_messages\": [\n    \"Invalid asset symbol: Asset not found or not tradeable.\",\n    \"Invalid period: Assessment period must be positive integer between 1 and 365.\",\n    \"Insufficient data: Not enough trading data for liquidity assessment.\"\n  ],\n  \"usage\": \"Provide asset_symbol and optionally assessment_period to analyze recent liquidity conditions.\",\n  \"output_details\": {\n    \"avg_daily_volume\": {\n      \"type\": \"number\",\n      \"description\": \"Average daily trading volume\"\n    },\n    \"avg_spread\": {\n      \"type\": \"number\",\n      \"description\": \"Average bid-ask spread\"\n    },\n    \"liquidity_score\": {\n      \"type\": \"number\",\n      \"description\": \"Liquidity score (0-100)\"\n    },\n    \"liquidity_rating\": {\n      \"type\": \"string\",\n      \"description\": \"Liquidity rating: excellent, good, fair, poor\"\n    },\n    \"recommended_max_participation\": {\n      \"type\": \"number\",\n      \"description\": \"Recommended maximum participation\
  \ rate\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Execution Timeline Planner\",\n  \"tool_description\": \"Plans optimal execution timeline for portfolio rebalancing trades considering market conditions and constraints.\",\n  \"parameters\": {\n    \"trade_orders\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of trade order descriptions\",\n      \"items\": {\"type\": \"string\"}\n    },\n    \"urgency_level\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Execution urgency: low, medium, high\",\n      \"default\": \"medium\"\n    },\n    \"market_session\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Preferred market session: opening, midday, closing, any\",\n      \"default\": \"any\"\n    },\n    \"max_execution_days\": {\n      \"type\": \"integer\",\n      \"required\": false,\n      \"description\": \"Maximum days to complete execution\",\n      \"default\": 5\n    }\n  },\n  \"error_messages\": [\n    \"Empty trade orders: At least one trade order must be provided.\",\n    \"Invalid urgency level: Must be one of [low, medium, high].\",\n    \"Invalid market session: Must be one of [opening, midday, closing, any].\",\n    \"Invalid execution period: max_execution_days must be positive integer between 1 and 30.\"\n  ],\n  \"usage\": \"Provide trade_orders array and set urgency_level, market_session, and max_execution_days to plan execution timeline.\",\n  \"output_details\": {\n    \"execution_schedule\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Scheduled execution times for trades\"\n    },\n    \"total_execution_time\": {\n      \"type\": \"number\",\n      \"description\": \"Total estimated execution time in hours\"\n    },\n    \"priority_orders\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"High priority orders to execute first\"\n    },\n    \"execution_strategy\": {\n      \"type\": \"string\",\n      \"description\": \"Recommended execution strategy\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Order Size Optimizer\",\n  \"tool_description\": \"Optimizes individual order sizes to minimize market impact while meeting portfolio targets.\",\n  \"parameters\": {\n    \"total_order_size\": {\n      \"type\": \"number\",\n      \"required\": true,\n      \"description\": \"Total size of order to optimize\"\n    },\n    \"avg_daily_volume\": {\n      \"type\": \"number\",\n      \"required\": true,\n      \"description\": \"Average daily trading volume\"\n    },\n    \"volatility\": {\n      \"type\": \"number\",\n      \"required\": true,\n      \"description\": \"Asset volatility\"\n    },\n    \"execution_timeframe\": {\n      \"type\": \"number\",\n      \"required\": true,\n      \"description\": \"Available execution time in hours\"\n    },\n    \"max_participation_rate\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Maximum participation rate (0-1)\",\n      \"default\": 0.20\n    }\n  },\n  \"error_messages\": [\n    \"Invalid order size: total_order_size must be positive.\",\n    \"Invalid volume: avg_daily_volume must be positive.\",\n    \"Invalid volatility: volatility must be non-negative.\",\n    \"Invalid timeframe: execution_timeframe must be positive.\",\n    \"Invalid participation rate: max_participation_rate must be between 0 and 1.\"\n  ],\n  \"usage\": \"Provide total_order_size, avg_daily_volume, volatility, and execution_timeframe. Adjust max_participation_rate to control market impact.\",\n  \"output_details\": {\n    \"optimal_child_orders\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Optimal sizes for child orders\"\n    },\n    \"number_of_orders\": {\n      \"type\": \"integer\",\n      \"description\": \"Recommended number of child orders\"\n    },\n    \"time_intervals\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"\
  },\n      \"description\": \"Time intervals between orders in minutes\"\n    },\n    \"estimated_impact\": {\n      \"type\": \"number\",\n      \"description\": \"Estimated total market impact\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Market Condition Monitor\",\n  \"tool_description\": \"Monitors current market conditions to inform trade execution decisions.\",\n  \"parameters\": {\n    \"market_indices\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Market indices to monitor\",\n      \"items\": {\"type\": \"string\"},\n      \"default\": [\"SPY\", \"QQQ\", \"IWM\"]\n    }\n  },\n  \"error_messages\": [\n    \"Invalid indices: One or more market indices not recognized.\",\n    \"Market data unavailable: Cannot retrieve current market data.\"\n  ],\n  \"usage\": \"Optionally provide market_indices array to customize monitoring. Uses default major indices if not specified.\",\n  \"output_details\": {\n    \"market_trend\": {\n      \"type\": \"string\",\n      \"description\": \"Current market trend: bullish, bearish, neutral\"\n    },\n    \"volatility_level\": {\n      \"type\": \"string\",\n      \"description\": \"Current volatility: low, medium, high\"\n    },\n    \"trading_volume\": {\n      \"type\": \"string\",\n      \"description\": \"Current trading volume: low, normal, high\"\n    },\n    \"market_stress_indicator\": {\n      \"type\": \"number\",\n      \"description\": \"Market stress level (0-100)\"\n    },\n    \"execution_favorability\": {\n      \"type\": \"string\",\n      \"description\": \"Execution conditions: favorable, neutral, unfavorable\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Tax Impact Calculator\",\n  \"tool_description\": \"Calculates tax implications of portfolio trades including capital gains and tax-loss harvesting opportunities.\",\n  \"parameters\": {\n    \"trades\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Trade descriptions including buy/sell and quantities\",\n      \"items\": {\"type\": \"string\"}\n    },\n    \"cost_basis\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Cost basis for each position\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"current_prices\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Current market prices\",\n      \"items\": {\"type\": \"number\"}\n    },\n    \"holding_periods\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Holding periods in days\",\n      \"items\": {\"type\": \"integer\"}\n    },\n    \"tax_rate_short\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Short-term capital gains tax rate\",\n      \"default\": 0.37\n    },\n    \"tax_rate_long\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Long-term capital gains tax rate\",\n      \"default\": 0.20\n    }\n  },\n  \"error_messages\": [\n    \"Array length mismatch: All input arrays"
