field_name: personal_finance
subfield: Investment Portfolio Management
task: Portfolio Performance Analysis and Reporting
tool_description: "## STEP 1 — Rate task difficulty\n\nThis task is **medium** difficulty. It requires coordination between multiple data sources (market data, portfolio holdings, benchmark data), involves complex financial calculations (returns, risk metrics, attribution analysis), and demands accuracy since investment decisions depend on these reports. However, the methodologies are well-established and the scope is clearly defined within portfolio analysis.\n\n## STEP 2 — Set a tool budget\n\nGiven the medium complexity, I'll target **12 tools** within the 10-15 range. This allows for comprehensive coverage of data retrieval, calculations, analysis, and reporting without excessive overlap.\n\n## STEP 3 — List all tool names with dependencies and affordances\n\n1. **Portfolio Data Fetcher** - Consumes: portfolio identifiers → Produces: holdings data\n2. **Market Data Retriever** - Consumes: ticker symbols, date ranges → Produces: price/return data  \n3. **Benchmark Data Collector** - Consumes: benchmark identifiers → Produces: benchmark performance data\n4. **Return Calculator** - Consumes: price data, holdings → Produces: portfolio returns\n5. **Risk Metrics Analyzer** - Consumes: return data → Produces: volatility, VaR, drawdown metrics\n6. **Performance Attribution Engine** - Consumes: portfolio data, benchmark data → Produces: attribution analysis\n7. **Correlation Matrix Generator** - Consumes: asset return data → Produces: correlation coefficients\n8. **Diversification Analyzer** - Consumes: holdings, correlations → Produces: concentration metrics\n9. **Sector Allocation Tracker** - Consumes: holdings data → Produces: sector/geographic breakdowns\n10. **Performance Benchmark Comparator** - Consumes: portfolio returns, benchmark returns → Produces: relative performance metrics\n11. **Risk-Adjusted Returns Calculator** - Consumes: returns, risk-free rate → Produces: Sharpe ratio, alpha, beta\n12. **Report Generator** - Consumes: all analysis outputs → Produces: formatted performance report\n\n## STEP 4 — Multi-tool plans\n\n**Simple Plans:**\n- Basic Performance Review: Portfolio Data Fetcher → Return Calculator → Report Generator\n- Quick Risk Check: Market Data Retriever → Risk Metrics Analyzer → Report Generator\n\n**Medium Plans:**\n- Benchmark Comparison: Portfolio Data Fetcher → Return Calculator → Benchmark Data Collector → Performance Benchmark Comparator → Risk-Adjusted Returns Calculator → Report Generator\n- Diversification Analysis: Portfolio Data Fetcher → Market Data Retriever → Correlation Matrix Generator → Diversification Analyzer → Sector Allocation Tracker → Report Generator\n\n**Complex Plans:**\n- Full Performance Attribution: Portfolio Data Fetcher → Market Data Retriever → Benchmark Data Collector → Return Calculator → Performance Attribution Engine → Risk Metrics Analyzer → Risk-Adjusted Returns Calculator → Report Generator\n- Comprehensive Portfolio Analysis: All tools in sequence for complete portfolio assessment including performance, risk, attribution, diversification, and benchmarking\n\n## STEP 5 — Produce tools\n\n```json\n{\n  \"tool_name\": \"Portfolio Data Fetcher\",\n  \"tool_description\": \"Retrieves current and historical portfolio holdings data including asset allocations, quantities, and timestamps for portfolio performance analysis.\",\n  \"parameters\": {\n    \"portfolio_id\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Unique identifier for the portfolio to analyze\"\n    },\n    \"as_of_date\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Date for portfolio snapshot (ISO 8601 format)\",\n      \"format\": \"date-time\"\n    }\n  },\n  \"error_messages\": [\n    \"Portfolio not found: The provided portfolio_id does not exist in the system. Verify the correct portfolio identifier.\",\n    \"Invalid date format: Use ISO 8601 date-time format (YYYY-MM-DDTHH:MM:SSZ).\",\n    \"Future date error: as_of_date cannot be in the future. Use current or historical dates only.\",\n    \"Data unavailable: Portfolio\
  \ data is not available for the specified date. Try a more recent date.\"\n  ],\n  \"usage\": \"Provide a valid portfolio_id and as_of_date to retrieve portfolio holdings. The tool returns detailed asset allocations and metadata for the specified date.\",\n  \"output_details\": {\n    \"portfolio_name\": {\n      \"type\": \"string\",\n      \"description\": \"Name of the portfolio\"\n    },\n    \"total_value\": {\n      \"type\": \"number\",\n      \"description\": \"Total portfolio value in base currency\"\n    },\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Array of ticker symbols held in portfolio\"\n    },\n    \"quantities\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Array of quantities for each asset (same order as symbols)\"\n    },\n    \"market_values\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Array of market values for each position\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Market Data Retriever\",\n  \"tool_description\": \"Fetches historical market data including prices, volumes, and basic market statistics for specified securities over a given time period.\",\n  \"parameters\": {\n    \"symbols\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of ticker symbols to retrieve data for\",\n      \"items\": {\"type\": \"string\"},\n      \"minItems\": 1,\n      \"maxItems\": 100\n    },\n    \"start_date\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Start date for data retrieval (ISO 8601 format)\",\n      \"format\": \"date-time\"\n    },\n    \"end_date\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"End date for data retrieval (ISO 8601 format)\",\n      \"format\": \"date-time\"\n    },\n    \"frequency\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Data frequency: daily, weekly, monthly\",\n      \"default\": \"daily\"\n    }\n  },\n  \"error_messages\": [\n    \"Invalid symbol: One or more ticker symbols are not recognized. Verify symbol format and availability.\",\n    \"Invalid date range: start_date must be earlier than end_date, and both must use ISO 8601 format.\",\n    \"Frequency error: Use supported frequency values: daily, weekly, or monthly.\",\n    \"Data limit exceeded: Request exceeds maximum of 100 symbols. Reduce the number of symbols.\",\n    \"Market closed: No data available for requested dates due to market closures or holidays.\"\n  ],\n  \"usage\": \"Provide an array of symbols and date range to retrieve historical market data. Optionally specify frequency for data granularity.\",\n  \"output_details\": {\n    \"timestamps\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Array of timestamps for the data points\"\n    },\n    \"prices\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"array\"},\n      \"description\": \"2D array where each sub-array contains prices for one symbol across all timestamps\"\n    },\n    \"data_quality_score\": {\n      \"type\": \"number\",\n      \"description\": \"Quality score from 0-1 indicating data completeness\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Return Calculator\",\n  \"tool_description\": \"Calculates portfolio returns using various methodologies including simple, logarithmic, and time-weighted returns for performance analysis.\",\n  \"parameters\": {\n    \"prices\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of portfolio values over time\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 2\n    },\n    \"timestamps\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of timestamps corresponding to price values\",\n      \"items\": {\"type\": \"string\"},\n      \"minItems\": 2\n    },\n    \"return_type\"\
  : {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Type of return calculation: simple, logarithmic, time_weighted\",\n      \"default\": \"simple\"\n    },\n    \"annualize\": {\n      \"type\": \"boolean\",\n      \"required\": false,\n      \"description\": \"Whether to annualize the returns\",\n      \"default\": true\n    },\n    \"cash_flows\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Array of cash flows corresponding to timestamps (positive for inflows, negative for outflows)\",\n      \"items\": {\"type\": \"number\"},\n      \"default\": null\n    }\n  },\n  \"error_messages\": [\n    \"Array length mismatch: prices and timestamps arrays must have the same length.\",\n    \"Insufficient data: At least 2 data points required for return calculation.\",\n    \"Invalid return type: Use simple, logarithmic, or time_weighted.\",\n    \"Cash flow mismatch: If provided, cash_flows array must match length of prices array.\",\n    \"Zero or negative prices: All price values must be positive for valid return calculations.\"\n  ],\n  \"usage\": \"Provide price and timestamp arrays to calculate returns. Optionally specify return methodology, annualization, and cash flows for accurate time-weighted returns.\",\n  \"output_details\": {\n    \"total_return\": {\n      \"type\": \"number\",\n      \"description\": \"Total return over the period\"\n    },\n    \"periodic_returns\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Array of period-to-period returns\"\n    },\n    \"annualized_return\": {\n      \"type\": \"number\",\n      \"description\": \"Annualized return rate\"\n    },\n    \"return_periods\": {\n      \"type\": \"integer\",\n      \"description\": \"Number of return periods calculated\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Risk Metrics Analyzer\",\n  \"tool_description\": \"Computes comprehensive risk metrics including volatility, Value at Risk (VaR), maximum drawdown, and other downside risk measures for portfolio analysis.\",\n  \"parameters\": {\n    \"returns\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of portfolio returns\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 10\n    },\n    \"confidence_level\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Confidence level for VaR calculation (between 0.90 and 0.99)\",\n      \"default\": 0.95\n    },\n    \"var_method\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"VaR calculation method: historical, parametric, monte_carlo\",\n      \"default\": \"historical\"\n    },\n    \"risk_free_rate\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Risk-free rate for downside risk calculations (annualized)\",\n      \"default\": 0.02\n    },\n    \"target_return\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Target return for downside deviation calculation\",\n      \"default\": 0.0\n    },\n    \"annualize_volatility\": {\n      \"type\": \"boolean\",\n      \"required\": false,\n      \"description\": \"Whether to annualize volatility metrics\",\n      \"default\": true\n    },\n    \"rolling_window\": {\n      \"type\": \"integer\",\n      \"required\": false,\n      \"description\": \"Window size for rolling risk metrics (minimum 5)\",\n      \"default\": 20\n    }\n  },\n  \"error_messages\": [\n    \"Insufficient return data: At least 10 return observations required for meaningful risk calculations.\",\n    \"Invalid confidence level: confidence_level must be between 0.90 and 0.99.\",\n    \"Invalid VaR method: Use historical, parametric, or monte_carlo.\",\n    \"Invalid rolling window: rolling_window must be at least 5 and less than total return observations.\",\n    \"Risk-free rate error: risk_free_rate must be a valid positive or negative number.\",\n    \"Target return error: target_return must\
  \ be a valid number.\"\n  ],\n  \"usage\": \"Provide returns array and optionally configure risk parameters. The tool calculates various risk metrics including VaR, volatility, and drawdown measures.\",\n  \"output_details\": {\n    \"volatility\": {\n      \"type\": \"number\",\n      \"description\": \"Standard deviation of returns (annualized if specified)\"\n    },\n    \"value_at_risk\": {\n      \"type\": \"number\",\n      \"description\": \"Value at Risk at specified confidence level\"\n    },\n    \"conditional_var\": {\n      \"type\": \"number\",\n      \"description\": \"Expected Shortfall (Conditional VaR)\"\n    },\n    \"max_drawdown\": {\n      \"type\": \"number\",\n      \"description\": \"Maximum peak-to-trough decline\"\n    },\n    \"downside_deviation\": {\n      \"type\": \"number\",\n      \"description\": \"Volatility of negative returns relative to target\"\n    },\n    \"skewness\": {\n      \"type\": \"number\",\n      \"description\": \"Third moment of return distribution\"\n    },\n    \"kurtosis\": {\n      \"type\": \"number\",\n      \"description\": \"Fourth moment of return distribution\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Benchmark Data Collector\",\n  \"tool_description\": \"Retrieves benchmark performance data and metadata for portfolio comparison analysis including market indices and custom benchmarks.\",\n  \"parameters\": {\n    \"benchmark_symbol\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Ticker symbol or identifier for the benchmark (e.g., SPY, VTI, custom_benchmark_001)\"\n    },\n    \"start_date\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Start date for benchmark data (ISO 8601 format)\",\n      \"format\": \"date-time\"\n    },\n    \"end_date\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"End date for benchmark data (ISO 8601 format)\",\n      \"format\": \"date-time\"\n    },\n    \"include_dividends\": {\n      \"type\": \"boolean\",\n      \"required\": false,\n      \"description\": \"Whether to include dividend returns in total return calculation\",\n      \"default\": true\n    }\n  },\n  \"error_messages\": [\n    \"Benchmark not found: The specified benchmark_symbol is not available. Check symbol format and availability.\",\n    \"Invalid date range: start_date must be before end_date, both in ISO 8601 format.\",\n    \"Data unavailable: Benchmark data not available for the requested time period. Try a different date range.\",\n    \"Symbol format error: Ensure benchmark_symbol follows correct naming conventions.\"\n  ],\n  \"usage\": \"Specify a benchmark symbol and date range to retrieve performance data. The tool returns time series data and benchmark metadata for comparison analysis.\",\n  \"output_details\": {\n    \"benchmark_name\": {\n      \"type\": \"string\",\n      \"description\": \"Full name of the benchmark\"\n    },\n    \"timestamps\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Array of timestamps for benchmark data points\"\n    },\n    \"prices\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Array of benchmark prices corresponding to timestamps\"\n    },\n    \"total_return\": {\n      \"type\": \"number\",\n      \"description\": \"Total return of benchmark over the period\"\n    },\n    \"dividend_yield\": {\n      \"type\": \"number\",\n      \"description\": \"Average dividend yield over the period\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Performance Attribution Engine\",\n  \"tool_description\": \"Performs detailed performance attribution analysis decomposing portfolio returns into asset allocation, security selection, and interaction effects relative to benchmark.\",\n  \"parameters\": {\n    \"portfolio_weights\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of portfolio weights by asset/sector\",\n      \"items\": {\"type\": \"number\"\
  },\n      \"minItems\": 2\n    },\n    \"benchmark_weights\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of benchmark weights by asset/sector (same order as portfolio)\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 2\n    },\n    \"portfolio_returns\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of portfolio returns by asset/sector\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 2\n    },\n    \"benchmark_returns\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of benchmark returns by asset/sector (same order)\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 2\n    },\n    \"asset_names\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of asset or sector names for labeling results\",\n      \"items\": {\"type\": \"string\"},\n      \"minItems\": 2\n    },\n    \"attribution_method\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Attribution methodology: brinson, brinson_fachler, carino\",\n      \"default\": \"brinson\"\n    },\n    \"currency\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Base currency for attribution calculations\",\n      \"default\": \"USD\"\n    }\n  },\n  \"error_messages\": [\n    \"Array length mismatch: All input arrays (weights, returns, asset_names) must have the same length.\",\n    \"Weight validation error: Portfolio and benchmark weights should sum to approximately 1.0 (±0.01).\",\n    \"Invalid attribution method: Use brinson, brinson_fachler, or carino.\",\n    \"Minimum assets required: At least 2 assets/sectors needed for meaningful attribution analysis.\",\n    \"Missing asset names: asset_names array cannot contain empty strings.\"\n  ],\n  \"usage\": \"Provide portfolio and benchmark weights, returns, and asset names to perform attribution analysis. The tool decomposes excess returns into allocation and selection effects.\",\n  \"output_details\": {\n    \"allocation_effect\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Asset allocation effect by asset/sector\"\n    },\n    \"selection_effect\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Security selection effect by asset/sector\"\n    },\n    \"interaction_effect\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Interaction effect by asset/sector\"\n    },\n    \"total_excess_return\": {\n      \"type\": \"number\",\n      \"description\": \"Total excess return versus benchmark\"\n    },\n    \"attribution_summary\": {\n      \"type\": \"string\",\n      \"description\": \"Text summary of key attribution drivers\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Correlation Matrix Generator\",\n  \"tool_description\": \"Generates correlation matrices between portfolio assets to assess diversification and identify concentration risks across holdings.\",\n  \"parameters\": {\n    \"returns_matrix\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"2D array where each sub-array contains returns for one asset across time periods\",\n      \"items\": {\"type\": \"array\"}\n    },\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of asset symbols corresponding to returns matrix rows\",\n      \"items\": {\"type\": \"string\"},\n      \"minItems\": 2\n    },\n    \"correlation_method\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Correlation calculation method: pearson, spearman, kendall\",\n      \"default\": \"pearson\"\n    },\n    \"min_observations\": {\n      \"type\": \"integer\",\n      \"required\": false,\n      \"description\": \"Minimum number of overlapping observations required for correlation calculation\",\n      \"default\"\
  : 10\n    }\n  },\n  \"error_messages\": [\n    \"Matrix dimension error: returns_matrix and asset_symbols must have matching dimensions.\",\n    \"Insufficient data: Each asset must have at least min_observations data points.\",\n    \"Invalid correlation method: Use pearson, spearman, or kendall.\",\n    \"Data quality error: Returns data contains invalid values (NaN or infinite values).\",\n    \"Minimum assets error: At least 2 assets required for correlation analysis.\"\n  ],\n  \"usage\": \"Provide returns data matrix and corresponding asset symbols to generate correlation matrix. Optionally specify correlation method and minimum observation requirements.\",\n  \"output_details\": {\n    \"correlation_matrix\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"array\"},\n      \"description\": \"2D correlation matrix with values between -1 and 1\"\n    },\n    \"average_correlation\": {\n      \"type\": \"number\",\n      \"description\": \"Average pairwise correlation across all assets\"\n    },\n    \"highest_correlation\": {\n      \"type\": \"number\",\n      \"description\": \"Highest correlation coefficient in the matrix\"\n    },\n    \"lowest_correlation\": {\n      \"type\": \"number\",\n      \"description\": \"Lowest correlation coefficient in the matrix\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Diversification Analyzer\",\n  \"tool_description\": \"Analyzes portfolio diversification using concentration metrics, effective number of positions, and diversification ratios to assess concentration risk.\",\n  \"parameters\": {\n    \"weights\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of portfolio weights (should sum to 1.0)\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 2\n    },\n    \"correlations\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Flattened correlation matrix for diversification ratio calculation\",\n      \"items\": {\"type\": \"number\"},\n      \"default\": null\n    },\n    \"sector_groups\": {\n      \"type\": \"array\",\n      \"required\": false,\n      \"description\": \"Array indicating sector group for each asset (same order as weights)\",\n      \"items\": {\"type\": \"string\"},\n      \"default\": null\n    }\n  },\n  \"error_messages\": [\n    \"Weight validation error: Weights must sum to 1.0 (±0.01) and all be non-negative.\",\n    \"Correlation matrix error: If provided, correlations array length must equal n*(n-1)/2 where n is number of assets.\",\n    \"Sector groups mismatch: sector_groups array must have same length as weights array if provided.\",\n    \"Insufficient positions: At least 2 positions required for diversification analysis.\"\n  ],\n  \"usage\": \"Provide portfolio weights to calculate basic diversification metrics. Optionally include correlations and sector groupings for advanced analysis.\",\n  \"output_details\": {\n    \"herfindahl_index\": {\n      \"type\": \"number\",\n      \"description\": \"Herfindahl-Hirschman concentration index (0 to 1)\"\n    },\n    \"effective_positions\": {\n      \"type\": \"number\",\n      \"description\": \"Effective number of positions in the portfolio\"\n    },\n    \"concentration_ratio_top5\": {\n      \"type\": \"number\",\n      \"description\": \"Weight concentration in top 5 positions\"\n    },\n    \"diversification_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Diversification ratio (only if correlations provided)\"\n    },\n    \"sector_concentration\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Array of sector concentration ratios (only if sector_groups provided)\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Sector Allocation Tracker\",\n  \"tool_description\": \"Tracks and analyzes portfolio allocations across sectors, geographies, market caps, and other asset classifications for allocation analysis.\",\n  \"parameters\": {\n    \"asset_symbols\": {\n      \"type\": \"array\",\n      \"required\"\
  : true,\n      \"description\": \"Array of asset ticker symbols in the portfolio\",\n      \"items\": {\"type\": \"string\"},\n      \"minItems\": 1\n    },\n    \"portfolio_weights\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of portfolio weights corresponding to each asset\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 1\n    },\n    \"classification_type\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Type of classification: sector, geography, market_cap, asset_class\",\n      \"default\": \"sector\"\n    }\n  },\n  \"error_messages\": [\n    \"Array length mismatch: asset_symbols and portfolio_weights must have the same length.\",\n    \"Weight validation error: Portfolio weights must sum to approximately 1.0 (±0.01).\",\n    \"Invalid classification type: Use sector, geography, market_cap, or asset_class.\",\n    \"Asset classification error: Unable to classify one or more assets. Verify ticker symbols are valid.\"\n  ],\n  \"usage\": \"Provide asset symbols and their weights to analyze portfolio allocation by specified classification. The tool returns breakdown by categories and concentration metrics.\",\n  \"output_details\": {\n    \"allocation_breakdown\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Array of allocation descriptions (e.g., 'Technology: 25.3%')\"\n    },\n    \"category_names\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"description\": \"Array of category names found in portfolio\"\n    },\n    \"category_weights\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Array of weights by category (same order as category_names)\"\n    },\n    \"largest_allocation\": {\n      \"type\": \"string\",\n      \"description\": \"Name of category with largest allocation\"\n    },\n    \"allocation_count\": {\n      \"type\": \"integer\",\n      \"description\": \"Number of distinct categories in portfolio\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Performance Benchmark Comparator\",\n  \"tool_description\": \"Compares portfolio performance against benchmarks calculating relative returns, tracking error, information ratio, and other comparative metrics.\",\n  \"parameters\": {\n    \"portfolio_returns\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of portfolio returns over time\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 10\n    },\n    \"benchmark_returns\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of benchmark returns (same time periods as portfolio)\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 10\n    },\n    \"timestamps\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of timestamps for return periods\",\n      \"items\": {\"type\": \"string\"},\n      \"minItems\": 10\n    }\n  },\n  \"error_messages\": [\n    \"Array length mismatch: All input arrays must have the same length.\",\n    \"Insufficient data: At least 10 return periods required for meaningful comparison statistics.\",\n    \"Invalid timestamp format: All timestamps must be in ISO 8601 format.\",\n    \"Data quality error: Returns arrays contain invalid values (NaN or infinite values).\"\n  ],\n  \"usage\": \"Provide portfolio returns, benchmark returns, and timestamps to generate comprehensive performance comparison metrics and relative performance analysis.\",\n  \"output_details\": {\n    \"excess_returns\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"number\"},\n      \"description\": \"Array of period-by-period excess returns (portfolio - benchmark)\"\n    },\n    \"tracking_error\": {\n      \"type\": \"number\",\n      \"description\": \"Annualized standard deviation of excess returns\"\n    },\n    \"information_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Ratio of excess\
  \ return to tracking error\"\n    },\n    \"up_capture\": {\n      \"type\": \"number\",\n      \"description\": \"Upside capture ratio during positive benchmark periods\"\n    },\n    \"down_capture\": {\n      \"type\": \"number\",\n      \"description\": \"Downside capture ratio during negative benchmark periods\"\n    },\n    \"outperformance_periods\": {\n      \"type\": \"integer\",\n      \"description\": \"Number of periods where portfolio outperformed benchmark\"\n    },\n    \"cumulative_excess_return\": {\n      \"type\": \"number\",\n      \"description\": \"Total cumulative excess return over the period\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Risk Adjusted Returns Calculator\",\n  \"tool_description\": \"Calculates risk-adjusted return metrics including Sharpe ratio, Sortino ratio, Treynor ratio, Jensen's alpha, and beta for performance evaluation.\",\n  \"parameters\": {\n    \"portfolio_returns\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of portfolio returns\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 10\n    },\n    \"benchmark_returns\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Array of benchmark/market returns (same periods as portfolio)\",\n      \"items\": {\"type\": \"number\"},\n      \"minItems\": 10\n    },\n    \"risk_free_rate\": {\n      \"type\": \"number\",\n      \"required\": true,\n      \"description\": \"Risk-free rate for calculations (annualized)\"\n    },\n    \"return_frequency\": {\n      \"type\": \"string\",\n      \"required\": false,\n      \"description\": \"Frequency of return data: daily, weekly, monthly, annual\",\n      \"default\": \"monthly\"\n    }\n  },\n  \"error_messages\": [\n    \"Array length mismatch: portfolio_returns and benchmark_returns must have the same length.\",\n    \"Insufficient data: At least 10 return observations required for reliable risk-adjusted metrics.\",\n    \"Invalid return frequency: Use daily, weekly, monthly, or annual.\",\n    \"Risk-free rate error: risk_free_rate must be a valid number (can be positive or negative).\",\n    \"Zero variance error: Cannot calculate risk-adjusted metrics when return variance is zero.\"\n  ],\n  \"usage\": \"Provide portfolio returns, benchmark returns, and risk-free rate to calculate comprehensive risk-adjusted performance metrics. Specify return frequency for proper annualization.\",\n  \"output_details\": {\n    \"sharpe_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Sharpe ratio (excess return per unit of total risk)\"\n    },\n    \"sortino_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Sortino ratio (excess return per unit of downside risk)\"\n    },\n    \"treynor_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Treynor ratio (excess return per unit of systematic risk)\"\n    },\n    \"jensen_alpha\": {\n      \"type\": \"number\",\n      \"description\": \"Jensen's alpha (risk-adjusted excess return)\"\n    },\n    \"portfolio_beta\": {\n      \"type\": \"number\",\n      \"description\": \"Portfolio beta relative to benchmark\"\n    },\n    \"calmar_ratio\": {\n      \"type\": \"number\",\n      \"description\": \"Calmar ratio (annualized return over maximum drawdown)\"\n    }\n  }\n}\n```\n\n```json\n{\n  \"tool_name\": \"Report Generator\",\n  \"tool_description\": \"Generates comprehensive portfolio performance reports combining analysis results into formatted summaries with key insights and recommendations.\",\n  \"parameters\": {\n    \"portfolio_name\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Name of the portfolio for report header\"\n    },\n    \"report_period_start\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"Start"
