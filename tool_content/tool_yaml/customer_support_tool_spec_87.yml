field_name: customer_support
subfield: live_chat_support
task: Knowledge base search and article retrieval
tool_description: |-
  **STEP 1 — Rate task difficulty**

  The task of knowledge base search and article retrieval for live chat support is medium complexity. It involves moderate scope including query processing, semantic search, relevance ranking, and content formatting, with some ambiguity in understanding user intent and determining relevance thresholds. There are dependencies between search, filtering, and ranking components, and moderate risk since poor results can impact customer satisfaction.

  **STEP 2 — Set a tool budget**

  Given the medium complexity, I'll target 12 tools within the 10-15 range to cover query processing, search operations, content retrieval, relevance scoring, and result formatting comprehensively.

  **STEP 3 — Tool names with dependencies and affordances**

  1. **Query Preprocessor** - Consumes: raw user queries → Produces: cleaned, standardized queries
  2. **Keyword Extractor** - Consumes: processed queries → Produces: relevant keywords and phrases
  3. **Semantic Search Engine** - Consumes: queries, keywords → Produces: semantically matched article IDs
  4. **Knowledge Base Indexer** - Consumes: article metadata → Produces: searchable index structures
  5. **Article Content Retriever** - Consumes: article IDs → Produces: full article content and metadata
  6. **Relevance Scorer** - Consumes: articles, queries → Produces: relevance scores and rankings
  7. **Content Filter** - Consumes: articles, filter criteria → Produces: filtered article sets
  8. **Search Results Aggregator** - Consumes: multiple search results → Produces: unified result sets
  9. **Article Summarizer** - Consumes: full articles → Produces: concise summaries for chat
  10. **Search Analytics Tracker** - Consumes: queries, results, interactions → Produces: search metrics
  11. **Related Articles Finder** - Consumes: primary articles → Produces: related content suggestions
  12. **Response Formatter** - Consumes: articles, summaries → Produces: chat-ready formatted responses

  **STEP 4 — Multi-tool plans**

  **Simple plans:**
  - Basic search: Query Preprocessor → Semantic Search Engine → Article Content Retriever
  - Quick lookup: Keyword Extractor → Knowledge Base Indexer → Content Filter

  **Medium plans:**
  - Enhanced search: Query Preprocessor → Keyword Extractor → Semantic Search Engine → Relevance Scorer → Article Content Retriever → Response Formatter
  - Filtered discovery: Query Preprocessor → Semantic Search Engine → Content Filter → Related Articles Finder → Article Summarizer

  **Complex plans:**
  - Full search workflow: Query Preprocessor → Keyword Extractor → Knowledge Base Indexer → Semantic Search Engine → Content Filter → Relevance Scorer → Search Results Aggregator → Article Content Retriever → Article Summarizer → Related Articles Finder → Response Formatter → Search Analytics Tracker
  - Comprehensive support: Query Preprocessor → Semantic Search Engine → Relevance Scorer → Content Filter → Article Content Retriever → Article Summarizer → Related Articles Finder → Response Formatter → Search Analytics Tracker

  **STEP 5 — Tools**

  ```json
  {
    "tool_name": "Query Preprocessor",
    "tool_description": "Cleans and standardizes user queries by removing noise, correcting spelling, expanding abbreviations, and normalizing text for optimal search performance.",
    "parameters": {
      "raw_query": {
        "type": "string",
        "required": true,
        "description": "The original user query text as entered in chat"
      },
      "language": {
        "type": "string",
        "required": false,
        "description": "Language code (e.g., 'en', 'es', 'fr') for language-specific processing",
        "default": "en"
      },
      "spell_check": {
        "type": "boolean",
        "required": false,
        "description": "Whether to perform spell checking and correction",
        "default": true
      }
    },
    "error_messages": [
      "Empty query error: The raw_query parameter cannot be empty or contain only whitespace.",
      "Unsupported language error: The specified language code is not supported. Use standard ISO language codes.",
      "Query too long error: The query exceeds the maximum length of 1000 characters."
    ],
    "usage": "Provide the raw user query and optionally specify language and spell check preferences. The tool returns a cleaned, standardized query ready for search operations.",
    "output_details": {
      "processed_query": {
        "type": "string",
        "description": "The cleaned and standardized query text"
      },
      "corrections_made": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "List of corrections applied during preprocessing"
      },
      "confidence_score": {
        "type": "number",
        "description": "Confidence score (0-1) indicating quality of preprocessing"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Keyword Extractor",
    "tool_description": "Extracts relevant keywords, phrases, and entities from processed queries to enhance search accuracy and enable targeted knowledge base matching.",
    "parameters": {
      "processed_query": {
        "type": "string",
        "required": true,
        "description": "The preprocessed query text from Query Preprocessor"
      },
      "max_keywords": {
        "type": "integer",
        "required": false,
        "description": "Maximum number of keywords to extract (1-20)",
        "default": 10
      },
      "include_phrases": {
        "type": "boolean",
        "required": false,
        "description": "Whether to include multi-word phrases in extraction",
        "default": true
      },
      "min_relevance": {
        "type": "number",
        "required": false,
        "description": "Minimum relevance threshold for keyword inclusion (0-1)",
        "default": 0.3
      }
    },
    "error_messages": [
      "Empty processed query error: The processed_query parameter cannot be empty.",
      "Invalid max_keywords error: max_keywords must be between 1 and 20.",
      "Invalid relevance threshold error: min_relevance must be between 0 and 1.",
      "Extraction failure error: Unable to extract meaningful keywords from the provided query."
    ],
    "usage": "Input a preprocessed query and configure extraction parameters. The tool returns ranked keywords and phrases with relevance scores.",
    "output_details": {
      "keywords": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Extracted keywords ranked by relevance"
      },
      "phrases": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Extracted multi-word phrases"
      },
      "entities": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Named entities identified in the query"
      },
      "keyword_scores": {
        "type": "array",
        "items": {
          "type": "number"
        },
        "description": "Relevance scores corresponding to extracted keywords"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Semantic Search Engine",
    "tool_description": "Performs semantic search across the knowledge base using advanced natural language understanding to find contextually relevant articles based on meaning rather than just keyword matching.",
    "parameters": {
      "search_query": {
        "type": "string",
        "required": true,
        "description": "The search query (processed or raw text)"
      },
      "keywords": {
        "type": "array",
        "required": false,
        "description": "Additional keywords to boost search relevance",
        "items": {
          "type": "string"
        },
        "default": "None"
      },
      "search_fields": {
        "type": "array",
        "required": false,
        "description": "Fields to search within (title, content, tags, summary)",
        "items": {
          "type": "string"
        },
        "default": ["title", "content"]
      },
      "max_results": {
        "type": "integer",
        "required": false,
        "description": "Maximum number of search results to return (1-50)",
        "default": 20
      },
      "similarity_threshold": {
        "type": "number",
        "required": false,
        "description": "Minimum semantic similarity score for inclusion (0-1)",
        "default": 0.5
      },
      "boost_recent": {
        "type": "boolean",
        "required": false,
        "description": "Whether to boost recently updated articles",
        "default": true
      },
      "category_filter": {
        "type": "array",
        "required": false,
        "description": "Specific categories to limit search scope",
        "items": {
          "type": "string"
        },
        "default": "None"
      }
    },
    "error_messages": [
      "Empty search query error: The search_query parameter cannot be empty or contain only whitespace.",
      "Invalid search fields error: search_fields must contain valid field names (title, content, tags, summary).",
      "Invalid max_results error: max_results must be between 1 and 50.",
      "Invalid similarity threshold error: similarity_threshold must be between 0 and 1.",
      "Search engine unavailable error: The semantic search service is temporarily unavailable.",
      "No matching articles error: No articles found meeting the specified criteria and threshold."
    ],
    "usage": "Provide a search query and configure search parameters including fields, result limits, and similarity thresholds. The tool returns semantically relevant article IDs with similarity scores.",
    "output_details": {
      "article_ids": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "IDs of articles matching the semantic search"
      },
      "similarity_scores": {
        "type": "array",
        "items": {
          "type": "number"
        },
        "description": "Semantic similarity scores for each article"
      },
      "total_matches": {
        "type": "integer",
        "description": "Total number of articles found before limiting"
      },
      "search_time": {
        "type": "number",
        "description": "Search execution time in milliseconds"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Knowledge Base Indexer",
    "tool_description": "Creates and maintains searchable indexes of knowledge base articles including metadata, categories, and content structure for efficient retrieval operations.",
    "parameters": {
      "index_operation": {
        "type": "string",
        "required": true,
        "description": "Operation to perform: 'create', 'update', 'delete', or 'rebuild'"
      },
      "article_ids": {
        "type": "array",
        "required": false,
        "description": "Specific article IDs to index (empty for all articles)",
        "items": {
          "type": "string"
        },
        "default": "None"
      },
      "index_fields": {
        "type": "array",
        "required": false,
        "description": "Fields to include in index (title, content, tags, category, author, created_date, updated_date)",
        "items": {
          "type": "string"
        },
        "default": ["title", "content", "tags", "category"]
      },
      "rebuild_full": {
        "type": "boolean",
        "required": false,
        "description": "Whether to perform a complete index rebuild",
        "default": false
      }
    },
    "error_messages": [
      "Invalid index operation error: index_operation must be one of 'create', 'update', 'delete', or 'rebuild'.",
      "Invalid index fields error: index_fields must contain valid field names from the supported list.",
      "Article not found error: One or more specified article_ids do not exist in the knowledge base.",
      "Index creation failed error: Unable to create index due to insufficient permissions or storage issues.",
      "Concurrent operation error: Another indexing operation is in progress. Please wait and retry."
    ],
    "usage": "Specify the indexing operation and configure which articles and fields to include. The tool maintains searchable indexes for efficient knowledge base queries.",
    "output_details": {
      "operation_status": {
        "type": "string",
        "description": "Status of the indexing operation (success, partial, failed)"
      },
      "articles_indexed": {
        "type": "integer",
        "description": "Number of articles successfully indexed"
      },
      "index_size": {
        "type": "integer",
        "description": "Size of the index in bytes"
      },
      "operation_time": {
        "type": "number",
        "description": "Time taken for indexing operation in seconds"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Article Content Retriever",
    "tool_description": "Retrieves full article content, metadata, and associated information from the knowledge base using article IDs, with options for content formatting and field selection.",
    "parameters": {
      "article_ids": {
        "type": "array",
        "required": true,
        "description": "List of article IDs to retrieve",
        "items": {
          "type": "string"
        },
        "minItems": 1,
        "maxItems": 20
      },
      "include_fields": {
        "type": "array",
        "required": false,
        "description": "Specific fields to include (title, content, summary, author, created_date, updated_date, tags, category, view_count)",
        "items": {
          "type": "string"
        },
        "default": ["title", "content", "summary", "tags"]
      },
      "format_content": {
        "type": "boolean",
        "required": false,
        "description": "Whether to format content for chat display (remove HTML, limit length)",
        "default": true
      },
      "max_content_length": {
        "type": "integer",
        "required": false,
        "description": "Maximum content length in characters (100-5000)",
        "default": 2000
      }
    },
    "error_messages": [
      "Empty article IDs error: At least one article ID must be provided.",
      "Invalid article ID error: One or more article IDs are not found in the knowledge base.",
      "Invalid include fields error: include_fields must contain valid field names from the supported list.",
      "Invalid content length error: max_content_length must be between 100 and 5000.",
      "Access denied error: Insufficient permissions to access one or more requested articles.",
      "Retrieval limit exceeded error: Cannot retrieve more than 20 articles in a single request."
    ],
    "usage": "Provide article IDs and configure which fields to retrieve and how to format the content. The tool returns complete article information formatted for chat support use.",
    "output_details": {
      "articles": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Retrieved article content formatted as structured strings"
      },
      "article_titles": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Titles of the retrieved articles"
      },
      "article_summaries": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Brief summaries of each article"
      },
      "retrieval_count": {
        "type": "integer",
        "description": "Number of articles successfully retrieved"
      },
      "total_content_length": {
        "type": "integer",
        "description": "Total length of all retrieved content in characters"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Relevance Scorer",
    "tool_description": "Calculates relevance scores for articles against user queries using multiple ranking factors including semantic similarity, keyword matching, and contextual relevance to improve search result quality.",
    "parameters": {
      "query": {
        "type": "string",
        "required": true,
        "description": "Original user query for relevance calculation"
      },
      "article_ids": {
        "type": "array",
        "required": true,
        "description": "Article IDs to score for relevance",
        "items": {
          "type": "string"
        },
        "minItems": 1,
        "maxItems": 50
      },
      "keywords": {
        "type": "array",
        "required": false,
        "description": "Extracted keywords to weight in scoring",
        "items": {
          "type": "string"
        },
        "default": "None"
      },
      "scoring_method": {
        "type": "string",
        "required": false,
        "description": "Scoring algorithm to use: 'semantic', 'keyword', 'hybrid', or 'learning'",
        "default": "hybrid"
      },
      "boost_factors": {
        "type": "array",
        "required": false,
        "description": "Factors to boost scores: 'recent', 'popular', 'category_match', 'exact_match'",
        "items": {
          "type": "string"
        },
        "default": ["recent", "popular"]
      },
      "user_context": {
        "type": "string",
        "required": false,
        "description": "User context or chat history for personalized scoring",
        "default": "None"
      }
    },
    "error_messages": [
      "Empty query error: The query parameter cannot be empty for relevance scoring.",
      "Empty article list error: At least one article ID must be provided for scoring.",
      "Invalid scoring method error: scoring_method must be one of 'semantic', 'keyword', 'hybrid', or 'learning'.",
      "Invalid boost factors error: boost_factors must contain valid factor names from the supported list.",
      "Article limit exceeded error: Cannot score more than 50 articles in a single request.",
      "Scoring service error: The relevance scoring service is temporarily unavailable."
    ],
    "usage": "Provide a query and article IDs to score, then configure the scoring method and boost factors. The tool returns relevance scores and rankings for optimal result ordering.",
    "output_details": {
      "article_ids": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Article IDs in ranked order by relevance"
      },
      "relevance_scores": {
        "type": "array",
        "items": {
          "type": "number"
        },
        "description": "Relevance scores (0-1) corresponding to each article"
      },
      "ranking_factors": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Primary factors contributing to each article's score"
      },
      "average_score": {
        "type": "number",
        "description": "Average relevance score across all articles"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Content Filter",
    "tool_description": "Filters knowledge base articles based on various criteria including categories, publication dates, access levels, and content attributes to refine search results for specific user needs.",
    "parameters": {
      "article_ids": {
        "type": "array",
        "required": true,
        "description": "List of article IDs to filter",
        "items": {
          "type": "string"
        },
        "minItems": 1
      },
      "categories": {
        "type": "array",
        "required": false,
        "description": "Categories to include in results",
        "items": {
          "type": "string"
        },
        "default": "None"
      },
      "exclude_categories": {
        "type": "array",
        "required": false,
        "description": "Categories to exclude from results",
        "items": {
          "type": "string"
        },
        "default": "None"
      },
      "min_date": {
        "type": "string",
        "required": false,
        "description": "Minimum publication date for articles (ISO 8601 format)",
        "format": "date-time",
        "default": "None"
      },
      "max_date": {
        "type": "string",
        "required": false,
        "description": "Maximum publication date for articles (ISO 8601 format)",
        "format": "date-time",
        "default": "None"
      },
      "access_level": {
        "type": "string",
        "required": false,
        "description": "Required access level: 'public', 'internal', 'restricted'",
        "default": "public"
      },
      "min_relevance": {
        "type": "number",
        "required": false,
        "description": "Minimum relevance score threshold (0-1)",
        "default": 0.0
      },
      "content_type": {
        "type": "array",
        "required": false,
        "description": "Content types to include: 'tutorial', 'faq', 'troubleshooting', 'guide', 'reference'",
        "items": {
          "type": "string"
        },
        "default": "None"
      },
      "language": {
        "type": "string",
        "required": false,
        "description": "Language code for content filtering",
        "default": "en"
      },
      "exclude_outdated": {
        "type": "boolean",
        "required": false,
        "description": "Whether to exclude articles marked as outdated",
        "default": true
      },
      "min_word_count": {
        "type": "integer",
        "required": false,
        "description": "Minimum word count for articles (0-10000)",
        "default": 0
      },
      "max_word_count": {
        "type": "integer",
        "required": false,
        "description": "Maximum word count for articles (100-10000)",
        "default": 10000
      },
      "has_media": {
        "type": "boolean",
        "required": false,
        "description": "Whether articles must contain media elements",
        "default": "None"
      }
    },
    "error_messages": [
      "Empty article list error: At least one article ID must be provided for filtering.",
      "Invalid date format error: Dates must be in valid ISO 8601 format (YYYY-MM-DDTHH:MM:SSZ).",
      "Invalid date range error: min_date must be earlier than max_date when both are specified.",
      "Invalid access level error: access_level must be one of 'public', 'internal', or 'restricted'.",
      "Invalid relevance threshold error: min_relevance must be between 0 and 1.",
      "Invalid content type error: content_type must contain values from the supported list.",
      "Invalid word count range error: min_word_count must be less than max_word_count and within valid ranges.",
      "Language not supported error: The specified language code is not supported."
    ],
    "usage": "Provide article IDs and configure filtering criteria such as categories, dates, access levels, and content attributes. The tool returns filtered article lists meeting all specified criteria.",
    "output_details": {
      "filtered_article_ids": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Article IDs that passed all filter criteria"
      },
      "filter_summary": {
        "type": "string",
        "description": "Summary of applied filters and their effects"
      },
      "articles_removed": {
        "type": "integer",
        "description": "Number of articles filtered out"
      },
      "articles_remaining": {
        "type": "integer",
        "description": "Number of articles remaining after filtering"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Search Results Aggregator",
    "tool_description": "Combines and deduplicates search results from multiple search operations, merging relevance scores and rankings to create unified result sets for comprehensive knowledge retrieval.",
    "parameters": {
      "result_sets": {
        "type": "array",
        "required": true,
        "description": "Multiple search result sets to aggregate",
        "items": {
          "type": "string"
        },
        "minItems": 2,
        "maxItems": 10
      },
      "aggregation_method": {
        "type": "string",
        "required": false,
        "description": "Method for combining scores: 'max', 'average', 'weighted_sum', 'rank_fusion'",
        "default": "weighted_sum"
      },
      "remove_duplicates": {
        "type": "boolean",
        "required": false,
        "description": "Whether to remove duplicate articles across result sets",
        "default": true
      },
      "max_results": {
        "type": "integer",
        "required": false,
        "description": "Maximum number of results in final aggregated set (1-100)",
        "default": 25
      }
    },
    "error_messages": [
      "Insufficient result sets error: At least 2 result sets must be provided for aggregation.",
      "Invalid aggregation method error: aggregation_method must be one of 'max', 'average', 'weighted_sum', or 'rank_fusion'.",
      "Empty result sets error: All provided result sets are empty - cannot perform aggregation.",
      "Invalid max results error: max_results must be between 1 and 100.",
      "Result set limit exceeded error: Cannot aggregate more than 10 result sets in a single operation."
    ],
    "usage": "Provide multiple search result sets and configure how to combine and rank them. The tool creates a unified, ranked list of articles from all input sources.",
    "output_details": {
      "aggregated_article_ids": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Final aggregated and ranked article IDs"
      },
      "final_scores": {
        "type": "array",
        "items": {
          "type": "number"
        },
        "description": "Aggregated relevance scores for each article"
      },
      "source_counts": {
        "type": "array",
        "items": {
          "type": "integer"
        },
        "description": "Number of source result sets containing each article"
      },
      "duplicates_removed": {
        "type": "integer",
        "description": "Number of duplicate articles removed during aggregation"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Article Summarizer",
    "tool_description": "Generates concise, chat-friendly summaries of knowledge base articles, extracting key information and formatting it appropriately for live chat support responses.",
    "parameters": {
      "article_content": {
        "type": "string",
        "required": true,
        "description": "Full article content to summarize"
      },
      "summary_length": {
        "type": "string",
        "required": false,
        "description": "Desired summary length: 'brief', 'medium', 'detailed'",
        "default": "medium"
      },
      "focus_keywords": {
        "type": "array",
        "required": false,
        "description": "Keywords to emphasize in the summary",
        "items": {
          "type": "string"
        },
        "default": "None"
      },
      "include_steps": {
        "type": "boolean",
        "required": false,
        "description": "Whether to preserve step-by-step instructions",
        "default": true
      },
      "chat_format": {
        "type": "boolean",
        "required": false,
        "description": "Whether to format for chat display (shorter paragraphs, bullet points)",
        "default": true
      }
    },
    "error_messages": [
      "Empty content error: The article_content parameter cannot be empty.",
      "Content too short error: The article content is too short to generate a meaningful summary.",
      "Invalid summary length error: summary_length must be one of 'brief', 'medium', or 'detailed'.",
      "Summarization failed error: Unable to generate summary due to content complexity or technical issues."
    ],
    "usage": "Provide article content and configure summary preferences including length, keywords to emphasize, and formatting options. The tool returns chat-optimized summaries.",
    "output_details": {
      "summary": {
        "type": "string",
        "description": "Generated summary text formatted for chat"
      },
      "key_points": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Main points extracted from the article"
      },
      "summary_length": {
        "type": "integer",
        "description": "Character count of the generated summary"
      },
      "confidence_score": {
        "type": "number",
        "description": "Confidence score (0-1) for summary quality"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Search Analytics Tracker",
    "tool_description": "Tracks and analyzes search patterns, user interactions, and article performance metrics to provide insights for improving knowledge base search effectiveness and content relevance.",
    "parameters": {
      "event_type": {
        "type": "string",
        "required": true,
        "description": "Type of event to track: 'search', 'click', 'view', 'helpful', 'not_helpful', 'no_results'"
      },
      "query": {
        "type": "string",
        "required": false,
        "description": "Search query associated with the event",
        "default": "None"
      },
      "article_id": {
        "type": "string",
        "required": false,
        "description": "Article ID involved in the event",
        "default": "None"
      },
      "user_session": {
        "type": "string",
        "required": false,
        "description": "User session identifier for tracking user behavior",
        "default": "None"
      },
      "response_time": {
        "type": "number",
        "required": false,
        "description": "Response time for search operations in milliseconds",
        "default": "None"
      },
      "result_position": {
        "type": "integer",
        "required": false,
        "description": "Position of clicked article in search results (1-based)",
        "default": "None"
      },
      "satisfaction_score": {
        "type": "integer",
        "required": false,
        "description": "User satisfaction rating (1-5 scale)",
        "default": "None"
      }
    },
    "error_messages": [
      "Invalid event type error: event_type must be one of 'search', 'click', 'view', 'helpful', 'not_helpful', or 'no_results'.",
      "Missing required data error: Some event types require additional parameters (e.g., 'click' events need article_id).",
      "Invalid response time error: response_time must be a positive number when provided.",
      "Invalid result position error: result_position must be a positive integer when provided.",
      "Invalid satisfaction score error: satisfaction_score must be between 1 and 5 when provided.",
      "Analytics service unavailable error: The analytics tracking service is temporarily unavailable."
    ],
    "usage": "Track various user interactions and search events by specifying the event type and relevant parameters. The tool collects data for analytics and improvement insights.",
    "output_details": {
      "tracking_status": {
        "type": "string",
        "description": "Status of the tracking operation (success, failed, que
