field_name: payments_and_invoicing
subfield: Invoice Generation and Management
task: Create and customize invoice templates with company branding and formatting
tool_description: |-
  ## STEP 1 — Rate task difficulty

  This task involves creating and customizing invoice templates with company branding and formatting. The difficulty is **medium** because it requires coordinating multiple design elements (layouts, branding, formatting), handling various invoice types and customization requirements, ensuring compliance with business standards, and managing template versioning and validation.

  ## STEP 2 — Set a tool budget

  Given the medium complexity, I'll target **12 tools** within the 10-15 range to cover template creation, customization, branding, validation, and management workflows.

  ## STEP 3 — List all tool names and dependencies

  **Tools and their dependencies:**
  1. **Template Structure Builder** - Consumes: layout specs → Produces: base template structure
  2. **Branding Asset Manager** - Consumes: brand assets → Produces: formatted branding elements
  3. **Field Configuration Tool** - Consumes: field definitions → Produces: configured template fields
  4. **Layout Designer** - Consumes: template structure, positioning → Produces: formatted layout
  5. **Style Formatter** - Consumes: styling rules → Produces: applied formatting
  6. **Logo Placement Tool** - Consumes: logo specs, positioning → Produces: positioned branding
  7. **Color Scheme Applier** - Consumes: color definitions → Produces: themed template
  8. **Template Validator** - Consumes: complete template → Produces: validation results
  9. **Preview Generator** - Consumes: template, sample data → Produces: preview output
  10. **Template Duplicator** - Consumes: existing template → Produces: template copy
  11. **Version Manager** - Consumes: template versions → Produces: version control data
  12. **Export Controller** - Consumes: finalized template → Produces: exportable formats

  ## STEP 4 — Multi-tool plans

  **Simple plans:**
  - Basic template creation: Template Structure Builder → Field Configuration Tool → Preview Generator
  - Logo branding: Branding Asset Manager → Logo Placement Tool → Preview Generator

  **Medium plans:**
  - Custom styled template: Template Structure Builder → Field Configuration Tool → Layout Designer → Style Formatter → Color Scheme Applier → Template Validator → Preview Generator
  - Template modification: Template Duplicator → Field Configuration Tool → Style Formatter → Preview Generator → Version Manager

  **Complex plans:**
  - Complete branded template system: Branding Asset Manager → Template Structure Builder → Field Configuration Tool → Layout Designer → Logo Placement Tool → Style Formatter → Color Scheme Applier → Template Validator → Preview Generator → Version Manager → Export Controller
  - Multi-version template management: Template Duplicator → Layout Designer → Field Configuration Tool → Style Formatter → Template Validator → Version Manager → Preview Generator → Export Controller

  ## STEP 5 — Produce tools

  ```json
  {
    "tool_name": "Template Structure Builder",
    "tool_description": "Creates the foundational structure for invoice templates by defining sections, field groups, and overall layout organization.",
    "parameters": {
      "template_name": {
        "type": "string",
        "required": true,
        "description": "Name for the new invoice template"
      },
      "template_type": {
        "type": "string",
        "required": true,
        "description": "Type of invoice template: standard, service, product, recurring, or proforma"
      },
      "page_orientation": {
        "type": "string",
        "required": false,
        "description": "Page orientation: portrait or landscape",
        "default": "portrait"
      },
      "sections": {
        "type": "array",
        "required": true,
        "description": "List of template sections to include",
        "items": {"type": "string"},
        "minItems": 2,
        "maxItems": 15
      }
    },
    "error_messages": [
      "Invalid template type: Use one of [standard, service, product, recurring, proforma].",
      "Invalid page orientation: Use either 'portrait' or 'landscape'.",
      "Template name too long: Keep template name under 50 characters.",
      "Invalid sections array: Must contain 2-15 section names as strings.",
      "Empty template name: Provide a non-empty template name."
    ],
    "usage": "Specify template_name, template_type, and sections array. Optionally set page_orientation. Creates a structured template foundation ready for field configuration and styling.",
    "output_details": {
      "template_id": {
        "type": "string",
        "description": "Unique identifier for the created template"
      },
      "structure_summary": {
        "type": "string",
        "description": "Summary of the template structure created"
      },
      "sections_created": {
        "type": "array",
        "items": {"type": "string"},
        "description": "List of sections successfully added to template"
      },
      "status": {
        "type": "string",
        "description": "Creation status: success or partial_success"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Branding Asset Manager",
    "tool_description": "Manages and processes company branding assets including logos, fonts, and brand guidelines for invoice template integration.",
    "parameters": {
      "company_name": {
        "type": "string",
        "required": true,
        "description": "Official company name for branding"
      },
      "logo_url": {
        "type": "string",
        "required": false,
        "description": "URL or path to company logo image",
        "default": "None"
      },
      "primary_color": {
        "type": "string",
        "required": false,
        "description": "Primary brand color in hex format (e.g., #FF5733)",
        "default": "#000000"
      },
      "secondary_color": {
        "type": "string",
        "required": false,
        "description": "Secondary brand color in hex format",
        "default": "#FFFFFF"
      },
      "font_family": {
        "type": "string",
        "required": false,
        "description": "Preferred font family name",
        "default": "Arial"
      }
    },
    "error_messages": [
      "Invalid hex color format: Use format #RRGGBB for color values.",
      "Logo file not accessible: Ensure logo URL/path is valid and accessible.",
      "Company name too long: Keep company name under 100 characters.",
      "Invalid font family: Specify a valid font family name.",
      "Empty company name: Provide a non-empty company name."
    ],
    "usage": "Provide company_name and optionally logo_url, colors, and font_family. Processes and validates branding assets for template integration.",
    "output_details": {
      "brand_package_id": {
        "type": "string",
        "description": "Unique identifier for the branding package"
      },
      "processed_assets": {
        "type": "array",
        "items": {"type": "string"},
        "description": "List of successfully processed branding assets"
      },
      "color_palette": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Validated color values in hex format"
      },
      "asset_status": {
        "type": "string",
        "description": "Processing status: complete, partial, or failed"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Field Configuration Tool",
    "tool_description": "Configures and customizes invoice fields including customer details, line items, totals, and custom fields with validation rules and formatting options.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to configure fields for"
      },
      "field_groups": {
        "type": "array",
        "required": true,
        "description": "Groups of fields to configure",
        "items": {"type": "string"},
        "minItems": 1,
        "maxItems": 20
      },
      "custom_fields": {
        "type": "array",
        "required": false,
        "description": "Custom field names to add",
        "items": {"type": "string"},
        "maxItems": 10,
        "default": "None"
      },
      "field_labels": {
        "type": "array",
        "required": false,
        "description": "Custom labels for fields",
        "items": {"type": "string"},
        "default": "None"
      },
      "required_fields": {
        "type": "array",
        "required": false,
        "description": "Fields that must be filled",
        "items": {"type": "string"},
        "default": "None"
      },
      "currency_symbol": {
        "type": "string",
        "required": false,
        "description": "Currency symbol for monetary fields",
        "default": "$"
      },
      "date_format": {
        "type": "string",
        "required": false,
        "description": "Date display format",
        "default": "MM/DD/YYYY"
      },
      "decimal_places": {
        "type": "integer",
        "required": false,
        "description": "Decimal places for monetary values (0-4)",
        "default": 2
      },
      "show_tax_fields": {
        "type": "boolean",
        "required": false,
        "description": "Include tax calculation fields",
        "default": true
      },
      "show_discount_fields": {
        "type": "boolean",
        "required": false,
        "description": "Include discount fields",
        "default": true
      },
      "line_item_columns": {
        "type": "array",
        "required": false,
        "description": "Columns to display in line items table",
        "items": {"type": "string"},
        "maxItems": 8,
        "default": "None"
      }
    },
    "error_messages": [
      "Invalid template_id: Template not found or inaccessible.",
      "Too many custom fields: Maximum 10 custom fields allowed.",
      "Invalid decimal_places: Must be integer between 0-4.",
      "Field group limit exceeded: Maximum 20 field groups allowed.",
      "Invalid date format: Use valid date format pattern.",
      "Line item columns exceeded: Maximum 8 columns allowed.",
      "Mismatched arrays: field_labels array length must match field_groups length when provided."
    ],
    "usage": "Provide template_id and field_groups array. Configure custom_fields, labels, validation, currency settings, and display options. Creates a fully configured field structure for the template.",
    "output_details": {
      "configuration_id": {
        "type": "string",
        "description": "Unique identifier for the field configuration"
      },
      "configured_fields": {
        "type": "array",
        "items": {"type": "string"},
        "description": "List of all configured field names"
      },
      "validation_rules": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Applied validation rules summary"
      },
      "field_count": {
        "type": "integer",
        "description": "Total number of fields configured"
      },
      "status": {
        "type": "string",
        "description": "Configuration status: complete or partial"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Layout Designer",
    "tool_description": "Designs and positions template elements with precise control over spacing, alignment, and section arrangements for professional invoice layouts.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to design layout for"
      },
      "layout_style": {
        "type": "string",
        "required": true,
        "description": "Layout style: classic, modern, minimal, detailed, or compact"
      },
      "header_height": {
        "type": "integer",
        "required": false,
        "description": "Header section height in pixels (50-200)",
        "default": 120
      },
      "footer_height": {
        "type": "integer",
        "required": false,
        "description": "Footer section height in pixels (30-150)",
        "default": 80
      },
      "margin_size": {
        "type": "integer",
        "required": false,
        "description": "Page margins in pixels (10-50)",
        "default": 25
      },
      "column_layout": {
        "type": "string",
        "required": false,
        "description": "Column arrangement: single, two_column, or three_column",
        "default": "two_column"
      }
    },
    "error_messages": [
      "Invalid template_id: Template not found or inaccessible.",
      "Invalid layout_style: Use one of [classic, modern, minimal, detailed, compact].",
      "Header height out of range: Must be between 50-200 pixels.",
      "Footer height out of range: Must be between 30-150 pixels.",
      "Margin size out of range: Must be between 10-50 pixels.",
      "Invalid column_layout: Use one of [single, two_column, three_column]."
    ],
    "usage": "Provide template_id and layout_style. Optionally customize header_height, footer_height, margin_size, and column_layout. Creates a structured layout ready for styling and content placement.",
    "output_details": {
      "layout_id": {
        "type": "string",
        "description": "Unique identifier for the layout design"
      },
      "dimensions": {
        "type": "string",
        "description": "Summary of layout dimensions and spacing"
      },
      "section_positions": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Positioning details for each template section"
      },
      "layout_preview": {
        "type": "string",
        "description": "Text description of the layout structure"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Style Formatter",
    "tool_description": "Applies comprehensive styling including fonts, colors, borders, and text formatting to create visually appealing invoice templates.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to apply styling to"
      },
      "style_theme": {
        "type": "string",
        "required": true,
        "description": "Overall style theme: professional, creative, corporate, elegant, or bold"
      },
      "primary_font": {
        "type": "string",
        "required": false,
        "description": "Primary font family",
        "default": "Arial"
      },
      "header_font_size": {
        "type": "integer",
        "required": false,
        "description": "Header text size in points (12-24)",
        "default": 16
      },
      "body_font_size": {
        "type": "integer",
        "required": false,
        "description": "Body text size in points (8-16)",
        "default": 11
      },
      "line_spacing": {
        "type": "number",
        "required": false,
        "description": "Line spacing multiplier (1.0-2.0)",
        "default": 1.2
      },
      "border_style": {
        "type": "string",
        "required": false,
        "description": "Border style: none, thin, thick, or dashed",
        "default": "thin"
      },
      "text_alignment": {
        "type": "string",
        "required": false,
        "description": "Default text alignment: left, center, right, or justify",
        "default": "left"
      }
    },
    "error_messages": [
      "Invalid template_id: Template not found or inaccessible.",
      "Invalid style_theme: Use one of [professional, creative, corporate, elegant, bold].",
      "Header font size out of range: Must be between 12-24 points.",
      "Body font size out of range: Must be between 8-16 points.",
      "Line spacing out of range: Must be between 1.0-2.0.",
      "Invalid border_style: Use one of [none, thin, thick, dashed].",
      "Invalid text_alignment: Use one of [left, center, right, justify]."
    ],
    "usage": "Provide template_id and style_theme. Customize fonts, sizes, spacing, borders, and alignment as needed. Applies consistent styling across all template elements.",
    "output_details": {
      "style_id": {
        "type": "string",
        "description": "Unique identifier for the applied styling"
      },
      "applied_styles": {
        "type": "array",
        "items": {"type": "string"},
        "description": "List of styling elements applied"
      },
      "font_summary": {
        "type": "string",
        "description": "Summary of font settings applied"
      },
      "formatting_status": {
        "type": "string",
        "description": "Styling application status: complete or partial"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Logo Placement Tool",
    "tool_description": "Precisely positions and sizes company logos within invoice templates with alignment and scaling options.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to place logo in"
      },
      "brand_package_id": {
        "type": "string",
        "required": true,
        "description": "Branding package containing logo assets"
      },
      "position": {
        "type": "string",
        "required": false,
        "description": "Logo position: top_left, top_center, top_right, or header_center",
        "default": "top_left"
      },
      "size_percentage": {
        "type": "integer",
        "required": false,
        "description": "Logo size as percentage of available space (10-100)",
        "default": 25
      },
      "maintain_aspect_ratio": {
        "type": "boolean",
        "required": false,
        "description": "Preserve original logo proportions",
        "default": true
      }
    },
    "error_messages": [
      "Invalid template_id: Template not found or inaccessible.",
      "Invalid brand_package_id: Branding package not found.",
      "Invalid position: Use one of [top_left, top_center, top_right, header_center].",
      "Size percentage out of range: Must be between 10-100.",
      "Logo placement conflict: Position conflicts with existing template elements."
    ],
    "usage": "Provide template_id and brand_package_id. Optionally specify position, size_percentage, and aspect ratio settings. Places logo with optimal positioning and sizing.",
    "output_details": {
      "placement_id": {
        "type": "string",
        "description": "Unique identifier for the logo placement"
      },
      "final_position": {
        "type": "string",
        "description": "Actual logo position coordinates"
      },
      "final_dimensions": {
        "type": "string",
        "description": "Final logo width and height in pixels"
      },
      "placement_status": {
        "type": "string",
        "description": "Placement status: success or adjusted"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Color Scheme Applier",
    "tool_description": "Applies cohesive color schemes across template elements including headers, borders, backgrounds, and text to match brand guidelines.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to apply color scheme to"
      },
      "color_palette": {
        "type": "array",
        "required": true,
        "description": "Color palette in hex format",
        "items": {"type": "string"},
        "minItems": 2,
        "maxItems": 6
      },
      "accent_color": {
        "type": "string",
        "required": false,
        "description": "Accent color for highlights in hex format",
        "default": "None"
      },
      "background_color": {
        "type": "string",
        "required": false,
        "description": "Background color in hex format",
        "default": "#FFFFFF"
      },
      "text_contrast": {
        "type": "string",
        "required": false,
        "description": "Text contrast level: low, medium, or high",
        "default": "high"
      }
    },
    "error_messages": [
      "Invalid template_id: Template not found or inaccessible.",
      "Invalid color format: All colors must be in hex format (#RRGGBB).",
      "Color palette size error: Must provide 2-6 colors in palette array.",
      "Poor color contrast: Selected colors may not provide sufficient readability.",
      "Invalid contrast level: Use one of [low, medium, high]."
    ],
    "usage": "Provide template_id and color_palette array. Optionally set accent_color, background_color, and text_contrast. Applies harmonious colors throughout the template.",
    "output_details": {
      "color_scheme_id": {
        "type": "string",
        "description": "Unique identifier for the applied color scheme"
      },
      "applied_colors": {
        "type": "array",
        "items": {"type": "string"},
        "description": "List of colors actually applied to template"
      },
      "contrast_score": {
        "type": "number",
        "description": "Color contrast accessibility score"
      },
      "scheme_status": {
        "type": "string",
        "description": "Color application status: complete or adjusted"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Template Validator",
    "tool_description": "Validates invoice templates for completeness, compliance, formatting consistency, and identifies potential issues before deployment.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to validate"
      },
      "validation_level": {
        "type": "string",
        "required": false,
        "description": "Validation depth: basic, standard, or comprehensive",
        "default": "standard"
      },
      "check_compliance": {
        "type": "boolean",
        "required": false,
        "description": "Check for business compliance requirements",
        "default": true
      },
      "check_accessibility": {
        "type": "boolean",
        "required": false,
        "description": "Validate accessibility standards",
        "default": false
      }
    },
    "error_messages": [
      "Invalid template_id: Template not found or inaccessible.",
      "Invalid validation_level: Use one of [basic, standard, comprehensive].",
      "Template incomplete: Template missing required components for validation.",
      "Validation timeout: Complex template validation exceeded time limit."
    ],
    "usage": "Provide template_id and optionally set validation_level and compliance checks. Performs thorough validation and returns detailed results with recommendations.",
    "output_details": {
      "validation_id": {
        "type": "string",
        "description": "Unique identifier for the validation session"
      },
      "overall_status": {
        "type": "string",
        "description": "Overall validation result: pass, warning, or fail"
      },
      "issues_found": {
        "type": "array",
        "items": {"type": "string"},
        "description": "List of issues or warnings identified"
      },
      "compliance_status": {
        "type": "string",
        "description": "Compliance check result if enabled"
      },
      "recommendations": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Recommended improvements or fixes"
      },
      "validation_score": {
        "type": "integer",
        "description": "Overall validation score out of 100"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Preview Generator",
    "tool_description": "Generates realistic preview renders of invoice templates using sample data to visualize final appearance and layout.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to generate preview for"
      },
      "sample_data_type": {
        "type": "string",
        "required": false,
        "description": "Type of sample data: basic, detailed, or custom",
        "default": "detailed"
      },
      "preview_format": {
        "type": "string",
        "required": false,
        "description": "Preview output format: pdf, png, or html",
        "default": "pdf"
      },
      "include_watermark": {
        "type": "boolean",
        "required": false,
        "description": "Add preview watermark to output",
        "default": true
      }
    },
    "error_messages": [
      "Invalid template_id: Template not found or incomplete.",
      "Invalid sample_data_type: Use one of [basic, detailed, custom].",
      "Invalid preview_format: Use one of [pdf, png, html].",
      "Preview generation failed: Template may be missing required elements.",
      "Template not ready: Complete template configuration before generating preview."
    ],
    "usage": "Provide template_id and optionally specify sample_data_type, preview_format, and watermark preference. Generates a realistic preview of the final invoice appearance.",
    "output_details": {
      "preview_id": {
        "type": "string",
        "description": "Unique identifier for the generated preview"
      },
      "preview_url": {
        "type": "string",
        "description": "URL or path to the preview file"
      },
      "file_size": {
        "type": "integer",
        "description": "Preview file size in bytes"
      },
      "generation_status": {
        "type": "string",
        "description": "Preview generation result: success or partial"
      },
      "preview_notes": {
        "type": "string",
        "description": "Additional notes about the preview generation"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Template Duplicator",
    "tool_description": "Creates copies of existing invoice templates for modification, versioning, or creating template variations.",
    "parameters": {
      "source_template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to duplicate"
      },
      "new_template_name": {
        "type": "string",
        "required": true,
        "description": "Name for the duplicated template"
      },
      "copy_settings": {
        "type": "boolean",
        "required": false,
        "description": "Include all styling and configuration settings",
        "default": true
      },
      "copy_branding": {
        "type": "boolean",
        "required": false,
        "description": "Include branding elements in the copy",
        "default": true
      }
    },
    "error_messages": [
      "Invalid source_template_id: Source template not found or inaccessible.",
      "Template name already exists: Choose a unique name for the new template.",
      "Duplication failed: Error occurred during template copying process.",
      "New template name too long: Keep template name under 50 characters.",
      "Empty template name: Provide a non-empty name for the duplicated template."
    ],
    "usage": "Provide source_template_id and new_template_name. Optionally specify what elements to copy. Creates an independent copy ready for modification.",
    "output_details": {
      "new_template_id": {
        "type": "string",
        "description": "Unique identifier for the duplicated template"
      },
      "duplication_summary": {
        "type": "string",
        "description": "Summary of elements copied to new template"
      },
      "copy_status": {
        "type": "string",
        "description": "Duplication result: complete or partial"
      },
      "copied_elements": {
        "type": "array",
        "items": {"type": "string"},
        "description": "List of template elements successfully copied"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Version Manager",
    "tool_description": "Manages template versioning including creating versions, tracking changes, and maintaining version history for invoice templates.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to manage versions for"
      },
      "action": {
        "type": "string",
        "required": true,
        "description": "Version action: create, list, restore, or delete"
      },
      "version_name": {
        "type": "string",
        "required": false,
        "description": "Name for new version (required for create action)",
        "default": "None"
      },
      "version_notes": {
        "type": "string",
        "required": false,
        "description": "Notes describing version changes",
        "default": "None"
      },
      "target_version": {
        "type": "string",
        "required": false,
        "description": "Target version ID for restore/delete actions",
        "default": "None"
      }
    },
    "error_messages": [
      "Invalid template_id: Template not found or inaccessible.",
      "Invalid action: Use one of [create, list, restore, delete].",
      "Version name required: Provide version_name when creating new version.",
      "Version not found: Target version does not exist.",
      "Version creation failed: Error occurred during version creation.",
      "Cannot delete active version: Active template version cannot be deleted."
    ],
    "usage": "Provide template_id and action. For create action, include version_name and optional notes. For restore/delete actions, specify target_version. Manages comprehensive version control.",
    "output_details": {
      "operation_result": {
        "type": "string",
        "description": "Result of the version management operation"
      },
      "version_list": {
        "type": "array",
        "items": {"type": "string"},
        "description": "List of available versions (for list action)"
      },
      "active_version": {
        "type": "string",
        "description": "Currently active version identifier"
      },
      "version_count": {
        "type": "integer",
        "description": "Total number of versions for this template"
      },
      "last_modified": {
        "type": "string",
        "format": "date-time",
        "description": "Timestamp of last version modification"
      }
    }
  }
  ```

  ```json
  {
    "tool_name": "Export Controller",
    "tool_description": "Exports finalized invoice templates to various formats and systems for deployment and integration with invoice generation workflows.",
    "parameters": {
      "template_id": {
        "type": "string",
        "required": true,
        "description": "Template identifier to export"
      },
      "export_formats": {
        "type": "array",
        "required": true,
        "description": "Output formats for export",
        "items": {"type": "string"},
        "minItems": 1,
        "maxItems": 5
      },
      "include_assets": {
        "type": "boolean",
        "required": false,
        "description": "Include associated assets (logos, fonts) in export",
        "default": true
      },
      "compression": {
        "type": "boolean",
        "required": false,
        "description": "Apply compression to export package",
        "default": false
      },
      "export_destination": {
        "type
